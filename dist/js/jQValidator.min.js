/*********
***
*** jQValidator.min.js
*** 可以兼容ie7+以上的ie浏览器及现代主流浏览器
*** version 2.1
***
******/
(function(b){var a=function(e,c){this.$form=b(e);this.options=b.extend({},b.fn.jQValidator._defaults,c);this.$invalidFields=b([]);this.$submitButton=null;this.$hiddenButton=null;this.STATUS_NOT_VALIDATED="NOT_VALIDATED";this.STATUS_VALIDATING="VALIDATING";this.STATUS_INVALID="INVALID";this.STATUS_VALID="VALID";var f=(function(){var h=3,j=document.createElement("div"),g=j.all||[];while(j.innerHTML="<!--[if gt IE "+(++h)+"]><br><![endif]-->",g[0]){}return h>4?h:!h}());var d=document.createElement("div");this._changeEvent=(f===9||!("oninput" in d))?"keyup":"input";this._submitIfValid=null;this._cacheFields={};this._init()};a.prototype={constructor:a,_init:function(){var d=this,c={autoFocus:this.$form.attr("data-bv-autofocus"),clearButton:this.$form.attr("data-bv-clearButton"),container:this.$form.attr("data-bv-container"),singleVis:this.$form.attr("data-bv-singleVis"),tipsWay:this.$form.attr("data-bv-tipsWay"),events:{formInit:this.$form.attr("data-bv-events-form-init"),formError:this.$form.attr("data-bv-events-form-error"),formSuccess:this.$form.attr("data-bv-events-form-success"),fieldAdded:this.$form.attr("data-bv-events-field-added"),fieldRemoved:this.$form.attr("data-bv-events-field-removed"),fieldInit:this.$form.attr("data-bv-events-field-init"),fieldError:this.$form.attr("data-bv-events-field-error"),fieldSuccess:this.$form.attr("data-bv-events-field-success"),fieldStatus:this.$form.attr("data-bv-events-field-status"),validatorError:this.$form.attr("data-bv-events-validator-error"),validatorSuccess:this.$form.attr("data-bv-events-validator-success")},excluded:this.$form.attr("data-bv-excluded"),feedbackIcons:{valid:this.$form.attr("data-bv-feedbackicons-valid"),invalid:this.$form.attr("data-bv-feedbackicons-invalid"),validating:this.$form.attr("data-bv-feedbackicons-validating")},group:this.$form.attr("data-bv-group"),live:this.$form.attr("data-bv-live"),language:this.$form.attr("data-bv-language"),message:this.$form.attr("data-bv-message"),onError:this.$form.attr("data-bv-onerror"),onSuccess:this.$form.attr("data-bv-onsuccess"),submitButtons:this.$form.attr("data-bv-submitbuttons"),threshold:this.$form.attr("data-bv-threshold"),trigger:this.$form.attr("data-bv-trigger"),verbose:this.$form.attr("data-bv-verbose"),fields:{}};b(".form-control").val("").off(this._changeEvent).on(this._changeEvent,function(){var j=d.options.group,f=d.options.clearButton,k=b(this).val(),h=b(this).attr("type");if(k.length>0){if(h=="text"||h=="password"||h==null){var g=b.trim(k);if(k.length>g.length){b(this).val(g)}}b(this).parents(j).find(f).css("display","block")}else{b(this).parents(j).find(f).hide()}});this.$form.attr("novalidate","novalidate").addClass(this.options.elementClass).on("submit.bv",function(f){f.preventDefault();d.validate()}).on("click.bv",this.options.submitButtons,function(){d.$submitButton=b(this);d._submitIfValid=true}).find("[name], [data-bv-field]").each(function(){var f=b(this),h=f.attr("name")||f.attr("data-bv-field"),g=d._parseOptions(f);if(g){f.attr("data-bv-field",h);c.fields[h]=b.extend({},g,c.fields[h])}});this.$form.find(this.options.clearButton).each(function(){var f=b(this),g=f.parent().find("[name], [data-bv-field]"),h=g.attr("name")||g.attr("data-bv-field");f.attr("data-clear-for",h);d.clearField(g,f)});this.options=b.extend(true,this.options,c);this.$hiddenButton=b("<button/>").attr("type","submit").prependTo(this.$form).addClass("bv-hidden-submit").css({display:"none",width:0,height:0});this.$form.on("click.bv",'[type="submit"]',function(h){if(!h.isDefaultPrevented()){var f=b(h.target),g=f.is('[type="submit"]')?f.eq(0):f.parent('[type="submit"]').eq(0);if(d.options.submitButtons&&!g.is(d.options.submitButtons)&&!g.is(d.$hiddenButton)){d.$form.off("submit.bv").submit()}}});for(var e in this.options.fields){this._initField(e)}},_parseOptions:function(l){var o=l.attr("name")||l.attr("data-bv-field"),f={},d,p,k,j,e,g,n,q,m;for(p in b.fn.jQValidator.validators){d=b.fn.jQValidator.validators[p];k="data-bv-"+p.toLowerCase(),j=l.attr(k)+"";m=("function"===typeof d.enableByHtml5)?d.enableByHtml5(l):null;if((m&&j!=="false")||(m!==true&&(""===j||"true"===j||k===j.toLowerCase()))){d.html5Attributes=b.extend({},{message:"message",onerror:"onError",onsuccess:"onSuccess"},d.html5Attributes);f[p]=b.extend({},m===true?{}:m,f[p]);for(q in d.html5Attributes){e=d.html5Attributes[q];g="data-bv-"+p.toLowerCase()+"-"+q,n=l.attr(g);if(n){if("true"===n||g===n.toLowerCase()){n=true}else{if("false"===n){n=false}}f[p][e]=n}}}}var c={autoFocus:l.attr("data-bv-autofocus"),clearButton:l.attr("data-bv-clearButton"),container:l.attr("data-bv-container"),singleVis:l.attr("data-bv-singleVis"),tipsWay:l.attr("data-bv-tipsWay"),excluded:l.attr("data-bv-excluded"),feedbackIcons:l.attr("data-bv-feedbackicons"),group:l.attr("data-bv-group"),language:l.attr("data-bv-language"),message:l.attr("data-bv-message"),onError:l.attr("data-bv-onerror"),onStatus:l.attr("data-bv-onstatus"),onSuccess:l.attr("data-bv-onsuccess"),selector:l.attr("data-bv-selector"),threshold:l.attr("data-bv-threshold"),trigger:l.attr("data-bv-trigger"),verbose:l.attr("data-bv-verbose"),validators:f},r=b.isEmptyObject(c),h=b.isEmptyObject(f);
if(!h||(!r&&this.options.fields&&this.options.fields[o])){c.validators=f;return c}else{return null}},_initField:function(f){var q=b([]);switch(typeof f){case"object":q=f;f=f.attr("data-bv-field");break;case"string":q=this.getFieldElements(f);q.attr("data-bv-field",f);break;default:break}if(q.length===0){return}if(this.options.fields[f]===null||this.options.fields[f].validators===null){return}var p;for(p in this.options.fields[f].validators){if(!b.fn.jQValidator.validators[p]){delete this.options.fields[f].validators[p]}}if(this.options.fields[f].enabled===null){this.options.fields[f].enabled=true}var k=this,u=q.length,j=q.attr("type"),g=(u===1)||("radio"===j)||("checkbox"===j),s=("radio"===j||"checkbox"===j||"file"===j||"SELECT"===q.eq(0).get(0).tagName)?"change":this._changeEvent,n=(this.options.fields[f].trigger||this.options.trigger||s).split(" "),e=b.map(n,function(v){return v+".update.bv"}).join(" ");for(var t=0;t<u;t++){var r=q.eq(t),l=this.options.fields[f].group||this.options.group,o=r.parents(l),m=this.options.clearButton;container=("function"===typeof(this.options.fields[f].container||this.options.container))?(this.options.fields[f].container||this.options.container).call(this,r,this):(this.options.fields[f].container||this.options.container),isShowNormal=this.options.tipsWay=="normal"?true:false,$message=(container)?b(container):this._getMessageContainer(r,l);if(container){$message.addClass("has-error")}$message.find('.help-block[data-bv-validator][data-bv-for="'+f+'"]').remove();o.find('i[data-bv-icon-for="'+f+'"]').remove();r.off(e).on(e,function(){var y=b(this).val(),x=b(this).attr("type");if(y.length>0){if(x=="text"||x=="password"||x=="number"||x=="email"||x=="tel"||x==null){var w=b.trim(y);if(y.length>w.length){b(this).val(w)}}o.find(m).css("display","block")}else{o.find(m).hide()}if(container&&!isShowNormal){b(container).hide()}if(k.options.fields[f].validators["phone"]){b(this).val(y.replace(/[^\d]/g,""))}if(k.options.fields[f].validators["idCard"]){if(y.length<18){b(this).val(y.replace(/[^\d]/g,""))}else{if(y.length==18){var w=y.substring(0,17),v=y.substring(17,18);b(this).val(w+v.replace(/[^X\d]/g,""))}else{var w=y.substring(0,18);b(this).val(w)}}}k.updateStatus(b(this),k.STATUS_NOT_VALIDATED)});r.data("bv.messages",$message);for(p in this.options.fields[f].validators){r.data("bv.result."+p,this.STATUS_NOT_VALIDATED);if(!g||t===u-1){b("<div/>").css("display","none").addClass("help-block").attr("data-bv-validator",p).attr("data-bv-for",f).attr("data-bv-result",this.STATUS_NOT_VALIDATED).html(this._getMessage(f,p)).appendTo($message)}if("function"===typeof b.fn.jQValidator.validators[p].init){b.fn.jQValidator.validators[p].init(this,r,this.options.fields[f].validators[p])}}if(container){var h=this.options.tipsWay;if(this.options.tipsWay=="tooltip"){b(container).addClass("frm-tooltip");r.off("blur.container.bv").on("blur.container.bv",function(){k._isTooltip(f)})}else{b(container).removeClass("frm-tooltip")}}if(this.options.fields[f].feedbackIcons!==false&&this.options.fields[f].feedbackIcons!=="false"&&this.options.feedbackIcons&&this.options.feedbackIcons.validating&&this.options.feedbackIcons.invalid&&this.options.feedbackIcons.valid&&(!g||t===u-1)){o.addClass("has-feedback");var d=b("<i/>").css("display","none").addClass("form-control-feedback").attr("data-bv-icon-for",f).insertAfter(r);if("checkbox"===j||"radio"===j){var c=r.parent();if(c.hasClass(j)){d.insertAfter(c)}else{if(c.parent().hasClass(j)){d.insertAfter(c.parent())}}}if(o.find("label").length===0){d.addClass("bv-no-label")}if(o.find(".input-group").length!==0){d.addClass("bv-icon-input-group").insertAfter(o.find(".input-group").eq(0))}if(!g){r.data("bv.icon",d)}else{if(t===u-1){q.data("bv.icon",d)}}}}q.on(this.options.events.fieldSuccess,function(w,v){var x=k.getOptions(v.field,null,"onSuccess");if(x){b.fn.jQValidator.helpers.call(x,[w,v])}}).on(this.options.events.fieldError,function(x,w){var v=k.getOptions(w.field,null,"onError");if(v){b.fn.jQValidator.helpers.call(v,[x,w])}}).on(this.options.events.fieldStatus,function(x,w){var v=k.getOptions(w.field,null,"onStatus");if(v){b.fn.jQValidator.helpers.call(v,[x,w])}}).on(this.options.events.validatorError,function(x,w){var v=k.getOptions(w.field,w.validator,"onError");if(v){b.fn.jQValidator.helpers.call(v,[x,w])}}).on(this.options.events.validatorSuccess,function(w,v){var x=k.getOptions(v.field,v.validator,"onSuccess");if(x){b.fn.jQValidator.helpers.call(x,[w,v])}});e=b.map(n,function(v){return v+".live.bv"}).join(" ");switch(this.options.live){case"submitted":break;case"disabled":q.off(e);break;case"blurred":q.off(e).on("blur",function(){if(k._exceedThreshold(b(this))){k.validateField(b(this))}});break;case"enabled":default:q.off(e).on(e,function(){if(k._exceedThreshold(b(this))){k.validateField(b(this))}});break}q.trigger(b.Event(this.options.events.fieldInit),{bv:this,field:f,element:q})},_isTooltip:function(f){var e=this.options.container,g=b('.help-block[data-bv-for="'+f+'"][data-bv-result="'+this.STATUS_INVALID+'"]');
this.$form.find(".help-block[data-bv-validator]").hide();if(g.length>0){g.first().show();var d=b(e).outerWidth()/2*(-1);var c=(/msie [6|7|8]/i.test(navigator.userAgent))?d:0;b(e).css("margin-left",c).stop(true,true).fadeIn(500,function(){setTimeout(function(){b(e).fadeOut(500)},3000)})}else{b(e).hide()}},_getMessage:function(e,d){if(!this.options.fields[e]||!b.fn.jQValidator.validators[d]||!this.options.fields[e].validators||!this.options.fields[e].validators[d]){return""}var c=this.options.fields[e].validators[d];switch(true){case (!!c.message):return c.message;case (!!this.options.fields[e].message):return this.options.fields[e].message;case (!!b.fn.jQValidator.i18n[d]):return b.fn.jQValidator.i18n[d]["default"];default:return this.options.message}},_getMessageContainer:function(f,j){var h=f.parent();if(h.is(j)){return h}var d=h.attr("class");if(!d){return this._getMessageContainer(h,j)}else{var g=(d=="form-group-cell")?true:false,e=(d=="form-group-bd")?true:false;if(!g&&!e){return this._getMessageContainer(h,j)}}d=d.split(" ");var k=d.length;for(var c=0;c<k;c++){if(/^col-(xs|sm|md|lg)-\d+$/.test(d[c])||/^col-(xs|sm|md|lg)-offset-\d+$/.test(d[c])||/^form-group-cell/||/^form-group-bd/){return h}}return this._getMessageContainer(h,j)},_submit:function(){var f=this.isValid(),c=f?this.options.events.formSuccess:this.options.events.formError,d=b.Event(c);this.$form.trigger(d);if(this.$submitButton){f?this._onSuccess(d):this._onError(d)}},_isExcluded:function(d){var g=d.attr("data-bv-excluded"),f=d.attr("data-bv-field")||d.attr("name");switch(true){case (!!f&&this.options.fields&&this.options.fields[f]&&(this.options.fields[f].excluded==="true"||this.options.fields[f].excluded===true)):case (g==="true"):case (g===""):return true;case (!!f&&this.options.fields&&this.options.fields[f]&&(this.options.fields[f].excluded==="false"||this.options.fields[f].excluded===false)):case (g==="false"):return false;default:if(this.options.excluded){if("string"===typeof this.options.excluded){this.options.excluded=b.map(this.options.excluded.split(","),function(h){return b.trim(h)})}var e=this.options.excluded.length;for(var c=0;c<e;c++){if(("string"===typeof this.options.excluded[c]&&d.is(this.options.excluded[c]))||("function"===typeof this.options.excluded[c]&&this.options.excluded[c].call(this,d,this)===true)){return true}}}return false}},_exceedThreshold:function(e){var f=e.attr("data-bv-field"),c=this.options.fields[f].threshold||this.options.threshold;if(!c){return true}var d=b.inArray(e.attr("type"),["button","checkbox","file","hidden","image","radio","reset","submit"])!==-1;return(d||e.val().length>=c)},_onError:function(j){if(j.isDefaultPrevented()){return}if("submitted"===this.options.live){this.options.live="enabled";var g=this;for(var h in this.options.fields){(function(o){var e=g.getFieldElements(o);if(e.length){var m=b(e[0]).attr("type"),n=("radio"===m||"checkbox"===m||"file"===m||"SELECT"===b(e[0]).get(0).tagName)?"change":g._changeEvent,k=g.options.fields[h].trigger||g.options.trigger||n,l=b.map(k.split(" "),function(p){return p+".live.bv"}).join(" ");e.off(l).on(l,function(){if(g._exceedThreshold(b(this))){g.validateField(b(this))}})}})(h)}}for(var c=0;c<this.$invalidFields.length;c++){var f=this.$invalidFields.eq(c),d=this._isOptionEnabled(f.attr("data-bv-field"),"autoFocus");if(d){f.focus();break}}},_onSuccess:function(c){if(c.isDefaultPrevented()){return}this.disableSubmitButtons(true).defaultSubmit()},_onFieldValidated:function(g,d){var h=g.attr("data-bv-field"),e=this.options.fields[h].validators,c={},l=0,f={bv:this,field:h,element:g,validator:d,result:g.data("bv.response."+d)};if(d){switch(g.data("bv.result."+d)){case this.STATUS_INVALID:g.trigger(b.Event(this.options.events.validatorError),f);break;case this.STATUS_VALID:g.trigger(b.Event(this.options.events.validatorSuccess),f);break;default:break}}c[this.STATUS_NOT_VALIDATED]=0;c[this.STATUS_VALIDATING]=0;c[this.STATUS_INVALID]=0;c[this.STATUS_VALID]=0;for(var j in e){if(e[j].enabled===false){continue}l++;var k=g.data("bv.result."+j);if(k){c[k]++}}if(c[this.STATUS_VALID]===l){this.$invalidFields=this.$invalidFields.not(g);g.trigger(b.Event(this.options.events.fieldSuccess),f)}else{if((c[this.STATUS_NOT_VALIDATED]===0||!this._isOptionEnabled(h,"verbose"))&&c[this.STATUS_VALIDATING]===0&&c[this.STATUS_INVALID]>0){this.$invalidFields=this.$invalidFields.add(g);g.trigger(b.Event(this.options.events.fieldError),f)}}},_isOptionEnabled:function(d,c){if(this.options.fields[d]&&(this.options.fields[d][c]==="true"||this.options.fields[d][c]===true)){return true}if(this.options.fields[d]&&(this.options.fields[d][c]==="false"||this.options.fields[d][c]===false)){return false}return this.options[c]==="true"||this.options[c]===true},getFieldElements:function(c){if(!this._cacheFields[c]){this._cacheFields[c]=(this.options.fields[c]&&this.options.fields[c].selector)?b(this.options.fields[c].selector):this.$form.find('[name="'+c+'"]')}return this._cacheFields[c]},getOptions:function(f,d,e){if(!f){return e?this.options[e]:this.options
}if("object"===typeof f){f=f.attr("data-bv-field")}if(!this.options.fields[f]){return null}var c=this.options.fields[f];if(!d){return e?c[e]:c}if(!c.validators||!c.validators[d]){return null}return e?c.validators[d][e]:c.validators[d]},disableSubmitButtons:function(c){if(!c){this.$form.find(this.options.submitButtons).removeAttr("disabled")}else{if(this.options.live!=="disabled"){this.$form.find(this.options.submitButtons).attr("disabled","disabled")}}return this},validate:function(){if(!this.options.fields){return this}this.disableSubmitButtons(true);this._submitIfValid=false;for(var c in this.options.fields){this.validateField(c)}this._submit();this._submitIfValid=true;return this},validateField:function(r){var k=b([]);switch(typeof r){case"object":k=r;r=r.attr("data-bv-field");break;case"string":k=this.getFieldElements(r);break;default:break}if(k.length===0||!this.options.fields[r]||this.options.fields[r].enabled===false){return this}var l=this,m=k.attr("type"),p=("radio"===m||"checkbox"===m)?1:k.length,c=("radio"===m||"checkbox"===m),f=this.options.fields[r].validators,g=this._isOptionEnabled(r,"verbose"),e,d;for(var h=0;h<p;h++){var o=k.eq(h);if(this._isExcluded(o)){continue}var n=false;for(e in f){if(o.data("bv.dfs."+e)){o.data("bv.dfs."+e).reject()}if(n){break}var s=o.data("bv.result."+e);if(s===this.STATUS_VALID||s===this.STATUS_INVALID){this._onFieldValidated(o,e);continue}else{if(f[e].enabled===false){this.updateStatus(c?r:o,this.STATUS_VALID,e);continue}}o.data("bv.result."+e,this.STATUS_VALIDATING);d=b.fn.jQValidator.validators[e].validate(this,o,f[e]);if("object"===typeof d&&d.resolve){this.updateStatus(c?r:o,this.STATUS_VALIDATING,e);o.data("bv.dfs."+e,d);d.done(function(w,u,t){w.removeData("bv.dfs."+u).data("bv.response."+u,t);if(t.message){l.updateMessage(w,u,t.message)}l.updateStatus(c?w.attr("data-bv-field"):w,t.valid?l.STATUS_VALID:l.STATUS_INVALID,u);if(t.valid&&l._submitIfValid===true){l._submit()}else{if(!t.valid&&!g){n=true}}})}else{if("object"===typeof d&&d.valid!==undefined&&d.message!==undefined){o.data("bv.response."+e,d);this.updateMessage(c?r:o,e,d.message);this.updateStatus(c?r:o,d.valid?this.STATUS_VALID:this.STATUS_INVALID,e);if(!d.valid&&!g){break}}else{if("boolean"===typeof d){o.data("bv.response."+e,d);this.updateStatus(c?r:o,d?this.STATUS_VALID:this.STATUS_INVALID,e);if(!d&&!g){break}}}}}}if(this.options.singleVis){var j=b('.help-block[data-bv-for="'+r+'"][data-bv-result="'+this.STATUS_INVALID+'"]'),q=j.length;this.$form.find(".help-block[data-bv-validator]").hide();j.first().show()}return this},updateMessage:function(f,d,e){var c=b([]);switch(typeof f){case"object":c=f;f=f.attr("data-bv-field");break;case"string":c=this.getFieldElements(f);break;default:break}c.each(function(){b(this).data("bv.messages").find('.help-block[data-bv-validator="'+d+'"][data-bv-for="'+f+'"]').html(e)})},updateStatus:function(d,r,m){var o=b([]);switch(typeof d){case"object":o=d;d=d.attr("data-bv-field");break;case"string":o=this.getFieldElements(d);break;default:break}if(r===this.STATUS_NOT_VALIDATED){this._submitIfValid=false}var f=this,e=o.attr("type"),g=this.options.fields[d].group||this.options.group,u=("radio"===e||"checkbox"===e)?1:o.length;for(var s=0;s<u;s++){var p=o.eq(s);if(this._isExcluded(p)){continue}var k=p.parents(g),t=p.data("bv.messages"),q=t.find('.help-block[data-bv-validator][data-bv-for="'+d+'"]'),l=m?q.filter('[data-bv-validator="'+m+'"]'):q,c=p.data("bv.icon"),j=("function"===typeof(this.options.fields[d].container||this.options.container))?(this.options.fields[d].container||this.options.container).call(this,p,this):(this.options.fields[d].container||this.options.container),n=null;if(m){p.data("bv.result."+m,r)}else{for(var h in this.options.fields[d].validators){p.data("bv.result."+h,r)}}l.attr("data-bv-result",r);switch(r){case this.STATUS_VALIDATING:n=null;this.disableSubmitButtons(true);k.removeClass("has-success").removeClass("has-error");if(c){c.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).addClass(this.options.feedbackIcons.validating).show()}break;case this.STATUS_INVALID:n=false;this.disableSubmitButtons(true);k.removeClass("has-success").addClass("has-error");if(c){c.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.validating).addClass(this.options.feedbackIcons.invalid).show()}break;case this.STATUS_VALID:n=(q.filter('[data-bv-result="'+this.STATUS_NOT_VALIDATED+'"]').length===0)?(q.filter('[data-bv-result="'+this.STATUS_VALID+'"]').length===q.length):null;if(n!==null){this.disableSubmitButtons(this.$submitButton?!this.isValid():!n);if(c){c.removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).removeClass(this.options.feedbackIcons.valid).addClass(n?this.options.feedbackIcons.valid:this.options.feedbackIcons.invalid).show()}}k.removeClass("has-error has-success").addClass(this.isValidContainer(k)?"has-success":"has-error");break;case this.STATUS_NOT_VALIDATED:default:n=null;
this.disableSubmitButtons(false);k.removeClass("has-success").removeClass("has-error");if(c){c.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).hide()}break}if(true){(r===this.STATUS_INVALID)?l.show():l.hide()}p.trigger(b.Event(this.options.events.fieldStatus),{bv:this,field:d,element:p,status:r});this._onFieldValidated(p,m)}return this},isValid:function(){for(var j in this.options.fields){if(!this.isValidField(j)){for(var e=0;e<this.$invalidFields.length;e++){var h=this.$invalidFields.eq(e),g=h.parents(this.options.group),f=this._isOptionEnabled(h.attr("data-bv-field"),"autoFocus"),d=this.options.singleVis,c=(this.options.tipsWay=="tooltip")?true:false;if(d){this.$form.find(".help-block[data-bv-validator]").hide();this.$form.find('.help-block[data-bv-for="'+j+'"][data-bv-result="'+this.STATUS_INVALID+'"]').first().show()}if(c){this._isTooltip(j)}if(f){h.focus();break}}return false}}return true},isValidField:function(k){var c=b([]);switch(typeof k){case"object":c=k;k=k.attr("data-bv-field");break;case"string":c=this.getFieldElements(k);break;default:break}if(c.length===0||!this.options.fields[k]||this.options.fields[k].enabled===false){return true}var h=c.attr("type"),j=("radio"===h||"checkbox"===h)?1:c.length,g,f,d;for(var e=0;e<j;e++){g=c.eq(e);if(this._isExcluded(g)){continue}for(f in this.options.fields[k].validators){if(this.options.fields[k].validators[f].enabled===false){continue}d=g.data("bv.result."+f);if(d!==this.STATUS_VALID){return false}}}return true},isValidContainer:function(c){var e=this,g={},h=("string"===typeof c)?b(c):c;if(h.length===0){return true}h.find("[data-bv-field]").each(function(){var j=b(this),k=j.attr("data-bv-field");if(!e._isExcluded(j)&&!g[k]){g[k]=j}});for(var f in g){var d=g[f];if(d.data("bv.messages").find('.help-block[data-bv-validator][data-bv-for="'+f+'"]').filter('[data-bv-result="'+this.STATUS_INVALID+'"]').length>0){return false}}return true},defaultSubmit:function(){if(this.$submitButton){b("<input/>").attr("type","hidden").attr("data-bv-submit-hidden","").attr("name",this.$submitButton.attr("name")).val(this.$submitButton.val()).appendTo(this.$form)}this.$form.off("submit.bv").submit()},getInvalidFields:function(){return this.$invalidFields},getSubmitButton:function(){return this.$submitButton},getMessages:function(l,d){var j=this,h=[],c=b([]);switch(true){case (l&&"object"===typeof l):c=l;break;case (l&&"string"===typeof l):var k=this.getFieldElements(l);if(k.length>0){var g=k.attr("type");c=("radio"===g||"checkbox"===g)?k.eq(0):k}break;default:c=this.$invalidFields;break}var e=d?'[data-bv-validator="'+d+'"]':"";c.each(function(){h=h.concat(b(this).data("bv.messages").find('.help-block[data-bv-for="'+b(this).attr("data-bv-field")+'"][data-bv-result="'+j.STATUS_INVALID+'"]'+e).map(function(){var m=b(this).attr("data-bv-validator"),n=b(this).attr("data-bv-for");return(j.options.fields[n].validators[m].enabled===false)?"":b(this).html()}).get())});return h},updateOption:function(f,c,d,e){if("object"===typeof f){f=f.attr("data-bv-field")}if(this.options.fields[f]&&this.options.fields[f].validators[c]){this.options.fields[f].validators[c][d]=e;this.updateStatus(f,this.STATUS_NOT_VALIDATED,c)}return this},addField:function(k,d){var c=b([]);switch(typeof k){case"object":c=k;k=k.attr("data-bv-field")||k.attr("name");break;case"string":delete this._cacheFields[k];c=this.getFieldElements(k);break;default:break}c.attr("data-bv-field",k);var g=c.attr("type"),j=("radio"===g||"checkbox"===g)?1:c.length;for(var e=0;e<j;e++){var f=c.eq(e);var h=this._parseOptions(f);h=(h===null)?d:b.extend(true,d,h);this.options.fields[k]=b.extend(true,this.options.fields[k],h);this._cacheFields[k]=this._cacheFields[k]?this._cacheFields[k].add(f):f;this._initField(("checkbox"===g||"radio"===g)?k:f)}this.disableSubmitButtons(false);this.$form.trigger(b.Event(this.options.events.fieldAdded),{field:k,element:c,options:this.options.fields[k]});return this},removeField:function(h){var c=b([]);switch(typeof h){case"object":c=h;h=h.attr("data-bv-field")||h.attr("name");c.attr("data-bv-field",h);break;case"string":c=this.getFieldElements(h);break;default:break}if(c.length===0){return this}var f=c.attr("type"),g=("radio"===f||"checkbox"===f)?1:c.length;for(var d=0;d<g;d++){var e=c.eq(d);this.$invalidFields=this.$invalidFields.not(e);this._cacheFields[h]=this._cacheFields[h].not(e)}if(!this._cacheFields[h]||this._cacheFields[h].length===0){delete this.options.fields[h]}if("checkbox"===f||"radio"===f){this._initField(h)}this.disableSubmitButtons(false);this.$form.trigger(b.Event(this.options.events.fieldRemoved),{field:h,element:c});return this},clearField:function(j,k){var g=j,e=k,j=j.attr("name")||j.attr("data-bv-field"),d=this.options.singleVis;var h=this,f="notEmpty",c=this.options;e.on("click.bv",function(){g.val("").focus();if(d){this.$form.find(".help-block[data-bv-validator]").hide();this.$form.find('.help-block[data-bv-for="'+j+'"][data-bv-result="'+f+'"]').show()
}b(this).hide();if(c.fields[j]===null||c.fields[j].validators===null){return}if(c.fields[j].validators[f]===null){return}else{h.updateStatus(g,h.STATUS_INVALID,f)}});return this},resetField:function(j,c){var d=b([]);switch(typeof j){case"object":d=j;j=j.attr("data-bv-field");break;case"string":d=this.getFieldElements(j);break;default:break}var h=d.length;if(this.options.fields[j]){for(var f=0;f<h;f++){for(var e in this.options.fields[j].validators){d.eq(f).removeData("bv.dfs."+e)}}}this.updateStatus(j,this.STATUS_NOT_VALIDATED);if(c){var g=d.attr("type");("radio"===g||"checkbox"===g)?d.removeAttr("checked").removeAttr("selected"):d.val("")}return this},resetForm:function(c){for(var d in this.options.fields){this.resetField(d,c)}this.$invalidFields=b([]);this.$submitButton=null;this.destroy();this.$form.find(".form-control").val("").text("");b(this.options.clearButton).hide();this.disableSubmitButtons(false);return this},revalidateField:function(c){this.updateStatus(c,this.STATUS_NOT_VALIDATED).validateField(c);return this},enableFieldValidators:function(g,e,f){var c=this.options.fields[g].validators;if(f&&c&&c[f]&&c[f].enabled!==e){this.options.fields[g].validators[f].enabled=e;this.updateStatus(g,this.STATUS_NOT_VALIDATED,f)}else{if(!f&&this.options.fields[g].enabled!==e){this.options.fields[g].enabled=e;for(var d in c){this.enableFieldValidators(g,e,d)}}}return this},getDynamicOption:function(g,e){var d=("string"===typeof g)?this.getFieldElements(g):g,f=d.val();if("function"===typeof e){return b.fn.jQValidator.helpers.call(e,[f,this,d])}else{if("string"===typeof e){var c=this.getFieldElements(e);if(c.length){return c.val()}else{return b.fn.jQValidator.helpers.call(e,[f,this,d])||e}}}return null},destroy:function(){var k,c,h,g,e,j;for(k in this.options.fields){c=this.getFieldElements(k);j=this.options.fields[k].group||this.options.group;for(var f=0;f<c.length;f++){h=c.eq(f);h.data("bv.messages").find('.help-block[data-bv-validator][data-bv-for="'+k+'"]').remove().end().end().removeData("bv.messages").parents(j).removeClass("has-feedback has-error has-success").end().off(".bv").removeAttr("data-bv-field");e=h.data("bv.icon");if(e){var d=("function"===typeof(this.options.fields[k].container||this.options.container))?(this.options.fields[k].container||this.options.container).call(this,h,this):(this.options.fields[k].container||this.options.container);e.remove()}h.removeData("bv.icon");for(g in this.options.fields[k].validators){if(h.data("bv.dfs."+g)){h.data("bv.dfs."+g).reject()}h.removeData("bv.result."+g).removeData("bv.response."+g).removeData("bv.dfs."+g);if("function"===typeof b.fn.jQValidator.validators[g].destroy){b.fn.jQValidator.validators[g].destroy(this,h,this.options.fields[k].validators[g])}}}}this.disableSubmitButtons(false);this.$hiddenButton.remove();this.$form.removeClass(this.options.elementClass).off(".bv").removeData("jQValidator").find("[data-bv-submit-hidden]").remove().end().find('[type="submit"]').off("click.bv")}};b.fn.jQValidator=function(c){var d=arguments;return this.each(function(){var g=b(this),f=g.data("jQValidator"),e="object"===typeof c&&c;if(!f){f=new a(this,e);g.data("jQValidator",f)}if("string"===typeof c){f[c].apply(f,Array.prototype.slice.call(d,1))}})};b.fn.jQValidator._defaults={autoFocus:true,clearButton:null,container:null,singleVis:true,tipsWay:"normal",elementClass:"bv-form",events:{formInit:"init.form.bv",formError:"error.form.bv",formSuccess:"success.form.bv",fieldAdded:"added.field.bv",fieldRemoved:"removed.field.bv",fieldInit:"init.field.bv",fieldError:"error.field.bv",fieldSuccess:"success.field.bv",fieldStatus:"status.field.bv",validatorError:"error.validator.bv",validatorSuccess:"success.validator.bv"},excluded:[":disabled",":hidden",":not(:visible)"],fields:null,group:".form-group",live:"enabled",message:"This value is not valid",language:"cn",submitButtons:'[type="submit"]',threshold:null,verbose:true};b.fn.jQValidator.validators={};b.fn.jQValidator.i18n={};b.fn.jQValidator.Constructor=a;b.fn.jQValidator.helpers={call:function(h,c){if("function"===typeof h){return h.apply(this,c)}else{if("string"===typeof h){if("()"===h.substring(h.length-2)){h=h.substring(0,h.length-2)}var f=h.split("."),g=f.pop(),e=window;for(var d=0;d<f.length;d++){e=e[f[d]]}return(typeof e[g]==="undefined")?null:e[g].apply(this,c)}}},format:function(e,d){if(!b.isArray(d)){d=[d]}for(var c in d){e=e.replace("%s",d[c])}return e},date:function(j,g,k,l){if(isNaN(j)||isNaN(g)||isNaN(k)){return false}if(k.length>2||g.length>2||j.length>4){return false}k=parseInt(k,10);g=parseInt(g,10);j=parseInt(j,10);if(j<1000||j>9999||g<=0||g>12){return false}var d=[31,28,31,30,31,30,31,31,30,31,30,31];if(j%400===0||(j%100!==0&&j%4===0)){d[1]=29}if(k<=0||k>d[g-1]){return false}if(l===true){var c=new Date(),e=c.getFullYear(),h=c.getMonth(),f=c.getDate();return(j<e||(j===e&&g-1<h)||(j===e&&g-1===h&&k<f))}return true},luhn:function(f){var e=f.length,g=0,d=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],c=0;while(e--){c+=d[g][parseInt(f.charAt(e),10)];
g^=1}return(c%10===0&&c>0)},mod11And10:function(f){var c=5,e=f.length;for(var d=0;d<e;d++){c=(((c||10)*2)%11+parseInt(f.charAt(d),10))%10}return(c===1)},mod37And36:function(g,h){h=h||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";var d=h.length,f=g.length,c=Math.floor(d/2);for(var e=0;e<f;e++){c=(((c||d)*2)%(d+1)+h.indexOf(g.charAt(e)))%d}return(c===1)}}}(window.jQuery));(function(a){a.fn.jQValidator.i18n.notEmpty=a.extend(a.fn.jQValidator.i18n.notEmpty||{},{"default":"This field is required",language:{cn:"此项为必填项",en:"This field is required",other:"This field is required"}});a.fn.jQValidator.validators.notEmpty={enableByHtml5:function(b){var c=b.attr("required")+"";return("required"===c||"true"===c)},validate:function(c,e,b){var d=e.attr("type"),f=e.val(),h=c.options.language;mssg=a.fn.jQValidator.helpers.format(b.message||a.fn.jQValidator.i18n.notEmpty.language[h]);if("radio"===d||"checkbox"===d){return{valid:(c.getFieldElements(e.attr("data-bv-field")).filter(":checked").length>0),message:mssg}}if("number"===d&&e.get(0).validity&&e.get(0).validity.badInput===true){return{valid:true,message:mssg}}f=a.trim(f);var g=(f!=="")?true:false;return{valid:g,message:mssg}}}}(window.jQuery));(function(a){a.fn.jQValidator.i18n.regexp=a.extend(a.fn.jQValidator.i18n.regexp||{},{"default":"Please enter a value matching the pattern"});a.fn.jQValidator.validators.regexp={html5Attributes:{message:"message",regexp:"regexp"},enableByHtml5:function(b){var c=b.attr("pattern");if(c){return{regexp:c}}return false},validate:function(c,d,b){var f=d.val();if(f===""){return true}var e=("string"===typeof b.regexp)?new RegExp(b.regexp):b.regexp;return e.test(f)}}}(window.jQuery));(function(a){a.fn.jQValidator.i18n.identical=a.extend(a.fn.jQValidator.i18n.identical||{},{"default":"Please enter the same value"});a.fn.jQValidator.validators.identical={html5Attributes:{message:"message",field:"field"},validate:function(d,e,c){var f=e.val();if(f===""){return true}var b=d.getFieldElements(c.field);if(b===null||b.length===0){return true}if(f===b.val()){d.updateStatus(c.field,d.STATUS_VALID,"identical");return true}else{return false}}}}(window.jQuery));(function(a){a.fn.jQValidator.i18n.different=a.extend(a.fn.jQValidator.i18n.different||{},{"default":"Please enter a different value"});a.fn.jQValidator.validators.different={html5Attributes:{message:"message",field:"field"},validate:function(b,e,k){var g=e.val();if(g===""){return true}var d=k.field.split(","),j=true;for(var c=0;c<d.length;c++){var f=b.getFieldElements(d[c]);if(f==null||f.length===0){continue}var h=f.val();if(g===h){j=false}else{if(h!==""){b.updateStatus(f,b.STATUS_VALID,"different")}}}return j}}}(window.jQuery));(function(a){a.fn.jQValidator.i18n.emailAddress=a.extend(a.fn.jQValidator.i18n.emailAddress||{},{"default":"Exzample: name@domain.com",language:{cn:"请输入正确的邮箱地址",en:"Exzample: name@domain.com",other:"Exzample:name@domain.com"}});a.fn.jQValidator.validators.emailAddress={html5Attributes:{message:"message",multiple:"multiple",separator:"separator"},enableByHtml5:function(b){return("email"===b.attr("type"))},validate:function(c,h,m){var k=h.val(),d=c.options.language,b=a.fn.jQValidator.helpers.format(m.message||a.fn.jQValidator.i18n.emailAddress.language[d]);if(k===""){return true}var j=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,l=m.multiple===true||m.multiple==="true";if(l){var g=m.separator||/[,;]/,e=this._splitEmailAddresses(k,g);for(var f=0;f<e.length;f++){if(!j.test(e[f])){return{valid:false,message:b}}}return true}else{return{valid:j.test(k),message:b}}},_splitEmailAddresses:function(d,k){var b=d.split(/"/),c=b.length,l=[],g="";for(var h=0;h<c;h++){if(h%2===0){var m=b[h].split(k),e=m.length;if(e===1){g+=m[0]}else{l.push(g+m[0]);for(var f=1;f<e-1;f++){l.push(m[f])}g=m[e-1]}}else{g+='"'+b[h];if(h<c-1){g+='"'}}}l.push(g);return l}}}(window.jQuery));(function(a){a.fn.jQValidator.i18n.file=a.extend(a.fn.jQValidator.i18n.file||{},{"default":"Please choose a valid file",language:{cn:"请上传正确格式的文件，如：%s",en:"Exzample: %s",other:"Exzample: %s"}});a.fn.jQValidator.validators.file={html5Attributes:{extension:"extension",maxfiles:"maxFiles",minfiles:"minFiles",maxsize:"maxSize",minsize:"minSize",maxtotalsize:"maxTotalSize",mintotalsize:"minTotalSize",message:"message",type:"type"},validate:function(c,l,o){var n=l.val(),d=c.options.language;mssg=a.fn.jQValidator.helpers.format(o.message||a.fn.jQValidator.i18n.file.language[d],o.extension);if(n===""){return true}var e,j=o.extension?o.extension.toLowerCase().split(","):null,h=o.type?o.type.toLowerCase().split(","):null,g=(window.File&&window.FileList&&window.FileReader);if(g){var b=l.get(0).files,k=b.length,m=0;if((o.maxFiles&&k>parseInt(o.maxFiles,10))||(o.minFiles&&k<parseInt(o.minFiles,10))){return{valid:false,message:mssg}}for(var f=0;f<k;f++){m+=b[f].size;e=b[f].name.substr(b[f].name.lastIndexOf(".")+1);if((o.minSize&&b[f].size<parseInt(o.minSize,10))||(o.maxSize&&b[f].size>parseInt(o.maxSize,10))||(j&&a.inArray(e.toLowerCase(),j)===-1)||(b[f].type&&h&&a.inArray(b[f].type.toLowerCase(),h)===-1)){return{valid:false,message:mssg}
}}if((o.maxTotalSize&&m>parseInt(o.maxTotalSize,10))||(o.minTotalSize&&m<parseInt(o.minTotalSize,10))){return{valid:false,message:mssg}}}else{e=n.substr(n.lastIndexOf(".")+1);if(j&&a.inArray(e.toLowerCase(),j)===-1){return{valid:false,message:mssg}}}return true}}}(window.jQuery));(function(a){a.fn.jQValidator.i18n.lessThan=a.extend(a.fn.jQValidator.i18n.lessThan||{},{"default":"Please enter a value less than or equal to %s",notInclusive:"Please enter a value less than %s"});a.fn.jQValidator.validators.lessThan={html5Attributes:{message:"message",value:"value",inclusive:"inclusive"},enableByHtml5:function(d){var c=d.attr("type"),b=d.attr("max");if(b&&c!=="date"){return{value:b}}return false},validate:function(d,e,c){var f=e.val();if(f===""){return true}f=this._format(f);if(!a.isNumeric(f)){return false}var b=a.isNumeric(c.value)?c.value:d.getDynamicOption(e,c.value),g=this._format(b);f=parseFloat(f);return(c.inclusive===true||c.inclusive===undefined)?{valid:f<=g,message:a.fn.jQValidator.helpers.format(c.message||a.fn.jQValidator.i18n.lessThan["default"],b)}:{valid:f<g,message:a.fn.jQValidator.helpers.format(c.message||a.fn.jQValidator.i18n.lessThan.notInclusive,b)}},_format:function(b){return(b+"").replace(",",".")}}}(window.jQuery));(function(a){a.fn.jQValidator.i18n.remote=a.extend(a.fn.jQValidator.i18n.remote||{},{"default":"Please enter a valid value"});a.fn.jQValidator.validators.remote={html5Attributes:{message:"message",name:"name",type:"type",url:"url",data:"data",delay:"delay"},destroy:function(c,d,b){if(d.data("bv.remote.timer")){clearTimeout(d.data("bv.remote.timer"));d.removeData("bv.remote.timer")}},validate:function(b,j,m){var k=j.val(),l=new a.Deferred();if(k===""){l.resolve(j,"remote",{valid:true});return l}var c=j.attr("data-bv-field"),f=m.data||{},d=m.url,h=m.type||"GET",e=m.headers||{};if("function"===typeof f){f=f.call(this,b)}if("string"===typeof f){f=JSON.parse(f)}if("function"===typeof d){d=d.call(this,b)}f[m.name||c]=k;function g(){var n=a.ajax({type:h,headers:e,url:d,dataType:"json",data:f});n.then(function(o){o.valid=o.valid===true||o.valid==="true";l.resolve(j,"remote",o)});l.fail(function(){n.abort()});return l}if(m.delay){if(j.data("bv.remote.timer")){clearTimeout(j.data("bv.remote.timer"))}j.data("bv.remote.timer",setTimeout(g,m.delay));return l}else{return g()}}}}(window.jQuery));(function(a){a.fn.jQValidator.i18n.stringLength=a.extend(a.fn.jQValidator.i18n.stringLength||{},{"default":"Please enter a value with valid length",language:{cn:{less:"请输入小于或等于%s位字符长度的值",more:"请输入大于或等于%s位字符长度的值",between:"请输入%s到%s位字符长度的值"},en:{less:"Please enter less than %s characters",more:"Please enter more than %s characters",between:"Please enter value between %s and %s characters long"},other:{less:"Please enter less than %s characters",more:"Please enter more than %s characters",between:"Please enter value between %s and %s characters long"}}});a.fn.jQValidator.validators.stringLength={html5Attributes:{message:"message",min:"min",max:"max",trim:"trim",utf8bytes:"utf8Bytes"},enableByHtml5:function(e){var d={},b=e.attr("maxlength"),c=e.attr("minlength");if(b){d.max=parseInt(b,10)}if(c){d.min=parseInt(c,10)}return a.isEmptyObject(d)?false:d},validate:function(b,g,m){var j=g.val(),d=b.options.language;j=j.replace(/[ ]/g,"");if(j===""){return true}var e=a.isNumeric(m.min)?m.min:b.getDynamicOption(g,m.min),h=a.isNumeric(m.max)?m.max:b.getDynamicOption(g,m.max),f=function(q){var o=q.length;for(var n=q.length-1;n>=0;n--){var p=q.charCodeAt(n);if(p>127&&p<=2047){o++}else{if(p>2047&&p<=65535){o+=2}}if(p>=56320&&p<=57343){n--}}return o},c=m.utf8Bytes?f(j):j.length,k=true,l=m.message||a.fn.jQValidator.i18n.stringLength["default"];if((e&&c<parseInt(e,10))||(h&&c>parseInt(h,10))){k=false}switch(true){case (!!e&&!!h):l=a.fn.jQValidator.helpers.format(m.message||a.fn.jQValidator.i18n.stringLength.language[d].between,[parseInt(e,10),parseInt(h,10)]);break;case (!!e):l=a.fn.jQValidator.helpers.format(m.message||a.fn.jQValidator.i18n.stringLength.language[d].more,parseInt(e,10));break;case (!!h):l=a.fn.jQValidator.helpers.format(m.message||a.fn.jQValidator.i18n.stringLength.language[d].less,parseInt(h,10));break;default:break}return{valid:k,message:l}}}}(window.jQuery));(function(a){a.fn.jQValidator.i18n.idCard=a.extend(a.fn.jQValidator.i18n.idCard||{},{"default":"Please enter a valid identification number",language:{cn:"请输入正确的身份证号码",en:"Please enter a valid identification number",other:"Please enter a valid identification number"}});a.fn.jQValidator.validators.idCard={html5Attributes:{message:"message"},validate:function(c,l,o){var m=l.val(),d=c.options.language;var b=a.fn.jQValidator.helpers.format(o.message||a.fn.jQValidator.i18n.idCard.language[d]);if(m===""){return true}m=a.trim(m);if(!/^\d{17}[\dXx]{1}$/.test(m)){return{valid:false,message:b}}var n;if(m.length===18){n=m.substr(6,8)}var j=parseInt(n.substr(0,4),10),h=parseInt(n.substr(4,2),10),k=parseInt(n.substr(6,2),10);if(!a.fn.jQValidator.helpers.date(j,h,k)){return{valid:false,message:b}
}if(m.length===18){var f=0,e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];for(i=0;i<17;i++){f+=parseInt(m.charAt(i),10)*e[i]}f=(12-(f%11))%11;var g=(m.charAt(17).toUpperCase()!=="X")?parseInt(m.charAt(17),10):10;return g===f}return{valid:true,message:b}}}}(window.jQuery));(function(a){a.fn.jQValidator.i18n.phone=a.extend(a.fn.jQValidator.i18n.phone||{},{"default":"Please enter a valid phone number",phoneTypes:{LD:"座机",MB:"手机",ALL:"电话"},language:{cn:"请输入有效的%s号码",en:"Please enter a valid phone number",other:"Please enter a valid phone number"}});a.fn.jQValidator.validators.phone={html5Attributes:{message:"message",phoneType:"phoneType"},PHONE_TYPE:["LD","MB","ALL"],validate:function(c,e,b){var f=e.val(),h=c.options.language;var d=b.phoneType;var j=a.fn.jQValidator.helpers.format(b.message||a.fn.jQValidator.i18n.phone.language[h],a.fn.jQValidator.i18n.phone.phoneTypes[d]);if(f===""){return true}if(typeof d!=="string"||a.inArray(d,this.PHONE_TYPE)===-1){d=c.getDynamicOption(e,d)}if(!d||a.inArray(d.toUpperCase(),this.PHONE_TYPE)===-1){return{valid:false,message:j}}var g=true;f=a.trim(f);switch(d.toUpperCase()){case"LD":g=(/^([0-9]{3,4}-)?[0-9]{7,8}$/).test(f);break;case"MB":g=(/^1[3|4|5|7|8][0-9]{9}$/).test(f);break;case"ALL":g=(/^1[3|4|5|7|8][0-9]{9}$/).test(f)||(/^([0-9]{3,4}-)?[0-9]{7,8}$/).test(f);break;default:g=(/^1[3|4|5|7|8][0-9]{9}$/).test(f);break}return{valid:g,message:j}}}}(window.jQuery));