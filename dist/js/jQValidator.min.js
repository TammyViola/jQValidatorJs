/*********
***
*** jQValidator.js
*** 可以兼容ie9+以上的ie浏览器及现代主流浏览器
*** version 2.7.5
*** modify by Tammy  2021.09.09
*** 
*** 删掉身份证省市号码验证
*** 修复ios自带输入法输入中文时多次触发input事件的bug
***
******/(function(d){var e=function(a,b){this.jqVersion="2.7.5";this.$form=d(a);this.options=d.extend({},d.fn.jQValidator._defaults,b);this.$invalidFields=d([]);this.$hiddenButton=this.$submitButton=null;this.STATUS_NOT_VALIDATED="NOT_VALIDATED";this.STATUS_VALIDATING="VALIDATING";this.STATUS_INVALID="INVALID";this.STATUS_VALID="VALID";a=3;b=document.createElement("div");for(var c=b.all||[];b.innerHTML="\x3c!--[if gt IE "+ ++a+"]\x3e\x3cbr\x3e\x3c![endif]--\x3e",c[0];);a=4<a?a:!a;b=document.createElement("div");this._changeEvent=9!==a&&"oninput"in b?"input":"keyup";this._submitIfValid=null;this._cacheFields={};this._init()};e.prototype={constructor:e,_init:function(){var a=this,b={autoFocus:this.$form.attr("data-bv-autofocus"),isClearForm:this.$form.attr("data-bv-isClearForm"),clearButton:this.$form.attr("data-bv-clearButton"),container:this.$form.attr("data-bv-container"),singleVis:this.$form.attr("data-bv-singleVis"),tipsWay:this.$form.attr("data-bv-tipsWay"),events:{formInit:this.$form.attr("data-bv-events-form-init"),formError:this.$form.attr("data-bv-events-form-error"),formSuccess:this.$form.attr("data-bv-events-form-success"),fieldAdded:this.$form.attr("data-bv-events-field-added"),fieldRemoved:this.$form.attr("data-bv-events-field-removed"),fieldInit:this.$form.attr("data-bv-events-field-init"),fieldError:this.$form.attr("data-bv-events-field-error"),fieldSuccess:this.$form.attr("data-bv-events-field-success"),fieldStatus:this.$form.attr("data-bv-events-field-status"),validatorError:this.$form.attr("data-bv-events-validator-error"),validatorSuccess:this.$form.attr("data-bv-events-validator-success")},excluded:this.$form.attr("data-bv-excluded"),feedbackIcons:{valid:this.$form.attr("data-bv-feedbackicons-valid"),invalid:this.$form.attr("data-bv-feedbackicons-invalid"),validating:this.$form.attr("data-bv-feedbackicons-validating")},group:this.$form.attr("data-bv-group"),live:this.$form.attr("data-bv-live"),language:this.$form.attr("data-bv-language"),message:this.$form.attr("data-bv-message"),onError:this.$form.attr("data-bv-onerror"),onSuccess:this.$form.attr("data-bv-onsuccess"),submitButtons:this.$form.attr("data-bv-submitbuttons"),threshold:this.$form.attr("data-bv-threshold"),trigger:this.$form.attr("data-bv-trigger"),verbose:this.$form.attr("data-bv-verbose"),fields:{}};this.options.isClearForm&&this.$form.find(".form-control").val("").end().find('input[type\x3d"radio"]').removeAttr("checked").removeAttr("selected").end().find('input[type\x3d"checkbox"]').removeAttr("checked").removeAttr("selected").end().find(".frm-file-box .result").html("");var c=!1;d(".form-control").off(this._changeEvent).on("compositionstart",function(){c=!0}).on("compositionend",function(){c=!1}).on(this._changeEvent,function(){if(!c){var b=a.options.group,f=a.options.clearButton,e=d(this).val(),k=d(this).attr("type"),m=d(this).get(0).tagName;d(this).attr("name");if(0<e.length){if("input"==m){if("text"==k||"password"==k||"number"==k||"email"==k||"tel"==k||null==k)m=d.trim(e),e.length>m.length&&d(this).val(m);"number"==k&&(m=d(this).val().replace(/[^\d]/ig,""),d(this).val(m))}"file"!=k&&d(this).val(a.filterField(e));d(this).parents(b).find(f).css("display","block")}else d(this).parents(b).find(f).hide()}});this.$form.attr("novalidate","novalidate").addClass(this.options.elementClass).on("submit.bv",function(b){b.preventDefault();a.validate()}).on("click.bv",this.options.submitButtons,function(){a.$submitButton=d(this);a._submitIfValid=!0}).find("[name], [data-bv-field]").each(function(){var c=d(this),f=c.attr("name")||c.attr("data-bv-field"),e=a._parseOptions(c);e&&(c.attr("data-bv-field",f),b.fields[f]=d.extend({},e,b.fields[f]))});this.$form.find(this.options.clearButton).each(function(){var b=d(this),c=b.parents(".form-group").find("[name], [data-bv-field]"),f=c.attr("name")||c.attr("data-bv-field");b.attr("data-clear-for",f);a.clearField(c,b)});this.options=d.extend(!0,this.options,b);this.$hiddenButton=d("\x3cbutton/\x3e").attr("type","submit").prependTo(this.$form).addClass("bv-hidden-submit").css({display:"none",width:0,height:0});this.$form.on("click.bv",'[type\x3d"submit"]',function(b){b.isDefaultPrevented()||(b=d(b.target),b=b.is('[type\x3d"submit"]')?b.eq(0):b.parent('[type\x3d"submit"]').eq(0),!a.options.submitButtons||b.is(a.options.submitButtons)||b.is(a.$hiddenButton)||a.$form.off("submit.bv").submit())});for(var f in this.options.fields)this._initField(f)},_parseOptions:function(a){var b=a.attr("name")||a.attr("data-bv-field"),c={},f,e,g,l,k,m;for(e in d.fn.jQValidator.validators)if(f=d.fn.jQValidator.validators[e],g="data-bv-"+e.toLowerCase(),l=a.attr(g)+"",(k="function"===typeof f.enableByHtml5?f.enableByHtml5(a):null)&&"false"!==l||!0!==k&&(""===l||"true"===l||g===l.toLowerCase()))for(m in f.html5Attributes=d.extend({},{message:"message",onerror:"onError",onsuccess:"onSuccess"},f.html5Attributes),c[e]=d.extend({},!0===k?{}:k,c[e]),f.html5Attributes)if(g=f.html5Attributes[m],l="data-bv-"+e.toLowerCase()+"-"+m,k=a.attr(l))"true"===k||l===k.toLowerCase()?k=!0:"false"===k&&(k=!1),c[e][g]=k;a={autoFocus:a.attr("data-bv-autofocus"),isClearForm:a.attr("data-bv-isClearForm"),clearButton:a.attr("data-bv-clearButton"),container:a.attr("data-bv-container"),singleVis:a.attr("data-bv-singleVis"),tipsWay:a.attr("data-bv-tipsWay"),excluded:a.attr("data-bv-excluded"),feedbackIcons:a.attr("data-bv-feedbackicons"),group:a.attr("data-bv-group"),language:a.attr("data-bv-language"),message:a.attr("data-bv-message"),onError:a.attr("data-bv-onerror"),onStatus:a.attr("data-bv-onstatus"),onSuccess:a.attr("data-bv-onsuccess"),selector:a.attr("data-bv-selector"),threshold:a.attr("data-bv-threshold"),trigger:a.attr("data-bv-trigger"),verbose:a.attr("data-bv-verbose"),validators:c};f=d.isEmptyObject(a);return!d.isEmptyObject(c)||!f&&this.options.fields&&this.options.fields[b]?(a.validators=c,a):null},_initField:function(a){var b=d([]);switch(typeof a){case "object":b=a;a=a.attr("data-bv-field");break;case "string":b=this.getFieldElements(a),b.attr("data-bv-field",a)}if(0!==b.length&&null!==this.options.fields[a]&&null!==this.options.fields[a].validators){for(var c in this.options.fields[a].validators)d.fn.jQValidator.validators[c]||delete this.options.fields[a].validators[c];null===this.options.fields[a].enabled&&(this.options.fields[a].enabled=!0);for(var f=this,e=b.length,g=b.attr("type"),l=1===e||"radio"===g||"checkbox"===g,k="radio"===g||"checkbox"===g||"file"===g||"SELECT"===b.eq(0).get(0).tagName?"change":this._changeEvent,k=(this.options.fields[a].trigger||this.options.trigger||k).split(" "),m=d.map(k,function(a){return a+".update.bv"}).join(" "),p=0;p<e;p++){var n=b.eq(p),q=this.options.fields[a].group||this.options.group,r=n.parents(q),u=this.options.clearButton;container="function"===typeof(this.options.fields[a].container||this.options.container)?(this.options.fields[a].container||this.options.container).call(this,n,this):this.options.fields[a].container||this.options.container;isShowNormal="normal"==this.options.tipsWay?!0:!1;$message=container?d(container):this._getMessageContainer(n,q);container&&$message.addClass("has-error");$message.find('.help-block[data-bv-validator][data-bv-for\x3d"'+a+'"]').remove();r.find('i[data-bv-icon-for\x3d"'+a+'"]').remove();n.off(m).on(m,function(){var b=d(this).val(),c=d(this).attr("type");0<b.length?("input"!=d(this).get(0).tagName||"text"!=c&&"password"!=c&&"number"!=c&&"email"!=c&&"tel"!=c&&null!=c||(c=d.trim(b),b.length>c.length&&d(this).val(c)),r.find(u).css("display","block")):r.find(u).hide();container&&!isShowNormal&&d(container).hide();if(f.options.fields[a].validators.phone){var e=d(this).attr("data-areaCode"),h=f.options.fields[a].validators.phone.phoneType,c=b.replace(/[^-\d]/g,"");"MB"==h?(e&&(-1!=e.indexOf("852")||-1!=e.indexOf("853"))&&8<c.length&&(c=c.substr(0,8)),11<c.length&&(c=0==c.indexOf("0086")?c.substr(0,15):0==c.indexOf("086")||0==c.indexOf("+86")?c.substr(0,14):0==c.indexOf("00852")||0==c.indexOf("00853")?c.substr(0,13):0==c.indexOf("0852")||0==c.indexOf("0853")||0==c.indexOf("+852")||0==c.indexOf("+853")?c.substr(0,12):c.substr(0,11))):18<c.length&&(c=c.substr(0,18));d(this).val(c)}f.options.fields[a].validators.idCard&&(18>b.length?d(this).val(b.replace(/[^\d]/g,"")):18==b.length?(c=b.substring(0,17),e=b.substring(17,18),e=e.replace(/[^xX\d]/g,""),"x"==e&&(e=e.toUpperCase()),d(this).val(c+e)):(c=b.substring(0,18),d(this).val(c)));f.options.fields[a].validators.bankCard&&(c=b.replace(/[^\d]/ig,""),19<c.length&&(c=c.substr(0,19)),d(this).val(c));f.options.fields[a].validators.QQNumber&&(c=b.replace(/[^\d]/ig,""),15<c.length&&(c=c.substr(0,15)),d(this).val(c));f.updateStatus(d(this),f.STATUS_NOT_VALIDATED)});n.data("bv.messages",$message);for(c in this.options.fields[a].validators)n.data("bv.result."+c,this.STATUS_NOT_VALIDATED),l&&p!==e-1||d("\x3cdiv/\x3e").css("display","none").addClass("help-block").attr("data-bv-validator",c).attr("data-bv-for",a).attr("data-bv-result",this.STATUS_NOT_VALIDATED).html(this._getMessage(a,c)).appendTo($message),"function"===typeof d.fn.jQValidator.validators[c].init&&d.fn.jQValidator.validators[c].init(this,n,this.options.fields[a].validators[c]);container&&("tooltip"==this.options.tipsWay?(d(container).addClass("frm-tooltip"),n.off("blur.container.bv").on("blur.container.bv",function(){f._isTooltip(a)})):d(container).removeClass("frm-tooltip"));if(!1!==this.options.fields[a].feedbackIcons&&"false"!==this.options.fields[a].feedbackIcons&&this.options.feedbackIcons&&this.options.feedbackIcons.validating&&this.options.feedbackIcons.invalid&&this.options.feedbackIcons.valid&&(!l||p===e-1)){r.addClass("has-feedback");q=d("\x3ci/\x3e").css("display","none").addClass("form-control-feedback").attr("data-bv-icon-for",a).insertAfter(n);if("checkbox"===g||"radio"===g){var t=n.parent();t.hasClass(g)?q.insertAfter(t):t.parent().hasClass(g)&&q.insertAfter(t.parent())}0===r.find("label").length&&q.addClass("bv-no-label");0!==r.find(".input-group").length&&q.addClass("bv-icon-input-group").insertAfter(r.find(".input-group").eq(0));l?p===e-1&&b.data("bv.icon",q):n.data("bv.icon",q)}}b.on(this.options.events.fieldSuccess,function(a,b){var c=f.getOptions(b.field,null,"onSuccess");c&&d.fn.jQValidator.helpers.call(c,[a,b])}).on(this.options.events.fieldError,function(a,b){var c=f.getOptions(b.field,null,"onError");c&&d.fn.jQValidator.helpers.call(c,[a,b])}).on(this.options.events.fieldStatus,function(a,b){var c=f.getOptions(b.field,null,"onStatus");c&&d.fn.jQValidator.helpers.call(c,[a,b])}).on(this.options.events.validatorError,function(a,b){var c=f.getOptions(b.field,b.validator,"onError");c&&d.fn.jQValidator.helpers.call(c,[a,b])}).on(this.options.events.validatorSuccess,function(a,b){var c=f.getOptions(b.field,b.validator,"onSuccess");c&&d.fn.jQValidator.helpers.call(c,[a,b])});m=d.map(k,function(a){return a+".live.bv"}).join(" ");switch(this.options.live){case "submitted":break;case "disabled":b.off(m);break;case "blurred":b.off(m).on("blur",function(){f._exceedThreshold(d(this))&&f.validateField(d(this))});break;default:b.off(m).on(m,function(){f._exceedThreshold(d(this))&&f.validateField(d(this))})}b.trigger(d.Event(this.options.events.fieldInit),{bv:this,field:a,element:b})}},_isTooltip:function(a){var b=this.options.container;a=d('.help-block[data-bv-for\x3d"'+a+'"][data-bv-result\x3d"'+this.STATUS_INVALID+'"]');this.$form.find(".help-block[data-bv-validator]").hide();0<a.length?(a.first().show(),a=d(b).outerWidth()/2*-1,a=/msie [6|7|8]/i.test(navigator.userAgent)?a:0,d(b).css("margin-left",a).stop(!0,!0).fadeIn(500,function(){setTimeout(function(){d(b).fadeOut(500)},3E3)})):d(b).hide()},_getMessage:function(a,b){if(!(this.options.fields[a]&&d.fn.jQValidator.validators[b]&&this.options.fields[a].validators&&this.options.fields[a].validators[b]))return"";var c=this.options.fields[a].validators[b];switch(!0){case !!c.message:return c.message;case !!this.options.fields[a].message:return this.options.fields[a].message;case !!d.fn.jQValidator.i18n[b]:return d.fn.jQValidator.i18n[b]["default"];default:return this.options.message}},_getMessageContainer:function(a,b){a=a.parent();if(a.is(b))return a;var c=a.attr("class");if(!c||"form-group-cell"!=c&&"form-group-bd"!=c)return this._getMessageContainer(a,b);for(var c=c.split(" "),d=c.length;0<d;)return/^col-(xs|sm|md|lg)-\d+$/.test(c[0])||/^col-(xs|sm|md|lg)-offset-\d+$/.test(c[0]),a;return this._getMessageContainer(a,b)},_submit:function(){var a=this.isValid(),b=d.Event(a?this.options.events.formSuccess:this.options.events.formError);this.$form.trigger(b);this.$submitButton&&(a?this._onSuccess(b):this._onError(b))},_isExcluded:function(a){var b=a.attr("data-bv-excluded"),c=a.attr("data-bv-field")||a.attr("name");switch(!0){case !!c&&this.options.fields&&this.options.fields[c]&&("true"===this.options.fields[c].excluded||!0===this.options.fields[c].excluded):case "true"===b:case ""===b:return!0;case !!c&&this.options.fields&&this.options.fields[c]&&("false"===this.options.fields[c].excluded||!1===this.options.fields[c].excluded):case "false"===b:return!1;default:if(this.options.excluded)for("string"===typeof this.options.excluded&&(this.options.excluded=d.map(this.options.excluded.split(","),function(a){return d.trim(a)})),b=this.options.excluded.length,c=0;c<b;c++)if("string"===typeof this.options.excluded[c]&&a.is(this.options.excluded[c])||"function"===typeof this.options.excluded[c]&&!0===this.options.excluded[c].call(this,a,this))return!0;return!1}},_exceedThreshold:function(a){var b=a.attr("data-bv-field");return(b=this.options.fields[b].threshold||this.options.threshold)?-1!==d.inArray(a.attr("type"),"button checkbox file hidden image radio reset submit".split(" "))||a.val().length>=b:!0},_onError:function(a){if(!a.isDefaultPrevented()){if("submitted"===this.options.live){this.options.live="enabled";var b=this,c;for(c in this.options.fields)(function(a){a=b.getFieldElements(a);if(a.length){var f=d(a[0]).attr("type"),f="radio"===f||"checkbox"===f||"file"===f||"SELECT"===d(a[0]).get(0).tagName?"change":b._changeEvent,f=d.map((b.options.fields[c].trigger||b.options.trigger||f).split(" "),function(a){return a+".live.bv"}).join(" ");a.off(f).on(f,function(){b._exceedThreshold(d(this))&&b.validateField(d(this))})}})(c)}for(a=0;a<this.$invalidFields.length;a++){var f=this.$invalidFields.eq(a);if(this._isOptionEnabled(f.attr("data-bv-field"),"autoFocus")){f.focus();break}}}},_onSuccess:function(a){a.isDefaultPrevented()||this.disableSubmitButtons(!0).defaultSubmit()},_onFieldValidated:function(a,b){var c=a.attr("data-bv-field"),f=this.options.fields[c].validators,e={},g=0,l={bv:this,field:c,element:a,validator:b,result:a.data("bv.response."+b)};if(b)switch(a.data("bv.result."+b)){case this.STATUS_INVALID:a.trigger(d.Event(this.options.events.validatorError),l);break;case this.STATUS_VALID:a.trigger(d.Event(this.options.events.validatorSuccess),l)}e[this.STATUS_NOT_VALIDATED]=0;e[this.STATUS_VALIDATING]=0;e[this.STATUS_INVALID]=0;e[this.STATUS_VALID]=0;for(var k in f)!1!==f[k].enabled&&(g++,(b=a.data("bv.result."+k))&&e[b]++);e[this.STATUS_VALID]===g?(this.$invalidFields=this.$invalidFields.not(a),a.trigger(d.Event(this.options.events.fieldSuccess),l)):(0===e[this.STATUS_NOT_VALIDATED]||!this._isOptionEnabled(c,"verbose"))&&0===e[this.STATUS_VALIDATING]&&0<e[this.STATUS_INVALID]&&(this.$invalidFields=this.$invalidFields.add(a),a.trigger(d.Event(this.options.events.fieldError),l))},_isOptionEnabled:function(a,b){return!this.options.fields[a]||"true"!==this.options.fields[a][b]&&!0!==this.options.fields[a][b]?!this.options.fields[a]||"false"!==this.options.fields[a][b]&&!1!==this.options.fields[a][b]?"true"===this.options[b]||!0===this.options[b]:!1:!0},getFieldElements:function(a){this._cacheFields[a]||(this._cacheFields[a]=this.options.fields[a]&&this.options.fields[a].selector?d(this.options.fields[a].selector):this.$form.find('[name\x3d"'+a+'"]'));return this._cacheFields[a]},getOptions:function(a,b,c){if(!a)return c?this.options[c]:this.options;"object"===typeof a&&(a=a.attr("data-bv-field"));if(!this.options.fields[a])return null;a=this.options.fields[a];return b?a.validators&&a.validators[b]?c?a.validators[b][c]:a.validators[b]:null:c?a[c]:a},disableSubmitButtons:function(a){a?"disabled"!==this.options.live&&this.$form.find(this.options.submitButtons).attr("disabled","disabled"):this.$form.find(this.options.submitButtons).removeAttr("disabled");return this},validate:function(){if(!this.options.fields)return this;this.disableSubmitButtons(!0);this._submitIfValid=!1;for(var a in this.options.fields)this.validateField(a);this._submit();this._submitIfValid=!0;return this},validateField:function(a){var b=d([]);switch(typeof a){case "object":b=a;a=a.attr("data-bv-field");break;case "string":b=this.getFieldElements(a)}if(0===b.length||!this.options.fields[a]||!1===this.options.fields[a].enabled)return this;for(var c=this,f=b.attr("type"),e="radio"===f||"checkbox"===f?1:b.length,g="radio"===f||"checkbox"===f,f=this.options.fields[a].validators,l=this._isOptionEnabled(a,"verbose"),k,m,p=0;p<e;p++){var n=b.eq(p);if(!this._isExcluded(n)){var q=!1;for(k in f){n.data("bv.dfs."+k)&&n.data("bv.dfs."+k).reject();if(q)break;n.data("bv.result."+k);this.updateStatus(g?a:n,this.STATUS_VALID,k);n.data("bv.result."+k,this.STATUS_VALIDATING);m=d.fn.jQValidator.validators[k].validate(this,n,f[k]);if("object"===typeof m&&m.resolve)this.updateStatus(g?a:n,this.STATUS_VALIDATING,k),n.data("bv.dfs."+k,m),m.done(function(a,b,d){a.removeData("bv.dfs."+b).data("bv.response."+b,d);d.message&&c.updateMessage(a,b,d.message);c.updateStatus(g?a.attr("data-bv-field"):a,d.valid?c.STATUS_VALID:c.STATUS_INVALID,b);d.valid&&!0===c._submitIfValid?c._submit():d.valid||l||(q=!0)});else if("object"===typeof m&&void 0!==m.valid&&void 0!==m.message){if(n.data("bv.response."+k,m),this.updateMessage(g?a:n,k,m.message),this.updateStatus(g?a:n,m.valid?this.STATUS_VALID:this.STATUS_INVALID,k),!m.valid&&!l)break}else if("boolean"===typeof m&&(n.data("bv.response."+k,m),this.updateStatus(g?a:n,m?this.STATUS_VALID:this.STATUS_INVALID,k),!m&&!l))break}}}this.options.singleVis&&(a=d('.help-block[data-bv-for\x3d"'+a+'"][data-bv-result\x3d"'+this.STATUS_INVALID+'"]'),this.$form.find(".help-block[data-bv-validator]").hide(),a.first().show());return this},updateMessage:function(a,b,c){var f=d([]);switch(typeof a){case "object":f=a;a=a.attr("data-bv-field");break;case "string":f=this.getFieldElements(a)}f.each(function(){d(this).data("bv.messages").find('.help-block[data-bv-validator\x3d"'+b+'"][data-bv-for\x3d"'+a+'"]').html(c)})},updateStatus:function(a,b,c){var f=d([]);switch(typeof a){case "object":f=a;a=a.attr("data-bv-field");break;case "string":f=this.getFieldElements(a)}b===this.STATUS_NOT_VALIDATED&&(this._submitIfValid=!1);for(var e=f.attr("type"),g=this.options.fields[a].group||this.options.group,e="radio"===e||"checkbox"===e?1:f.length,l=0;l<e;l++){var k=f.eq(l);if(!this._isExcluded(k)){var m=k.parents(g),p=k.data("bv.messages").find('.help-block[data-bv-validator][data-bv-for\x3d"'+a+'"]'),n=c?p.filter('[data-bv-validator\x3d"'+c+'"]'):p,q=k.data("bv.icon");"function"===typeof(this.options.fields[a].container||this.options.container)&&(this.options.fields[a].container||this.options.container).call(this,k,this);if(c)k.data("bv.result."+c,b);else for(var r in this.options.fields[a].validators)k.data("bv.result."+r,b);n.attr("data-bv-result",b);switch(b){case this.STATUS_VALIDATING:this.disableSubmitButtons(!0);m.removeClass("has-success").removeClass("has-error");q&&q.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).addClass(this.options.feedbackIcons.validating).show();break;case this.STATUS_INVALID:this.disableSubmitButtons(!0);m.removeClass("has-success").addClass("has-error");q&&q.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.validating).addClass(this.options.feedbackIcons.invalid).show();break;case this.STATUS_VALID:p=0===p.filter('[data-bv-result\x3d"'+this.STATUS_NOT_VALIDATED+'"]').length?p.filter('[data-bv-result\x3d"'+this.STATUS_VALID+'"]').length===p.length:null;null!==p&&(this.disableSubmitButtons(this.$submitButton?!this.isValid():!p),q&&q.removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).removeClass(this.options.feedbackIcons.valid).addClass(p?this.options.feedbackIcons.valid:this.options.feedbackIcons.invalid).show());m.removeClass("has-error has-success").addClass(this.isValidContainer(m)?"has-success":"has-error");break;default:this.disableSubmitButtons(!1),m.removeClass("has-success").removeClass("has-error"),q&&q.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).hide()}b===this.STATUS_INVALID?n.show():n.hide();k.trigger(d.Event(this.options.events.fieldStatus),{bv:this,field:a,element:k,status:b});this._onFieldValidated(k,c)}}return this},isValid:function(){for(var a in this.options.fields)if(!this.isValidField(a)){for(var b=0;b<this.$invalidFields.length;b++){var c=this.$invalidFields.eq(b);c.parents(this.options.group);var d=this._isOptionEnabled(c.attr("data-bv-field"),"autoFocus"),e="tooltip"==this.options.tipsWay?!0:!1;this.options.singleVis&&(this.$form.find(".help-block[data-bv-validator]").hide(),this.$form.find('.help-block[data-bv-for\x3d"'+a+'"][data-bv-result\x3d"'+this.STATUS_INVALID+'"]').first().show());e&&this._isTooltip(a);if(d){c.focus();break}}return!1}return!0},isValidField:function(a){var b=d([]);switch(typeof a){case "object":b=a;a=a.attr("data-bv-field");break;case "string":b=this.getFieldElements(a)}if(0===b.length||!this.options.fields[a]||!1===this.options.fields[a].enabled)return!0;for(var c=b.attr("type"),c="radio"===c||"checkbox"===c?1:b.length,e,h,g,l=0;l<c;l++)if(e=b.eq(l),!this._isExcluded(e))for(h in this.options.fields[a].validators)if(!1!==this.options.fields[a].validators[h].enabled&&(g=e.data("bv.result."+h),g!==this.STATUS_VALID))return!1;return!0},isValidContainer:function(a){var b=this,c={};a="string"===typeof a?d(a):a;if(0===a.length)return!0;a.find("[data-bv-field]").each(function(){var a=d(this),e=a.attr("data-bv-field");b._isExcluded(a)||c[e]||(c[e]=a)});for(var e in c)if(0<c[e].data("bv.messages").find('.help-block[data-bv-validator][data-bv-for\x3d"'+e+'"]').filter('[data-bv-result\x3d"'+this.STATUS_INVALID+'"]').length)return!1;return!0},defaultSubmit:function(){this.$submitButton&&d("\x3cinput/\x3e").attr("type","hidden").attr("data-bv-submit-hidden","").attr("name",this.$submitButton.attr("name")).val(this.$submitButton.val()).appendTo(this.$form);this.$form.off("submit.bv").submit()},getInvalidFields:function(){return this.$invalidFields},getSubmitButton:function(){return this.$submitButton},getMessages:function(a,b){var c=this,e=[],h=d([]);switch(!0){case a&&"object"===typeof a:h=a;break;case a&&"string"===typeof a:a=this.getFieldElements(a);0<a.length&&(h=a.attr("type"),h="radio"===h||"checkbox"===h?a.eq(0):a);break;default:h=this.$invalidFields}var g=b?'[data-bv-validator\x3d"'+b+'"]':"";h.each(function(){e=e.concat(d(this).data("bv.messages").find('.help-block[data-bv-for\x3d"'+d(this).attr("data-bv-field")+'"][data-bv-result\x3d"'+c.STATUS_INVALID+'"]'+g).map(function(){var a=d(this).attr("data-bv-validator"),b=d(this).attr("data-bv-for");return!1===c.options.fields[b].validators[a].enabled?"":d(this).html()}).get())});return e},updateOption:function(a,b,c,d){"object"===typeof a&&(a=a.attr("data-bv-field"));this.options.fields[a]&&this.options.fields[a].validators[b]&&(this.options.fields[a].validators[b][c]=d,this.updateStatus(a,this.STATUS_NOT_VALIDATED,b));return this},addField:function(a,b){var c=d([]);switch(typeof a){case "object":c=a;a=a.attr("data-bv-field")||a.attr("name");break;case "string":delete this._cacheFields[a],c=this.getFieldElements(a)}c.attr("data-bv-field",a);for(var e=c.attr("type"),h="radio"===e||"checkbox"===e?1:c.length,g=0;g<h;g++){var l=c.eq(g),k=this._parseOptions(l),k=null===k?b:d.extend(!0,b,k);this.options.fields[a]=d.extend(!0,this.options.fields[a],k);this._cacheFields[a]=this._cacheFields[a]?this._cacheFields[a].add(l):l;this._initField("checkbox"===e||"radio"===e?a:l)}this.disableSubmitButtons(!1);this.$form.trigger(d.Event(this.options.events.fieldAdded),{field:a,element:c,options:this.options.fields[a]});return this},removeField:function(a){var b=d([]);switch(typeof a){case "object":b=a;a=a.attr("data-bv-field")||a.attr("name");b.attr("data-bv-field",a);break;case "string":b=this.getFieldElements(a)}if(0===b.length)return this;for(var c=b.attr("type"),e="radio"===c||"checkbox"===c?1:b.length,h=0;h<e;h++){var g=b.eq(h);this.$invalidFields=this.$invalidFields.not(g);this._cacheFields[a]=this._cacheFields[a].not(g);g.parents(".form-group").removeClass("has-error").find(".help-block").hide()}this._cacheFields[a]&&0!==this._cacheFields[a].length||delete this.options.fields[a];"checkbox"!==c&&"radio"!==c||this._initField(a);this.disableSubmitButtons(!1);this.$form.trigger(d.Event(this.options.events.fieldRemoved),{field:a,element:b});return this},clearField:function(a,b){var c=a,e=c.parents(".form-group").find(".result");a=c.attr("name")||c.attr("data-bv-field");var h=c.attr("type"),g=c.get(0).tagName;isSingleVis=this.options.singleVis;var l=this,k=this.options;b.on("click.bv",function(){"input"==g?"text"==h||"password"==h||"number"==h||"email"==h||"tel"==h||null==h?c.val("").focus():c.val(""):c.val("").focus();e&&e.html("");isSingleVis&&(l.$form.find(".help-block[data-bv-validator]").hide(),l.$form.find('.help-block[data-bv-for\x3d"'+a+'"][data-bv-result\x3d"notEmpty"]').show());d(this).hide();null!==k.fields[a]&&null!==k.fields[a].validators&&null!==k.fields[a].validators.notEmpty&&l.updateStatus(c,l.STATUS_INVALID,"notEmpty")});return this},filterField:function(a){for(var b="alert confirm prompt embed script onload position iframe http https location href meta object document onmouseover write autofocus onfocus SELECT like UNION UPDATE TRUNCATE".split(" "),c,d=0;d<b.length;d++)c=a.replace(new RegExp(b[d],"gi"),""),-1!=c&&(a=c);return a},resetField:function(a,b){var c=d([]);switch(typeof a){case "object":c=a;a=a.attr("data-bv-field");break;case "string":c=this.getFieldElements(a)}var e=c.length;if(this.options.fields[a])for(var h=0;h<e;h++)for(var g in this.options.fields[a].validators)c.eq(h).removeData("bv.dfs."+g);this.updateStatus(a,this.STATUS_NOT_VALIDATED);b&&(a=c.attr("type"),"radio"===a||"checkbox"===a?c.removeAttr("checked").removeAttr("selected"):c.val(""));return this},resetForm:function(a){for(var b in this.options.fields)this.resetField(b,a);this.$invalidFields=d([]);this.$submitButton=null;this.destroy();this.$form.find(".form-control").val("").end().find('input[type\x3d"radio"]').removeAttr("checked").removeAttr("selected").end().find('input[type\x3d"checkbox"]').removeAttr("checked").removeAttr("selected").end().find(".frm-file-box .result").html("");d(this.options.clearButton).hide();this.disableSubmitButtons(!1);return this},revalidateField:function(a){this.updateStatus(a,this.STATUS_NOT_VALIDATED).validateField(a);return this},enableFieldValidators:function(a,b,c){var d=this.options.fields[a].validators;if(c&&d&&d[c]&&d[c].enabled!==b)this.options.fields[a].validators[c].enabled=b,this.updateStatus(a,this.STATUS_NOT_VALIDATED,c);else if(!c&&this.options.fields[a].enabled!==b){this.options.fields[a].enabled=b;for(var e in d)this.enableFieldValidators(a,b,e)}return this},getDynamicOption:function(a,b){a="string"===typeof a?this.getFieldElements(a):a;var c=a.val();if("function"===typeof b)return d.fn.jQValidator.helpers.call(b,[c,this,a]);if("string"===typeof b){var e=this.getFieldElements(b);return e.length?e.val():d.fn.jQValidator.helpers.call(b,[c,this,a])||b}return null},destroy:function(){var a,b,c,e,h,g;for(a in this.options.fields){b=this.getFieldElements(a);g=this.options.fields[a].group||this.options.group;for(var l=0;l<b.length;l++){c=b.eq(l);c.data("bv.messages").find('.help-block[data-bv-validator][data-bv-for\x3d"'+a+'"]').remove().end().end().removeData("bv.messages").parents(g).removeClass("has-feedback has-error has-success").end().off(".bv").removeAttr("data-bv-field");if(h=c.data("bv.icon"))"function"===typeof(this.options.fields[a].container||this.options.container)&&(this.options.fields[a].container||this.options.container).call(this,c,this),h.remove();c.removeData("bv.icon");for(e in this.options.fields[a].validators)c.data("bv.dfs."+e)&&c.data("bv.dfs."+e).reject(),c.removeData("bv.result."+e).removeData("bv.response."+e).removeData("bv.dfs."+e),"function"===typeof d.fn.jQValidator.validators[e].destroy&&d.fn.jQValidator.validators[e].destroy(this,c,this.options.fields[a].validators[e])}}this.disableSubmitButtons(!1);this.$hiddenButton.remove();this.$form.removeClass(this.options.elementClass).off(".bv").removeData("jQValidator").find("[data-bv-submit-hidden]").remove().end().find('[type\x3d"submit"]').off("click.bv")}};d.fn.jQValidator=function(a){var b=arguments;return this.each(function(){var c=d(this),f=c.data("jQValidator"),h="object"===typeof a&&a;f||(f=new e(this,h),c.data("jQValidator",f));"string"===typeof a&&f[a].apply(f,Array.prototype.slice.call(b,1))})};d.fn.jQValidator._defaults={autoFocus:!0,isClearForm:!0,clearButton:null,container:null,singleVis:!0,tipsWay:"normal",elementClass:"bv-form",events:{formInit:"init.form.bv",formError:"error.form.bv",formSuccess:"success.form.bv",fieldAdded:"added.field.bv",fieldRemoved:"removed.field.bv",fieldInit:"init.field.bv",fieldError:"error.field.bv",fieldSuccess:"success.field.bv",fieldStatus:"status.field.bv",validatorError:"error.validator.bv",validatorSuccess:"success.validator.bv"},excluded:[":disabled",":hidden",":not(:visible)"],fields:null,group:".form-group",live:"enabled",message:"This value is not valid",language:"cn",submitButtons:'[type\x3d"submit"]',threshold:null,verbose:!0};d.fn.jQValidator.validators={};d.fn.jQValidator.i18n={};d.fn.jQValidator.Constructor=e;d.fn.jQValidator.helpers={call:function(a,b){if("function"===typeof a)return a.apply(this,b);if("string"===typeof a){"()"===a.substring(a.length-2)&&(a=a.substring(0,a.length-2));a=a.split(".");for(var c=a.pop(),d=window,e=0;e<a.length;e++)d=d[a[e]];return"undefined"===typeof d[c]?null:d[c].apply(this,b)}},format:function(a,b){d.isArray(b)||(b=[b]);for(var c in b)a=a.replace("%s",b[c]);return a},date:function(a,b,c,d){if(isNaN(a)||isNaN(b)||isNaN(c)||2<c.length||2<b.length||4<a.length)return!1;c=parseInt(c,10);b=parseInt(b,10);a=parseInt(a,10);if(1E3>a||9999<a||0>=b||12<b)return!1;var e=[31,28,31,30,31,30,31,31,30,31,30,31];if(0===a%400||0!==a%100&&0===a%4)e[1]=29;if(0>=c||c>e[b-1])return!1;if(!0===d){var f=new Date;d=f.getFullYear();e=f.getMonth();f=f.getDate();return a<d||a===d&&b-1<e||a===d&&b-1===e&&c<f}return!0},luhn:function(a){for(var b=a.length,c=0,d=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],e=0;b--;)e+=d[c][parseInt(a.charAt(b),10)],c^=1;return 0===e%10&&0<e},mod11And10:function(a){for(var b=5,c=a.length,d=0;d<c;d++)b=(2*(b||10)%11+parseInt(a.charAt(d),10))%10;return 1===b},mod37And36:function(a,b){b=b||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var c=b.length,d=a.length,e=Math.floor(c/2),g=0;g<d;g++)e=(2*(e||c)%(c+1)+b.indexOf(a.charAt(g)))%c;return 1===e}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.notEmpty=d.extend(d.fn.jQValidator.i18n.notEmpty||{},{"default":"This field is required",language:{cn:"\u6b64\u9879\u4e3a\u5fc5\u586b\u9879",en:"This field is required",other:"This field is required"}});d.fn.jQValidator.validators.notEmpty={enableByHtml5:function(d){d=d.attr("required")+"";return"required"===d||"true"===d},validate:function(e,a,b){var c=a.attr("type"),f=a.val(),h=e.options.language;mssg=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.notEmpty.language[h]);if("radio"===c||"checkbox"===c)return{valid:0<e.getFieldElements(a.attr("data-bv-field")).filter(":checked").length,message:mssg};if("number"===c&&a.get(0).validity&&!0===a.get(0).validity.badInput)return{valid:!0,message:mssg};f=d.trim(f);return{valid:""!==f?!0:!1,message:mssg}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.regexp=d.extend(d.fn.jQValidator.i18n.regexp||{},{"default":"Please enter a value matching the pattern"});d.fn.jQValidator.validators.regexp={html5Attributes:{message:"message",regexp:"regexp"},enableByHtml5:function(d){return(d=d.attr("pattern"))?{regexp:d}:!1},validate:function(d,a,b){d=a.val();return""===d?!0:("string"===typeof b.regexp?new RegExp(b.regexp):b.regexp).test(d)}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.identical=d.extend(d.fn.jQValidator.i18n.identical||{},{"default":"Please enter the same value"});d.fn.jQValidator.validators.identical={html5Attributes:{message:"message",field:"field",ismain:!1},validate:function(d,a,b){a=a.val();var c=b.ismain;if(""===a)return!0;var e=d.getFieldElements(b.field);return null===e||0===e.length?!0:a===e.val()?(d.updateStatus(b.field,d.STATUS_VALID,"identical"),!0):0==e.val().length||null==e.val()?c?!0:!1:!1}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.different=d.extend(d.fn.jQValidator.i18n.different||{},{"default":"Please enter a different value"});d.fn.jQValidator.validators.different={html5Attributes:{message:"message",field:"field"},validate:function(d,a,b){a=a.val();if(""===a)return!0;b=b.field.split(",");for(var c=!0,e=0;e<b.length;e++){var h=d.getFieldElements(b[e]);if(null!=h&&0!==h.length){var g=h.val();a===g?c=!1:""!==g&&d.updateStatus(h,d.STATUS_VALID,"different")}}return c}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.emailAddress=d.extend(d.fn.jQValidator.i18n.emailAddress||{},{"default":"Exzample: name@domain.com",language:{cn:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u5730\u5740",en:"Exzample: name@domain.com",other:"Exzample:name@domain.com"}});d.fn.jQValidator.validators.emailAddress={html5Attributes:{message:"message",multiple:"multiple",separator:"separator"},enableByHtml5:function(d){return"email"===d.attr("type")},validate:function(e,a,b){a=a.val();e=e.options.language;e=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.emailAddress.language[e]);if(""===a)return!0;var c=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!0===b.multiple||"true"===b.multiple){b=this._splitEmailAddresses(a,b.separator||/[,;]/);for(a=0;a<b.length;a++)if(!c.test(b[a]))return{valid:!1,message:e};return!0}return{valid:c.test(a),message:e}},_splitEmailAddresses:function(d,a){d=d.split(/"/);for(var b=d.length,c=[],e="",h=0;h<b;h++)if(0===h%2){var g=d[h].split(a),l=g.length;if(1===l)e+=g[0];else{c.push(e+g[0]);for(e=1;e<l-1;e++)c.push(g[e]);e=g[l-1]}}else e+='"'+d[h],h<b-1&&(e+='"');c.push(e);return c}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.file=d.extend(d.fn.jQValidator.i18n.file||{},{"default":"Please choose a valid file",typeMssg:{cn:"\u8bf7\u4e0a\u4f20\u6b63\u786e\u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u5982\uff1a%s",en:"Exzample: %s",other:"Exzample: %s"}});d.fn.jQValidator.validators.file={html5Attributes:{extension:"extension",maxfiles:"maxFiles",minfiles:"minFiles",maxsize:"maxSize",minsize:"minSize",maxtotalsize:"maxTotalSize",mintotalsize:"minTotalSize",message:"message",type:"type"},validate:function(e,a,b){var c=a.val();e=e.options.language;e=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.file.typeMssg[e],b.extension);if(""===c)return!0;var f=b.extension?b.extension.replace(/\s+/g,"").toLowerCase().split(","):null,h=b.type?b.type.replace(/\s+/g,"").toLowerCase().split(","):null;if(window.File&&window.FileList&&window.FileReader){var c=a.get(0).files,g=c.length,l=0;if(b.maxFiles&&g>parseInt(b.maxFiles,10)||b.minFiles&&g<parseInt(b.minFiles,10))return{valid:!1,message:e};for(var k=0;k<g;k++)if(l+=c[k].size,a=c[k].name.substr(c[k].name.lastIndexOf(".")+1),b.minSize&&c[k].size<parseInt(b.minSize,10)||b.maxSize&&c[k].size>parseInt(b.maxSize,10)||f&&-1===d.inArray(a.toLowerCase(),f)||c[k].type&&h&&-1===d.inArray(c[k].type.toLowerCase(),h))return{valid:!1,message:e};if(b.maxTotalSize&&l>parseInt(b.maxTotalSize,10)||b.minTotalSize&&l<parseInt(b.minTotalSize,10))return{valid:!1,message:e}}else if(a=c.substr(c.lastIndexOf(".")+1),f&&-1===d.inArray(a.toLowerCase(),f))return{valid:!1,message:e};return!0}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.lessThan=d.extend(d.fn.jQValidator.i18n.lessThan||{},{"default":"Please enter a value less than or equal to %s",notInclusive:"Please enter a value less than %s"});d.fn.jQValidator.validators.lessThan={html5Attributes:{message:"message",value:"value",inclusive:"inclusive"},enableByHtml5:function(d){var a=d.attr("type");return(d=d.attr("max"))&&"date"!==a?{value:d}:!1},validate:function(e,a,b){var c=a.val();if(""===c)return!0;c=this._format(c);if(!d.isNumeric(c))return!1;e=d.isNumeric(b.value)?b.value:e.getDynamicOption(a,b.value);a=this._format(e);c=parseFloat(c);return!0===b.inclusive||void 0===b.inclusive?{valid:c<=a,message:d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.lessThan["default"],e)}:{valid:c<a,message:d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.lessThan.notInclusive,e)}},_format:function(d){return(d+"").replace(",",".")}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.remote=d.extend(d.fn.jQValidator.i18n.remote||{},{"default":"Please enter a valid value"});d.fn.jQValidator.validators.remote={html5Attributes:{message:"message",name:"name",type:"type",url:"url",data:"data",delay:"delay"},destroy:function(d,a,b){a.data("bv.remote.timer")&&(clearTimeout(a.data("bv.remote.timer")),a.removeData("bv.remote.timer"))},validate:function(e,a,b){function c(){var b=d.ajax({type:m,headers:p,url:k,dataType:"json",data:l});b.then(function(b){b.valid=!0===b.result.valid||"true"===b.result.valid;h.resolve(a,"remote",b)});h.fail(function(){b.abort()});return h}var f=a.val(),h=new d.Deferred;if(""===f)return h.resolve(a,"remote",{valid:!0}),h;var g=a.attr("data-bv-field"),l=b.data||{},k=b.url,m=b.type||"GET",p=b.headers||{};"function"===typeof l&&(l=l.call(this,e));"string"===typeof l&&(l=JSON.parse(l));"function"===typeof k&&(k=k.call(this,e));l[b.name||g]=f;return b.delay?(a.data("bv.remote.timer")&&clearTimeout(a.data("bv.remote.timer")),a.data("bv.remote.timer",setTimeout(c,b.delay)),h):c()}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.stringLength=d.extend(d.fn.jQValidator.i18n.stringLength||{},{"default":"Please enter a value with valid length",language:{cn:{less:"\u8bf7\u8f93\u5165\u5c0f\u4e8e\u6216\u7b49\u4e8e%s\u4f4d\u5b57\u7b26\u957f\u5ea6\u7684\u503c",more:"\u8bf7\u8f93\u5165\u5927\u4e8e\u6216\u7b49\u4e8e%s\u4f4d\u5b57\u7b26\u957f\u5ea6\u7684\u503c",between:"\u8bf7\u8f93\u5165%s\u5230%s\u4f4d\u5b57\u7b26\u957f\u5ea6\u7684\u503c"},en:{less:"Please enter less than %s characters",more:"Please enter more than %s characters",between:"Please enter value between %s and %s characters long"},other:{less:"Please enter less than %s characters",more:"Please enter more than %s characters",between:"Please enter value between %s and %s characters long"}}});d.fn.jQValidator.validators.stringLength={html5Attributes:{message:"message",min:"min",max:"max",trim:"trim",utf8bytes:"utf8Bytes"},enableByHtml5:function(e){var a={},b=e.attr("maxlength");e=e.attr("minlength");b&&(a.max=parseInt(b,10));e&&(a.min=parseInt(e,10));return d.isEmptyObject(a)?!1:a},validate:function(e,a,b){var c=a.val(),f=e.options.language,c=c.replace(/[ ]/g,"");if(""===c)return!0;var h=d.isNumeric(b.min)?b.min:e.getDynamicOption(a,b.min);e=d.isNumeric(b.max)?b.max:e.getDynamicOption(a,b.max);if(b.utf8Bytes){a=c.length;for(var g=c.length-1;0<=g;g--){var l=c.charCodeAt(g);127<l&&2047>=l?a++:2047<l&&65535>=l&&(a+=2);56320<=l&&57343>=l&&g--}c=a}else c=c.length;a=!0;g=b.message||d.fn.jQValidator.i18n.stringLength["default"];if(h&&c<parseInt(h,10)||e&&c>parseInt(e,10))a=!1;switch(!0){case !!h&&!!e:g=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.stringLength.language[f].between,[parseInt(h,10),parseInt(e,10)]);break;case !!h:g=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.stringLength.language[f].more,parseInt(h,10));break;case !!e:g=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.stringLength.language[f].less,parseInt(e,10))}return{valid:a,message:g}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.idCard=d.extend(d.fn.jQValidator.i18n.idCard||{},{"default":"Please enter a valid identification number",language:{cn:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8eab\u4efd\u8bc1\u53f7\u7801",en:"Please enter a valid identification number",other:"Please enter a valid identification number"}});d.fn.jQValidator.validators.idCard={html5Attributes:{message:"message"},validate:function(e,a,b){a=a.val();e=e.options.language;b=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.idCard.language[e]);if(""===a)return!0;a=d.trim(a);if(!/^\d{17}[\dXx]{1}$/.test(a))return{valid:!1,message:b};var c;18===a.length&&(c=a.substr(6,8));e=parseInt(c.substr(0,4),10);var f=parseInt(c.substr(4,2),10);c=parseInt(c.substr(6,2),10);if(!d.fn.jQValidator.helpers.date(e,f,c))return{valid:!1,message:b};if(18===a.length){c=0;b=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];for(i=0;17>i;i++)c+=parseInt(a.charAt(i),10)*b[i];c=(12-c%11)%11;return("X"!==a.charAt(17).toUpperCase()?parseInt(a.charAt(17),10):10)===c}return{valid:!0,message:b}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.phone=d.extend(d.fn.jQValidator.i18n.phone||{},{"default":"Please enter a valid phone number",phoneTypes:{LD:"\u5ea7\u673a",MB:"\u624b\u673a",ALL:"\u7535\u8bdd"},language:{cn:"\u8bf7\u8f93\u5165\u6709\u6548\u7684%s\u53f7\u7801",en:"Please enter a valid phone number",other:"Please enter a valid phone number"}});d.fn.jQValidator.validators.phone={html5Attributes:{message:"message",phoneType:"phoneType",isOpenHKM:!1},PHONE_TYPE:["LD","MB","ALL"],validate:function(e,a,b){var c=a.val(),f=a.attr("data-areaCode");lang=e.options.language;var h=b.phoneType,g=b.isOpenHKM;b=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.phone.language[lang],d.fn.jQValidator.i18n.phone.phoneTypes[h]);if(""===c)return!0;if("string"!==typeof h||-1===d.inArray(h,this.PHONE_TYPE))h=e.getDynamicOption(a,h);if(!h||-1===d.inArray(h.toUpperCase(),this.PHONE_TYPE))return{valid:!1,message:b};c=d.trim(c);switch(h.toUpperCase()){case "LD":e=/^(0\d{2,3})?(-)?\d{5,8}(-\d{1,4})?$/.test(c);break;case "MB":e=/^((00|\+)?(86(?:|-| )))?(1[3-9]\d{9}$)|^(([00]{1,2}|\+)?(852(?:|-| )))?(([6|9])\d{7}$)|^(([00]{1,2}|\+)?(853(?:|-| )))?(([6])\d{7}$)/.test(c);break;case "ALL":e=/^((00|\+)?(86(?:|-| )))?((1[3-9]\d{9})|(0\d{2,3})?(-)?\d{5,8}(-\d{1,4})?|(\d{3}[- ]{1}\d{4}[- ]{1}\d{4})|((\d{2,4}[- ]){1}(\d{5,8}|(\d{3,4}[- ]{1}\d{4}))([- ]{1}\d{1,4})?))$/.test(c);break;default:e=/^((00|\+)?(86(?:|-| )))?((1[3|4|5|6|7|8|9]\d{9})|(0\d{2,3})?(-)?\d{5,8}(-\d{1,4})?|(\d{3}[- ]{1}\d{4}[- ]{1}\d{4})|((\d{2,4}[- ]){1}(\d{5,8}|(\d{3,4}[- ]{1}\d{4}))([- ]{1}\d{1,4})?))$/.test(c)}6<c.length&&0==c.indexOf("0000000")&&(e=!1);"MB"!=h.toUpperCase()||g||(e=/^((00|\+)?(86(?:|-| )))?(1[3-9]\d{9}$)/.test(c));f&&"MB"==h.toUpperCase()&&g&&(-1!=f.indexOf("852")&&(e=/^([6|9])\d{7}$/.test(c)),-1!=f.indexOf("853")&&(e=/^([6])\d{7}$/.test(c)));return{valid:e,message:b}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.bankCard=d.extend(d.fn.jQValidator.i18n.bankCard||{},{"default":"Please enter a valid card number",language:{cn:"\u8bf7\u8f93\u516516-19\u4f4d\u5b57\u7b26\u7684\u94f6\u884c\u5361\u53f7",en:"Please enter a valid card number",other:"Please enter a valid card number"}});d.fn.jQValidator.validators.bankCard={html5Attributes:{message:"message"},validate:function(e,a,b){a.attr("type");a=d.trim(a.val());e=e.options.language;b=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.bankCard.language[e]);e=a.length;return""===a?!0:{valid:15<e&&20>e?/^[0-9]+$/.test(a)?!0:!1:!1,message:b}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.QQNumber=d.extend(d.fn.jQValidator.i18n.QQNumber||{},{"default":"Please enter a valid QQ number",language:{cn:"\u8bf7\u8f93\u5165\u6709\u6548\u7684QQ\u53f7\u7801",en:"Please enter a valid QQ number",other:"Please enter a valid QQ number"}});d.fn.jQValidator.validators.QQNumber={html5Attributes:{message:"message"},validate:function(e,a,b){a.attr("type");a=d.trim(a.val());e=e.options.language;b=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.QQNumber.language[e]);return""===a?!0:{valid:16>a.length?/^[0-9]+$/.test(a)?!0:!1:!1,message:b}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.birthDate=d.extend(d.fn.jQValidator.i18n.birthDate||{},{"default":"Please enter a valid value",language:{cn:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u51fa\u751f\u65e5\u671f",en:"Please enter a valid value",other:"Please enter a valid value"}});d.fn.jQValidator.validators.birthDate={html5Attributes:{idCardName:"",message:"message"},validate:function(e,a,b){var c=e.$form;a.attr("type");a=d.trim(a.val());var f=b.idCardName,c=c.find('[name\x3d"'+f+'"]');e=e.options.language;b=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.birthDate.language[e]);e=!0;c=c.val();if(""===a||""===f||null===f||""==c||null==c)return!0;if(c){a=a.split("-");e=c.substr(6,8);f=parseInt(e.substr(0,4),10);c=parseInt(e.substr(4,2),10);e=parseInt(e.substr(6,2),10);var h,g;2<a.length?(h=parseInt(a[0],10),g=parseInt(a[1],10),a=parseInt(a[2],10),e=h==f&&g==c&&a==e?!0:!1):2<a[0].length?(bbirthYear=parseInt(a[0],10),g=parseInt(a[1],10),e=h==f&&g==c?!0:!1):(g=parseInt(a[0],10),a=parseInt(a[1],10),e=g==c&&a==e?!0:!1)}return{valid:e,message:b}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.gender=d.extend(d.fn.jQValidator.i18n.gender||{},{"default":"Please enter a valid value",language:{cn:"\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u6027\u522b",en:"Please enter a valid value",other:"Please enter a valid value"}});d.fn.jQValidator.validators.gender={html5Attributes:{idCardName:"",message:"message"},validate:function(e,a,b){var c=e.$form;a.attr("type");a=a.attr("name");a=d.trim(c.find('[name\x3d"'+a+'"]:checked').val());var f=b.idCardName;e=e.options.language;b=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.gender.language[e]);c=c.find('[name\x3d"'+f+'"]').val();e=0;if(""===a||""===f||null===f||""==c||null==c)return!0;2*parseInt(c.charAt(16)/2)!=c.charAt(16)&&(e=1);return{valid:parseInt(a)==e?!0:!1,message:b}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.pwdSafety=d.extend(d.fn.jQValidator.i18n.pwdSafety||{},{"default":"Please enter a password with two or more character types",language:{cn:"\u8bf7\u8f93\u5165\u81f3\u5c11\u5305\u542b\u4e24\u79cd\u5b57\u7b26\u7c7b\u578b\uff08\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u6807\u70b9\u7b26\u53f7\u53ca\u7279\u6b8a\u5b57\u7b26\u7b49\uff09\u7684\u5bc6\u7801",en:"Please enter a password with two or more character types",other:"Please enter a password with two or more character types"}});d.fn.jQValidator.validators.pwdSafety={html5Attributes:{message:"message"},validate:function(e,a,b){a.attr("type");a=d.trim(a.val());e=e.options.language;b=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.pwdSafety.language[e]);if(""===a)return!0;e=0;6>a.length?a=0:(/[a-z]/.test(a)&&e++,/[A-Z]/.test(a)&&e++,/[0-9]/.test(a)&&e++,RegExp(/[(\ )(\~)(\!)(\@)(\#)(\$)(\%)(\^)(\&)(\*)(\()(\))(\-)(\_)(\+)(\=)(\[)(\])(\{)(\})(\|)(\\)(\;)(\:)(\')(\")(\,)(\.)(\/)(\<)(\>)(\?)(\)]+/).test(a)&&e++,a=e);return{valid:1==a?!1:!0,message:b}}}})(window.jQuery);