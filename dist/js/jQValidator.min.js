/*********
***
*** jQValidator.js
*** 可以兼容ie7+以上的ie浏览器及现代主流浏览器
*** version 2.7.1
*** modify by Tammy  2021.04.17
*** 
*** 新增密码安全等级判断
*** 修改identical校验的bug问题,并新增参数ismain：当前进行identical校验的控件是否为主体
***
******/(function(d){var e=function(a,b){this.jqVersion="2.7.1";this.$form=d(a);this.options=d.extend({},d.fn.jQValidator._defaults,b);this.$invalidFields=d([]);this.$hiddenButton=this.$submitButton=null;this.STATUS_NOT_VALIDATED="NOT_VALIDATED";this.STATUS_VALIDATING="VALIDATING";this.STATUS_INVALID="INVALID";this.STATUS_VALID="VALID";a=3;b=document.createElement("div");for(var c=b.all||[];b.innerHTML="\x3c!--[if gt IE "+ ++a+"]\x3e\x3cbr\x3e\x3c![endif]--\x3e",c[0];);a=4<a?a:!a;b=document.createElement("div");this._changeEvent=9!==a&&"oninput"in b?"input":"keyup";this._submitIfValid=null;this._cacheFields={};this._init()};e.prototype={constructor:e,_init:function(){var a=this,b={autoFocus:this.$form.attr("data-bv-autofocus"),isClearForm:this.$form.attr("data-bv-isClearForm"),clearButton:this.$form.attr("data-bv-clearButton"),container:this.$form.attr("data-bv-container"),singleVis:this.$form.attr("data-bv-singleVis"),tipsWay:this.$form.attr("data-bv-tipsWay"),events:{formInit:this.$form.attr("data-bv-events-form-init"),formError:this.$form.attr("data-bv-events-form-error"),formSuccess:this.$form.attr("data-bv-events-form-success"),fieldAdded:this.$form.attr("data-bv-events-field-added"),fieldRemoved:this.$form.attr("data-bv-events-field-removed"),fieldInit:this.$form.attr("data-bv-events-field-init"),fieldError:this.$form.attr("data-bv-events-field-error"),fieldSuccess:this.$form.attr("data-bv-events-field-success"),fieldStatus:this.$form.attr("data-bv-events-field-status"),validatorError:this.$form.attr("data-bv-events-validator-error"),validatorSuccess:this.$form.attr("data-bv-events-validator-success")},excluded:this.$form.attr("data-bv-excluded"),feedbackIcons:{valid:this.$form.attr("data-bv-feedbackicons-valid"),invalid:this.$form.attr("data-bv-feedbackicons-invalid"),validating:this.$form.attr("data-bv-feedbackicons-validating")},group:this.$form.attr("data-bv-group"),live:this.$form.attr("data-bv-live"),language:this.$form.attr("data-bv-language"),message:this.$form.attr("data-bv-message"),onError:this.$form.attr("data-bv-onerror"),onSuccess:this.$form.attr("data-bv-onsuccess"),submitButtons:this.$form.attr("data-bv-submitbuttons"),threshold:this.$form.attr("data-bv-threshold"),trigger:this.$form.attr("data-bv-trigger"),verbose:this.$form.attr("data-bv-verbose"),fields:{}};this.options.isClearForm&&this.$form.find(".form-control").val("").end().find('input[type\x3d"radio"]').removeAttr("checked").removeAttr("selected").end().find('input[type\x3d"checkbox"]').removeAttr("checked").removeAttr("selected").end().find(".frm-file-box .result").html("");d(".form-control").off(this._changeEvent).on(this._changeEvent,function(){var b=a.options.group,c=a.options.clearButton,e=d(this).val(),h=d(this).attr("type"),l=d(this).get(0).tagName;d(this).attr("name");if(0<e.length){if("input"==l){if("text"==h||"password"==h||"number"==h||"email"==h||"tel"==h||null==h)l=d.trim(e),e.length>l.length&&d(this).val(l);"number"==h&&(l=d(this).val().replace(/[^\d]/ig,""),d(this).val(l))}"file"!=h&&d(this).val(a.filterField(e));d(this).parents(b).find(c).css("display","block")}else d(this).parents(b).find(c).hide()});this.$form.attr("novalidate","novalidate").addClass(this.options.elementClass).on("submit.bv",function(b){b.preventDefault();a.validate()}).on("click.bv",this.options.submitButtons,function(){a.$submitButton=d(this);a._submitIfValid=!0}).find("[name], [data-bv-field]").each(function(){var c=d(this),e=c.attr("name")||c.attr("data-bv-field"),g=a._parseOptions(c);g&&(c.attr("data-bv-field",e),b.fields[e]=d.extend({},g,b.fields[e]))});this.$form.find(this.options.clearButton).each(function(){var b=d(this),c=b.parents(".form-group").find("[name], [data-bv-field]"),e=c.attr("name")||c.attr("data-bv-field");b.attr("data-clear-for",e);a.clearField(c,b)});this.options=d.extend(!0,this.options,b);this.$hiddenButton=d("\x3cbutton/\x3e").attr("type","submit").prependTo(this.$form).addClass("bv-hidden-submit").css({display:"none",width:0,height:0});this.$form.on("click.bv",'[type\x3d"submit"]',function(b){b.isDefaultPrevented()||(b=d(b.target),b=b.is('[type\x3d"submit"]')?b.eq(0):b.parent('[type\x3d"submit"]').eq(0),!a.options.submitButtons||b.is(a.options.submitButtons)||b.is(a.$hiddenButton)||a.$form.off("submit.bv").submit())});for(var c in this.options.fields)this._initField(c)},_parseOptions:function(a){var b=a.attr("name")||a.attr("data-bv-field"),c={},f,e,g,h,l,m;for(e in d.fn.jQValidator.validators)if(f=d.fn.jQValidator.validators[e],g="data-bv-"+e.toLowerCase(),h=a.attr(g)+"",(l="function"===typeof f.enableByHtml5?f.enableByHtml5(a):null)&&"false"!==h||!0!==l&&(""===h||"true"===h||g===h.toLowerCase()))for(m in f.html5Attributes=d.extend({},{message:"message",onerror:"onError",onsuccess:"onSuccess"},f.html5Attributes),c[e]=d.extend({},!0===l?{}:l,c[e]),f.html5Attributes)if(g=f.html5Attributes[m],h="data-bv-"+e.toLowerCase()+"-"+m,l=a.attr(h))"true"===l||h===l.toLowerCase()?l=!0:"false"===l&&(l=!1),c[e][g]=l;a={autoFocus:a.attr("data-bv-autofocus"),isClearForm:a.attr("data-bv-isClearForm"),clearButton:a.attr("data-bv-clearButton"),container:a.attr("data-bv-container"),singleVis:a.attr("data-bv-singleVis"),tipsWay:a.attr("data-bv-tipsWay"),excluded:a.attr("data-bv-excluded"),feedbackIcons:a.attr("data-bv-feedbackicons"),group:a.attr("data-bv-group"),language:a.attr("data-bv-language"),message:a.attr("data-bv-message"),onError:a.attr("data-bv-onerror"),onStatus:a.attr("data-bv-onstatus"),onSuccess:a.attr("data-bv-onsuccess"),selector:a.attr("data-bv-selector"),threshold:a.attr("data-bv-threshold"),trigger:a.attr("data-bv-trigger"),verbose:a.attr("data-bv-verbose"),validators:c};f=d.isEmptyObject(a);return!d.isEmptyObject(c)||!f&&this.options.fields&&this.options.fields[b]?(a.validators=c,a):null},_initField:function(a){var b=d([]);switch(typeof a){case "object":b=a;a=a.attr("data-bv-field");break;case "string":b=this.getFieldElements(a),b.attr("data-bv-field",a)}if(0!==b.length&&null!==this.options.fields[a]&&null!==this.options.fields[a].validators){for(var c in this.options.fields[a].validators)d.fn.jQValidator.validators[c]||delete this.options.fields[a].validators[c];null===this.options.fields[a].enabled&&(this.options.fields[a].enabled=!0);for(var f=this,e=b.length,g=b.attr("type"),h=1===e||"radio"===g||"checkbox"===g,l="radio"===g||"checkbox"===g||"file"===g||"SELECT"===b.eq(0).get(0).tagName?"change":this._changeEvent,l=(this.options.fields[a].trigger||this.options.trigger||l).split(" "),m=d.map(l,function(a){return a+".update.bv"}).join(" "),p=0;p<e;p++){var n=b.eq(p),q=this.options.fields[a].group||this.options.group,r=n.parents(q),u=this.options.clearButton;container="function"===typeof(this.options.fields[a].container||this.options.container)?(this.options.fields[a].container||this.options.container).call(this,n,this):this.options.fields[a].container||this.options.container;isShowNormal="normal"==this.options.tipsWay?!0:!1;$message=container?d(container):this._getMessageContainer(n,q);container&&$message.addClass("has-error");$message.find('.help-block[data-bv-validator][data-bv-for\x3d"'+a+'"]').remove();r.find('i[data-bv-icon-for\x3d"'+a+'"]').remove();n.off(m).on(m,function(){var b=d(this).val(),c=d(this).attr("type");0<b.length?("input"!=d(this).get(0).tagName||"text"!=c&&"password"!=c&&"number"!=c&&"email"!=c&&"tel"!=c&&null!=c||(c=d.trim(b),b.length>c.length&&d(this).val(c)),r.find(u).css("display","block")):r.find(u).hide();container&&!isShowNormal&&d(container).hide();if(f.options.fields[a].validators.phone){var e=f.options.fields[a].validators.phone.phoneType,c=b.replace(/[^-\d]/g,"");"MB"==e?11<c.length&&(c=c.substr(0,11)):18<c.length&&(c=c.substr(0,18));d(this).val(c)}f.options.fields[a].validators.idCard&&(18>b.length?d(this).val(b.replace(/[^\d]/g,"")):18==b.length?(c=b.substring(0,17),e=b.substring(17,18),e=e.replace(/[^xX\d]/g,""),"x"==e&&(e=e.toUpperCase()),d(this).val(c+e)):(c=b.substring(0,18),d(this).val(c)));f.options.fields[a].validators.bankCard&&(c=b.replace(/[^\d]/ig,""),19<c.length&&(c=c.substr(0,19)),d(this).val(c));f.options.fields[a].validators.QQNumber&&(c=b.replace(/[^\d]/ig,""),15<c.length&&(c=c.substr(0,15)),d(this).val(c));f.updateStatus(d(this),f.STATUS_NOT_VALIDATED)});n.data("bv.messages",$message);for(c in this.options.fields[a].validators)n.data("bv.result."+c,this.STATUS_NOT_VALIDATED),h&&p!==e-1||d("\x3cdiv/\x3e").css("display","none").addClass("help-block").attr("data-bv-validator",c).attr("data-bv-for",a).attr("data-bv-result",this.STATUS_NOT_VALIDATED).html(this._getMessage(a,c)).appendTo($message),"function"===typeof d.fn.jQValidator.validators[c].init&&d.fn.jQValidator.validators[c].init(this,n,this.options.fields[a].validators[c]);container&&("tooltip"==this.options.tipsWay?(d(container).addClass("frm-tooltip"),n.off("blur.container.bv").on("blur.container.bv",function(){f._isTooltip(a)})):d(container).removeClass("frm-tooltip"));if(!1!==this.options.fields[a].feedbackIcons&&"false"!==this.options.fields[a].feedbackIcons&&this.options.feedbackIcons&&this.options.feedbackIcons.validating&&this.options.feedbackIcons.invalid&&this.options.feedbackIcons.valid&&(!h||p===e-1)){r.addClass("has-feedback");q=d("\x3ci/\x3e").css("display","none").addClass("form-control-feedback").attr("data-bv-icon-for",a).insertAfter(n);if("checkbox"===g||"radio"===g){var t=n.parent();t.hasClass(g)?q.insertAfter(t):t.parent().hasClass(g)&&q.insertAfter(t.parent())}0===r.find("label").length&&q.addClass("bv-no-label");0!==r.find(".input-group").length&&q.addClass("bv-icon-input-group").insertAfter(r.find(".input-group").eq(0));h?p===e-1&&b.data("bv.icon",q):n.data("bv.icon",q)}}b.on(this.options.events.fieldSuccess,function(a,b){var c=f.getOptions(b.field,null,"onSuccess");c&&d.fn.jQValidator.helpers.call(c,[a,b])}).on(this.options.events.fieldError,function(a,b){var c=f.getOptions(b.field,null,"onError");c&&d.fn.jQValidator.helpers.call(c,[a,b])}).on(this.options.events.fieldStatus,function(a,b){var c=f.getOptions(b.field,null,"onStatus");c&&d.fn.jQValidator.helpers.call(c,[a,b])}).on(this.options.events.validatorError,function(a,b){var c=f.getOptions(b.field,b.validator,"onError");c&&d.fn.jQValidator.helpers.call(c,[a,b])}).on(this.options.events.validatorSuccess,function(a,b){var c=f.getOptions(b.field,b.validator,"onSuccess");c&&d.fn.jQValidator.helpers.call(c,[a,b])});m=d.map(l,function(a){return a+".live.bv"}).join(" ");switch(this.options.live){case "submitted":break;case "disabled":b.off(m);break;case "blurred":b.off(m).on("blur",function(){f._exceedThreshold(d(this))&&f.validateField(d(this))});break;default:b.off(m).on(m,function(){f._exceedThreshold(d(this))&&f.validateField(d(this))})}b.trigger(d.Event(this.options.events.fieldInit),{bv:this,field:a,element:b})}},_isTooltip:function(a){var b=this.options.container;a=d('.help-block[data-bv-for\x3d"'+a+'"][data-bv-result\x3d"'+this.STATUS_INVALID+'"]');this.$form.find(".help-block[data-bv-validator]").hide();0<a.length?(a.first().show(),a=d(b).outerWidth()/2*-1,a=/msie [6|7|8]/i.test(navigator.userAgent)?a:0,d(b).css("margin-left",a).stop(!0,!0).fadeIn(500,function(){setTimeout(function(){d(b).fadeOut(500)},3E3)})):d(b).hide()},_getMessage:function(a,b){if(!(this.options.fields[a]&&d.fn.jQValidator.validators[b]&&this.options.fields[a].validators&&this.options.fields[a].validators[b]))return"";var c=this.options.fields[a].validators[b];switch(!0){case !!c.message:return c.message;case !!this.options.fields[a].message:return this.options.fields[a].message;case !!d.fn.jQValidator.i18n[b]:return d.fn.jQValidator.i18n[b]["default"];default:return this.options.message}},_getMessageContainer:function(a,b){a=a.parent();if(a.is(b))return a;var c=a.attr("class");if(!c||"form-group-cell"!=c&&"form-group-bd"!=c)return this._getMessageContainer(a,b);for(var c=c.split(" "),d=c.length;0<d;)return/^col-(xs|sm|md|lg)-\d+$/.test(c[0])||/^col-(xs|sm|md|lg)-offset-\d+$/.test(c[0]),a;return this._getMessageContainer(a,b)},_submit:function(){var a=this.isValid(),b=d.Event(a?this.options.events.formSuccess:this.options.events.formError);this.$form.trigger(b);this.$submitButton&&(a?this._onSuccess(b):this._onError(b))},_isExcluded:function(a){var b=a.attr("data-bv-excluded"),c=a.attr("data-bv-field")||a.attr("name");switch(!0){case !!c&&this.options.fields&&this.options.fields[c]&&("true"===this.options.fields[c].excluded||!0===this.options.fields[c].excluded):case "true"===b:case ""===b:return!0;case !!c&&this.options.fields&&this.options.fields[c]&&("false"===this.options.fields[c].excluded||!1===this.options.fields[c].excluded):case "false"===b:return!1;default:if(this.options.excluded)for("string"===typeof this.options.excluded&&(this.options.excluded=d.map(this.options.excluded.split(","),function(a){return d.trim(a)})),b=this.options.excluded.length,c=0;c<b;c++)if("string"===typeof this.options.excluded[c]&&a.is(this.options.excluded[c])||"function"===typeof this.options.excluded[c]&&!0===this.options.excluded[c].call(this,a,this))return!0;return!1}},_exceedThreshold:function(a){var b=a.attr("data-bv-field");return(b=this.options.fields[b].threshold||this.options.threshold)?-1!==d.inArray(a.attr("type"),"button checkbox file hidden image radio reset submit".split(" "))||a.val().length>=b:!0},_onError:function(a){if(!a.isDefaultPrevented()){if("submitted"===this.options.live){this.options.live="enabled";var b=this,c;for(c in this.options.fields)(function(a){a=b.getFieldElements(a);if(a.length){var f=d(a[0]).attr("type"),f="radio"===f||"checkbox"===f||"file"===f||"SELECT"===d(a[0]).get(0).tagName?"change":b._changeEvent,f=d.map((b.options.fields[c].trigger||b.options.trigger||f).split(" "),function(a){return a+".live.bv"}).join(" ");a.off(f).on(f,function(){b._exceedThreshold(d(this))&&b.validateField(d(this))})}})(c)}for(a=0;a<this.$invalidFields.length;a++){var f=this.$invalidFields.eq(a);if(this._isOptionEnabled(f.attr("data-bv-field"),"autoFocus")){f.focus();break}}}},_onSuccess:function(a){a.isDefaultPrevented()||this.disableSubmitButtons(!0).defaultSubmit()},_onFieldValidated:function(a,b){var c=a.attr("data-bv-field"),f=this.options.fields[c].validators,e={},g=0,h={bv:this,field:c,element:a,validator:b,result:a.data("bv.response."+b)};if(b)switch(a.data("bv.result."+b)){case this.STATUS_INVALID:a.trigger(d.Event(this.options.events.validatorError),h);break;case this.STATUS_VALID:a.trigger(d.Event(this.options.events.validatorSuccess),h)}e[this.STATUS_NOT_VALIDATED]=0;e[this.STATUS_VALIDATING]=0;e[this.STATUS_INVALID]=0;e[this.STATUS_VALID]=0;for(var l in f)!1!==f[l].enabled&&(g++,(b=a.data("bv.result."+l))&&e[b]++);e[this.STATUS_VALID]===g?(this.$invalidFields=this.$invalidFields.not(a),a.trigger(d.Event(this.options.events.fieldSuccess),h)):(0===e[this.STATUS_NOT_VALIDATED]||!this._isOptionEnabled(c,"verbose"))&&0===e[this.STATUS_VALIDATING]&&0<e[this.STATUS_INVALID]&&(this.$invalidFields=this.$invalidFields.add(a),a.trigger(d.Event(this.options.events.fieldError),h))},_isOptionEnabled:function(a,b){return!this.options.fields[a]||"true"!==this.options.fields[a][b]&&!0!==this.options.fields[a][b]?!this.options.fields[a]||"false"!==this.options.fields[a][b]&&!1!==this.options.fields[a][b]?"true"===this.options[b]||!0===this.options[b]:!1:!0},getFieldElements:function(a){this._cacheFields[a]||(this._cacheFields[a]=this.options.fields[a]&&this.options.fields[a].selector?d(this.options.fields[a].selector):this.$form.find('[name\x3d"'+a+'"]'));return this._cacheFields[a]},getOptions:function(a,b,c){if(!a)return c?this.options[c]:this.options;"object"===typeof a&&(a=a.attr("data-bv-field"));if(!this.options.fields[a])return null;a=this.options.fields[a];return b?a.validators&&a.validators[b]?c?a.validators[b][c]:a.validators[b]:null:c?a[c]:a},disableSubmitButtons:function(a){a?"disabled"!==this.options.live&&this.$form.find(this.options.submitButtons).attr("disabled","disabled"):this.$form.find(this.options.submitButtons).removeAttr("disabled");return this},validate:function(){if(!this.options.fields)return this;this.disableSubmitButtons(!0);this._submitIfValid=!1;for(var a in this.options.fields)this.validateField(a);this._submit();this._submitIfValid=!0;return this},validateField:function(a){var b=d([]);switch(typeof a){case "object":b=a;a=a.attr("data-bv-field");break;case "string":b=this.getFieldElements(a)}if(0===b.length||!this.options.fields[a]||!1===this.options.fields[a].enabled)return this;for(var c=this,e=b.attr("type"),k="radio"===e||"checkbox"===e?1:b.length,g="radio"===e||"checkbox"===e,e=this.options.fields[a].validators,h=this._isOptionEnabled(a,"verbose"),l,m,p=0;p<k;p++){var n=b.eq(p);if(!this._isExcluded(n)){var q=!1;for(l in e){n.data("bv.dfs."+l)&&n.data("bv.dfs."+l).reject();if(q)break;n.data("bv.result."+l);this.updateStatus(g?a:n,this.STATUS_VALID,l);n.data("bv.result."+l,this.STATUS_VALIDATING);m=d.fn.jQValidator.validators[l].validate(this,n,e[l]);if("object"===typeof m&&m.resolve)this.updateStatus(g?a:n,this.STATUS_VALIDATING,l),n.data("bv.dfs."+l,m),m.done(function(a,b,d){a.removeData("bv.dfs."+b).data("bv.response."+b,d);d.message&&c.updateMessage(a,b,d.message);c.updateStatus(g?a.attr("data-bv-field"):a,d.valid?c.STATUS_VALID:c.STATUS_INVALID,b);d.valid&&!0===c._submitIfValid?c._submit():d.valid||h||(q=!0)});else if("object"===typeof m&&void 0!==m.valid&&void 0!==m.message){if(n.data("bv.response."+l,m),this.updateMessage(g?a:n,l,m.message),this.updateStatus(g?a:n,m.valid?this.STATUS_VALID:this.STATUS_INVALID,l),!m.valid&&!h)break}else if("boolean"===typeof m&&(n.data("bv.response."+l,m),this.updateStatus(g?a:n,m?this.STATUS_VALID:this.STATUS_INVALID,l),!m&&!h))break}}}this.options.singleVis&&(a=d('.help-block[data-bv-for\x3d"'+a+'"][data-bv-result\x3d"'+this.STATUS_INVALID+'"]'),this.$form.find(".help-block[data-bv-validator]").hide(),a.first().show());return this},updateMessage:function(a,b,c){var e=d([]);switch(typeof a){case "object":e=a;a=a.attr("data-bv-field");break;case "string":e=this.getFieldElements(a)}e.each(function(){d(this).data("bv.messages").find('.help-block[data-bv-validator\x3d"'+b+'"][data-bv-for\x3d"'+a+'"]').html(c)})},updateStatus:function(a,b,c){var e=d([]);switch(typeof a){case "object":e=a;a=a.attr("data-bv-field");break;case "string":e=this.getFieldElements(a)}b===this.STATUS_NOT_VALIDATED&&(this._submitIfValid=!1);for(var k=e.attr("type"),g=this.options.fields[a].group||this.options.group,k="radio"===k||"checkbox"===k?1:e.length,h=0;h<k;h++){var l=e.eq(h);if(!this._isExcluded(l)){var m=l.parents(g),p=l.data("bv.messages").find('.help-block[data-bv-validator][data-bv-for\x3d"'+a+'"]'),n=c?p.filter('[data-bv-validator\x3d"'+c+'"]'):p,q=l.data("bv.icon");"function"===typeof(this.options.fields[a].container||this.options.container)&&(this.options.fields[a].container||this.options.container).call(this,l,this);if(c)l.data("bv.result."+c,b);else for(var r in this.options.fields[a].validators)l.data("bv.result."+r,b);n.attr("data-bv-result",b);switch(b){case this.STATUS_VALIDATING:this.disableSubmitButtons(!0);m.removeClass("has-success").removeClass("has-error");q&&q.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).addClass(this.options.feedbackIcons.validating).show();break;case this.STATUS_INVALID:this.disableSubmitButtons(!0);m.removeClass("has-success").addClass("has-error");q&&q.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.validating).addClass(this.options.feedbackIcons.invalid).show();break;case this.STATUS_VALID:p=0===p.filter('[data-bv-result\x3d"'+this.STATUS_NOT_VALIDATED+'"]').length?p.filter('[data-bv-result\x3d"'+this.STATUS_VALID+'"]').length===p.length:null;null!==p&&(this.disableSubmitButtons(this.$submitButton?!this.isValid():!p),q&&q.removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).removeClass(this.options.feedbackIcons.valid).addClass(p?this.options.feedbackIcons.valid:this.options.feedbackIcons.invalid).show());m.removeClass("has-error has-success").addClass(this.isValidContainer(m)?"has-success":"has-error");break;default:this.disableSubmitButtons(!1),m.removeClass("has-success").removeClass("has-error"),q&&q.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).hide()}b===this.STATUS_INVALID?n.show():n.hide();l.trigger(d.Event(this.options.events.fieldStatus),{bv:this,field:a,element:l,status:b});this._onFieldValidated(l,c)}}return this},isValid:function(){for(var a in this.options.fields)if(!this.isValidField(a)){for(var b=0;b<this.$invalidFields.length;b++){var c=this.$invalidFields.eq(b);c.parents(this.options.group);var d=this._isOptionEnabled(c.attr("data-bv-field"),"autoFocus"),e="tooltip"==this.options.tipsWay?!0:!1;this.options.singleVis&&(this.$form.find(".help-block[data-bv-validator]").hide(),this.$form.find('.help-block[data-bv-for\x3d"'+a+'"][data-bv-result\x3d"'+this.STATUS_INVALID+'"]').first().show());e&&this._isTooltip(a);if(d){c.focus();break}}return!1}return!0},isValidField:function(a){var b=d([]);switch(typeof a){case "object":b=a;a=a.attr("data-bv-field");break;case "string":b=this.getFieldElements(a)}if(0===b.length||!this.options.fields[a]||!1===this.options.fields[a].enabled)return!0;for(var c=b.attr("type"),c="radio"===c||"checkbox"===c?1:b.length,e,k,g,h=0;h<c;h++)if(e=b.eq(h),!this._isExcluded(e))for(k in this.options.fields[a].validators)if(!1!==this.options.fields[a].validators[k].enabled&&(g=e.data("bv.result."+k),g!==this.STATUS_VALID))return!1;return!0},isValidContainer:function(a){var b=this,c={};a="string"===typeof a?d(a):a;if(0===a.length)return!0;a.find("[data-bv-field]").each(function(){var a=d(this),e=a.attr("data-bv-field");b._isExcluded(a)||c[e]||(c[e]=a)});for(var e in c)if(0<c[e].data("bv.messages").find('.help-block[data-bv-validator][data-bv-for\x3d"'+e+'"]').filter('[data-bv-result\x3d"'+this.STATUS_INVALID+'"]').length)return!1;return!0},defaultSubmit:function(){this.$submitButton&&d("\x3cinput/\x3e").attr("type","hidden").attr("data-bv-submit-hidden","").attr("name",this.$submitButton.attr("name")).val(this.$submitButton.val()).appendTo(this.$form);this.$form.off("submit.bv").submit()},getInvalidFields:function(){return this.$invalidFields},getSubmitButton:function(){return this.$submitButton},getMessages:function(a,b){var c=this,e=[],k=d([]);switch(!0){case a&&"object"===typeof a:k=a;break;case a&&"string"===typeof a:a=this.getFieldElements(a);0<a.length&&(k=a.attr("type"),k="radio"===k||"checkbox"===k?a.eq(0):a);break;default:k=this.$invalidFields}var g=b?'[data-bv-validator\x3d"'+b+'"]':"";k.each(function(){e=e.concat(d(this).data("bv.messages").find('.help-block[data-bv-for\x3d"'+d(this).attr("data-bv-field")+'"][data-bv-result\x3d"'+c.STATUS_INVALID+'"]'+g).map(function(){var a=d(this).attr("data-bv-validator"),b=d(this).attr("data-bv-for");return!1===c.options.fields[b].validators[a].enabled?"":d(this).html()}).get())});return e},updateOption:function(a,b,c,d){"object"===typeof a&&(a=a.attr("data-bv-field"));this.options.fields[a]&&this.options.fields[a].validators[b]&&(this.options.fields[a].validators[b][c]=d,this.updateStatus(a,this.STATUS_NOT_VALIDATED,b));return this},addField:function(a,b){var c=d([]);switch(typeof a){case "object":c=a;a=a.attr("data-bv-field")||a.attr("name");break;case "string":delete this._cacheFields[a],c=this.getFieldElements(a)}c.attr("data-bv-field",a);for(var e=c.attr("type"),k="radio"===e||"checkbox"===e?1:c.length,g=0;g<k;g++){var h=c.eq(g),l=this._parseOptions(h),l=null===l?b:d.extend(!0,b,l);this.options.fields[a]=d.extend(!0,this.options.fields[a],l);this._cacheFields[a]=this._cacheFields[a]?this._cacheFields[a].add(h):h;this._initField("checkbox"===e||"radio"===e?a:h)}this.disableSubmitButtons(!1);this.$form.trigger(d.Event(this.options.events.fieldAdded),{field:a,element:c,options:this.options.fields[a]});return this},removeField:function(a){var b=d([]);switch(typeof a){case "object":b=a;a=a.attr("data-bv-field")||a.attr("name");b.attr("data-bv-field",a);break;case "string":b=this.getFieldElements(a)}if(0===b.length)return this;for(var c=b.attr("type"),e="radio"===c||"checkbox"===c?1:b.length,k=0;k<e;k++){var g=b.eq(k);this.$invalidFields=this.$invalidFields.not(g);this._cacheFields[a]=this._cacheFields[a].not(g);g.parents(".form-group").removeClass("has-error").find(".help-block").hide()}this._cacheFields[a]&&0!==this._cacheFields[a].length||delete this.options.fields[a];"checkbox"!==c&&"radio"!==c||this._initField(a);this.disableSubmitButtons(!1);this.$form.trigger(d.Event(this.options.events.fieldRemoved),{field:a,element:b});return this},clearField:function(a,b){var c=a,e=c.parents(".form-group").find(".result");a=c.attr("name")||c.attr("data-bv-field");var k=c.attr("type"),g=c.get(0).tagName;isSingleVis=this.options.singleVis;var h=this,l=this.options;b.on("click.bv",function(){"input"==g?"text"==k||"password"==k||"number"==k||"email"==k||"tel"==k||null==k?c.val("").focus():c.val(""):c.val("").focus();e&&e.html("");isSingleVis&&(h.$form.find(".help-block[data-bv-validator]").hide(),h.$form.find('.help-block[data-bv-for\x3d"'+a+'"][data-bv-result\x3d"notEmpty"]').show());d(this).hide();null!==l.fields[a]&&null!==l.fields[a].validators&&null!==l.fields[a].validators.notEmpty&&h.updateStatus(c,h.STATUS_INVALID,"notEmpty")});return this},filterField:function(a){for(var b="alert confirm prompt embed script onload position iframe http https location href meta object document onmouseover write autofocus onfocus SELECT like UNION UPDATE TRUNCATE".split(" "),c,d=0;d<b.length;d++)c=a.replace(new RegExp(b[d],"gi"),""),-1!=c&&(a=c);return a},resetField:function(a,b){var c=d([]);switch(typeof a){case "object":c=a;a=a.attr("data-bv-field");break;case "string":c=this.getFieldElements(a)}var e=c.length;if(this.options.fields[a])for(var k=0;k<e;k++)for(var g in this.options.fields[a].validators)c.eq(k).removeData("bv.dfs."+g);this.updateStatus(a,this.STATUS_NOT_VALIDATED);b&&(a=c.attr("type"),"radio"===a||"checkbox"===a?c.removeAttr("checked").removeAttr("selected"):c.val(""));return this},resetForm:function(a){for(var b in this.options.fields)this.resetField(b,a);this.$invalidFields=d([]);this.$submitButton=null;this.destroy();this.$form.find(".form-control").val("").end().find('input[type\x3d"radio"]').removeAttr("checked").removeAttr("selected").end().find('input[type\x3d"checkbox"]').removeAttr("checked").removeAttr("selected").end().find(".frm-file-box .result").html("");d(this.options.clearButton).hide();this.disableSubmitButtons(!1);return this},revalidateField:function(a){this.updateStatus(a,this.STATUS_NOT_VALIDATED).validateField(a);return this},enableFieldValidators:function(a,b,c){var d=this.options.fields[a].validators;if(c&&d&&d[c]&&d[c].enabled!==b)this.options.fields[a].validators[c].enabled=b,this.updateStatus(a,this.STATUS_NOT_VALIDATED,c);else if(!c&&this.options.fields[a].enabled!==b){this.options.fields[a].enabled=b;for(var e in d)this.enableFieldValidators(a,b,e)}return this},getDynamicOption:function(a,b){a="string"===typeof a?this.getFieldElements(a):a;var c=a.val();if("function"===typeof b)return d.fn.jQValidator.helpers.call(b,[c,this,a]);if("string"===typeof b){var e=this.getFieldElements(b);return e.length?e.val():d.fn.jQValidator.helpers.call(b,[c,this,a])||b}return null},destroy:function(){var a,b,c,e,k,g;for(a in this.options.fields){b=this.getFieldElements(a);g=this.options.fields[a].group||this.options.group;for(var h=0;h<b.length;h++){c=b.eq(h);c.data("bv.messages").find('.help-block[data-bv-validator][data-bv-for\x3d"'+a+'"]').remove().end().end().removeData("bv.messages").parents(g).removeClass("has-feedback has-error has-success").end().off(".bv").removeAttr("data-bv-field");if(k=c.data("bv.icon"))"function"===typeof(this.options.fields[a].container||this.options.container)&&(this.options.fields[a].container||this.options.container).call(this,c,this),k.remove();c.removeData("bv.icon");for(e in this.options.fields[a].validators)c.data("bv.dfs."+e)&&c.data("bv.dfs."+e).reject(),c.removeData("bv.result."+e).removeData("bv.response."+e).removeData("bv.dfs."+e),"function"===typeof d.fn.jQValidator.validators[e].destroy&&d.fn.jQValidator.validators[e].destroy(this,c,this.options.fields[a].validators[e])}}this.disableSubmitButtons(!1);this.$hiddenButton.remove();this.$form.removeClass(this.options.elementClass).off(".bv").removeData("jQValidator").find("[data-bv-submit-hidden]").remove().end().find('[type\x3d"submit"]').off("click.bv")}};d.fn.jQValidator=function(a){var b=arguments;return this.each(function(){var c=d(this),f=c.data("jQValidator"),k="object"===typeof a&&a;f||(f=new e(this,k),c.data("jQValidator",f));"string"===typeof a&&f[a].apply(f,Array.prototype.slice.call(b,1))})};d.fn.jQValidator._defaults={autoFocus:!0,isClearForm:!0,clearButton:null,container:null,singleVis:!0,tipsWay:"normal",elementClass:"bv-form",events:{formInit:"init.form.bv",formError:"error.form.bv",formSuccess:"success.form.bv",fieldAdded:"added.field.bv",fieldRemoved:"removed.field.bv",fieldInit:"init.field.bv",fieldError:"error.field.bv",fieldSuccess:"success.field.bv",fieldStatus:"status.field.bv",validatorError:"error.validator.bv",validatorSuccess:"success.validator.bv"},excluded:[":disabled",":hidden",":not(:visible)"],fields:null,group:".form-group",live:"enabled",message:"This value is not valid",language:"cn",submitButtons:'[type\x3d"submit"]',threshold:null,verbose:!0};d.fn.jQValidator.validators={};d.fn.jQValidator.i18n={};d.fn.jQValidator.Constructor=e;d.fn.jQValidator.helpers={call:function(a,b){if("function"===typeof a)return a.apply(this,b);if("string"===typeof a){"()"===a.substring(a.length-2)&&(a=a.substring(0,a.length-2));a=a.split(".");for(var c=a.pop(),d=window,e=0;e<a.length;e++)d=d[a[e]];return"undefined"===typeof d[c]?null:d[c].apply(this,b)}},format:function(a,b){d.isArray(b)||(b=[b]);for(var c in b)a=a.replace("%s",b[c]);return a},date:function(a,b,c,d){if(isNaN(a)||isNaN(b)||isNaN(c)||2<c.length||2<b.length||4<a.length)return!1;c=parseInt(c,10);b=parseInt(b,10);a=parseInt(a,10);if(1E3>a||9999<a||0>=b||12<b)return!1;var e=[31,28,31,30,31,30,31,31,30,31,30,31];if(0===a%400||0!==a%100&&0===a%4)e[1]=29;if(0>=c||c>e[b-1])return!1;if(!0===d){var f=new Date;d=f.getFullYear();e=f.getMonth();f=f.getDate();return a<d||a===d&&b-1<e||a===d&&b-1===e&&c<f}return!0},luhn:function(a){for(var b=a.length,c=0,d=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],e=0;b--;)e+=d[c][parseInt(a.charAt(b),10)],c^=1;return 0===e%10&&0<e},mod11And10:function(a){for(var b=5,c=a.length,d=0;d<c;d++)b=(2*(b||10)%11+parseInt(a.charAt(d),10))%10;return 1===b},mod37And36:function(a,b){b=b||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var c=b.length,d=a.length,e=Math.floor(c/2),g=0;g<d;g++)e=(2*(e||c)%(c+1)+b.indexOf(a.charAt(g)))%c;return 1===e}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.notEmpty=d.extend(d.fn.jQValidator.i18n.notEmpty||{},{"default":"This field is required",language:{cn:"\u6b64\u9879\u4e3a\u5fc5\u586b\u9879",en:"This field is required",other:"This field is required"}});d.fn.jQValidator.validators.notEmpty={enableByHtml5:function(d){d=d.attr("required")+"";return"required"===d||"true"===d},validate:function(e,a,b){var c=a.attr("type"),f=a.val(),k=e.options.language;mssg=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.notEmpty.language[k]);if("radio"===c||"checkbox"===c)return{valid:0<e.getFieldElements(a.attr("data-bv-field")).filter(":checked").length,message:mssg};if("number"===c&&a.get(0).validity&&!0===a.get(0).validity.badInput)return{valid:!0,message:mssg};f=d.trim(f);return{valid:""!==f?!0:!1,message:mssg}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.regexp=d.extend(d.fn.jQValidator.i18n.regexp||{},{"default":"Please enter a value matching the pattern"});d.fn.jQValidator.validators.regexp={html5Attributes:{message:"message",regexp:"regexp"},enableByHtml5:function(d){return(d=d.attr("pattern"))?{regexp:d}:!1},validate:function(d,a,b){d=a.val();return""===d?!0:("string"===typeof b.regexp?new RegExp(b.regexp):b.regexp).test(d)}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.identical=d.extend(d.fn.jQValidator.i18n.identical||{},{"default":"Please enter the same value"});d.fn.jQValidator.validators.identical={html5Attributes:{message:"message",field:"field",ismain:!1},validate:function(d,a,b){a=a.val();var c=b.ismain;if(""===a)return!0;var e=d.getFieldElements(b.field);return null===e||0===e.length?!0:a===e.val()?(d.updateStatus(b.field,d.STATUS_VALID,"identical"),!0):0==e.val().length||null==e.val()?c?!0:!1:!1}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.different=d.extend(d.fn.jQValidator.i18n.different||{},{"default":"Please enter a different value"});d.fn.jQValidator.validators.different={html5Attributes:{message:"message",field:"field"},validate:function(d,a,b){a=a.val();if(""===a)return!0;b=b.field.split(",");for(var c=!0,e=0;e<b.length;e++){var k=d.getFieldElements(b[e]);if(null!=k&&0!==k.length){var g=k.val();a===g?c=!1:""!==g&&d.updateStatus(k,d.STATUS_VALID,"different")}}return c}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.emailAddress=d.extend(d.fn.jQValidator.i18n.emailAddress||{},{"default":"Exzample: name@domain.com",language:{cn:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u5730\u5740",en:"Exzample: name@domain.com",other:"Exzample:name@domain.com"}});d.fn.jQValidator.validators.emailAddress={html5Attributes:{message:"message",multiple:"multiple",separator:"separator"},enableByHtml5:function(d){return"email"===d.attr("type")},validate:function(e,a,b){a=a.val();e=e.options.language;e=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.emailAddress.language[e]);if(""===a)return!0;var c=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!0===b.multiple||"true"===b.multiple){b=this._splitEmailAddresses(a,b.separator||/[,;]/);for(a=0;a<b.length;a++)if(!c.test(b[a]))return{valid:!1,message:e};return!0}return{valid:c.test(a),message:e}},_splitEmailAddresses:function(d,a){d=d.split(/"/);for(var b=d.length,c=[],e="",k=0;k<b;k++)if(0===k%2){var g=d[k].split(a),h=g.length;if(1===h)e+=g[0];else{c.push(e+g[0]);for(e=1;e<h-1;e++)c.push(g[e]);e=g[h-1]}}else e+='"'+d[k],k<b-1&&(e+='"');c.push(e);return c}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.file=d.extend(d.fn.jQValidator.i18n.file||{},{"default":"Please choose a valid file",typeMssg:{cn:"\u8bf7\u4e0a\u4f20\u6b63\u786e\u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u5982\uff1a%s",en:"Exzample: %s",other:"Exzample: %s"}});d.fn.jQValidator.validators.file={html5Attributes:{extension:"extension",maxfiles:"maxFiles",minfiles:"minFiles",maxsize:"maxSize",minsize:"minSize",maxtotalsize:"maxTotalSize",mintotalsize:"minTotalSize",message:"message",type:"type"},validate:function(e,a,b){var c=a.val();e=e.options.language;e=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.file.typeMssg[e],b.extension);if(""===c)return!0;var f=b.extension?b.extension.replace(/\s+/g,"").toLowerCase().split(","):null,k=b.type?b.type.replace(/\s+/g,"").toLowerCase().split(","):null;if(window.File&&window.FileList&&window.FileReader){var c=a.get(0).files,g=c.length,h=0;if(b.maxFiles&&g>parseInt(b.maxFiles,10)||b.minFiles&&g<parseInt(b.minFiles,10))return{valid:!1,message:e};for(var l=0;l<g;l++)if(h+=c[l].size,a=c[l].name.substr(c[l].name.lastIndexOf(".")+1),b.minSize&&c[l].size<parseInt(b.minSize,10)||b.maxSize&&c[l].size>parseInt(b.maxSize,10)||f&&-1===d.inArray(a.toLowerCase(),f)||c[l].type&&k&&-1===d.inArray(c[l].type.toLowerCase(),k))return{valid:!1,message:e};if(b.maxTotalSize&&h>parseInt(b.maxTotalSize,10)||b.minTotalSize&&h<parseInt(b.minTotalSize,10))return{valid:!1,message:e}}else if(a=c.substr(c.lastIndexOf(".")+1),f&&-1===d.inArray(a.toLowerCase(),f))return{valid:!1,message:e};return!0}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.lessThan=d.extend(d.fn.jQValidator.i18n.lessThan||{},{"default":"Please enter a value less than or equal to %s",notInclusive:"Please enter a value less than %s"});d.fn.jQValidator.validators.lessThan={html5Attributes:{message:"message",value:"value",inclusive:"inclusive"},enableByHtml5:function(d){var a=d.attr("type");return(d=d.attr("max"))&&"date"!==a?{value:d}:!1},validate:function(e,a,b){var c=a.val();if(""===c)return!0;c=this._format(c);if(!d.isNumeric(c))return!1;e=d.isNumeric(b.value)?b.value:e.getDynamicOption(a,b.value);a=this._format(e);c=parseFloat(c);return!0===b.inclusive||void 0===b.inclusive?{valid:c<=a,message:d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.lessThan["default"],e)}:{valid:c<a,message:d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.lessThan.notInclusive,e)}},_format:function(d){return(d+"").replace(",",".")}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.remote=d.extend(d.fn.jQValidator.i18n.remote||{},{"default":"Please enter a valid value"});d.fn.jQValidator.validators.remote={html5Attributes:{message:"message",name:"name",type:"type",url:"url",data:"data",delay:"delay"},destroy:function(d,a,b){a.data("bv.remote.timer")&&(clearTimeout(a.data("bv.remote.timer")),a.removeData("bv.remote.timer"))},validate:function(e,a,b){function c(){var b=d.ajax({type:m,headers:p,url:l,dataType:"json",data:h});b.then(function(b){b.valid=!0===b.valid||"true"===b.valid;k.resolve(a,"remote",b)});k.fail(function(){b.abort()});return k}var f=a.val(),k=new d.Deferred;if(""===f)return k.resolve(a,"remote",{valid:!0}),k;var g=a.attr("data-bv-field"),h=b.data||{},l=b.url,m=b.type||"GET",p=b.headers||{};"function"===typeof h&&(h=h.call(this,e));"string"===typeof h&&(h=JSON.parse(h));"function"===typeof l&&(l=l.call(this,e));h[b.name||g]=f;return b.delay?(a.data("bv.remote.timer")&&clearTimeout(a.data("bv.remote.timer")),a.data("bv.remote.timer",setTimeout(c,b.delay)),k):c()}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.stringLength=d.extend(d.fn.jQValidator.i18n.stringLength||{},{"default":"Please enter a value with valid length",language:{cn:{less:"\u8bf7\u8f93\u5165\u5c0f\u4e8e\u6216\u7b49\u4e8e%s\u4f4d\u5b57\u7b26\u957f\u5ea6\u7684\u503c",more:"\u8bf7\u8f93\u5165\u5927\u4e8e\u6216\u7b49\u4e8e%s\u4f4d\u5b57\u7b26\u957f\u5ea6\u7684\u503c",between:"\u8bf7\u8f93\u5165%s\u5230%s\u4f4d\u5b57\u7b26\u957f\u5ea6\u7684\u503c"},en:{less:"Please enter less than %s characters",more:"Please enter more than %s characters",between:"Please enter value between %s and %s characters long"},other:{less:"Please enter less than %s characters",more:"Please enter more than %s characters",between:"Please enter value between %s and %s characters long"}}});d.fn.jQValidator.validators.stringLength={html5Attributes:{message:"message",min:"min",max:"max",trim:"trim",utf8bytes:"utf8Bytes"},enableByHtml5:function(e){var a={},b=e.attr("maxlength");e=e.attr("minlength");b&&(a.max=parseInt(b,10));e&&(a.min=parseInt(e,10));return d.isEmptyObject(a)?!1:a},validate:function(e,a,b){var c=a.val(),f=e.options.language,c=c.replace(/[ ]/g,"");if(""===c)return!0;var k=d.isNumeric(b.min)?b.min:e.getDynamicOption(a,b.min);e=d.isNumeric(b.max)?b.max:e.getDynamicOption(a,b.max);if(b.utf8Bytes){a=c.length;for(var g=c.length-1;0<=g;g--){var h=c.charCodeAt(g);127<h&&2047>=h?a++:2047<h&&65535>=h&&(a+=2);56320<=h&&57343>=h&&g--}c=a}else c=c.length;a=!0;g=b.message||d.fn.jQValidator.i18n.stringLength["default"];if(k&&c<parseInt(k,10)||e&&c>parseInt(e,10))a=!1;switch(!0){case !!k&&!!e:g=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.stringLength.language[f].between,[parseInt(k,10),parseInt(e,10)]);break;case !!k:g=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.stringLength.language[f].more,parseInt(k,10));break;case !!e:g=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.stringLength.language[f].less,parseInt(e,10))}return{valid:a,message:g}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.idCard=d.extend(d.fn.jQValidator.i18n.idCard||{},{"default":"Please enter a valid identification number",language:{cn:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8eab\u4efd\u8bc1\u53f7\u7801",en:"Please enter a valid identification number",other:"Please enter a valid identification number"}});d.fn.jQValidator.validators.idCard={html5Attributes:{message:"message"},validate:function(e,a,b){a=a.val();e=e.options.language;b=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.idCard.language[e]);if(""===a)return!0;a=d.trim(a);if(!/^\d{17}[\dXx]{1}$/.test(a))return{valid:!1,message:b};var c={11:{0:[0],1:[[0,9],[11,17]],2:[0,28,29]},12:{0:[0],1:[[0,16]],2:[0,21,23,25]},13:{0:[0],1:[[0,5],7,8,21,[23,33],[81,85]],2:[[0,5],[7,9],[23,25],27,29,30,81,83],3:[[0,4],[21,24]],4:[[0,4],6,21,[23,35],81],5:[[0,3],[21,35],81,82],6:[[0,4],[21,38],[81,84]],7:[[0,3],5,6,[21,33]],8:[[0,4],[21,28]],9:[[0,3],[21,30],[81,84]],10:[[0,3],[22,26],28,81,82],11:[[0,2],[21,28],81,82]},14:{0:[0],1:[0,1,[5,10],[21,23],81],2:[[0,3],11,12,[21,27]],3:[[0,3],11,21,22],4:[[0,2],11,21,[23,31],81],5:[[0,2],21,22,24,25,81],6:[[0,3],[21,24]],7:[[0,2],[21,29],81],8:[[0,2],[21,30],81,82],9:[[0,2],[21,32],81],10:[[0,2],[21,34],81,82],11:[[0,2],[21,30],81,82],23:[[0,3],22,23,[25,30],32,33]},15:{0:[0],1:[[0,5],[21,25]],2:[[0,7],[21,23]],3:[[0,4]],4:[[0,4],[21,26],[28,30]],5:[[0,2],[21,26],81],6:[[0,2],[21,27]],7:[[0,3],[21,27],[81,85]],8:[[0,2],[21,26]],9:[[0,2],[21,29],81],22:[[0,2],[21,24]],25:[[0,2],[22,31]],26:[[0,2],[24,27],[29,32],34],28:[0,1,[22,27]],29:[0,[21,23]]},21:{0:[0],1:[[0,6],[11,14],[22,24],81],2:[[0,4],[11,13],24,[81,83]],3:[[0,4],11,21,23,81],4:[[0,4],11,[21,23]],5:[[0,5],21,22],6:[[0,4],24,81,82],7:[[0,3],11,26,27,81,82],8:[[0,4],11,81,82],9:[[0,5],11,21,22],10:[[0,5],11,21,81],11:[[0,3],21,22],12:[[0,2],4,21,23,24,81,82],13:[[0,3],21,22,24,81,82],14:[[0,4],21,22,81]},22:{0:[0],1:[[0,6],12,22,[81,83]],2:[[0,4],11,21,[81,84]],3:[[0,3],22,23,81,82],4:[[0,3],21,22],5:[[0,3],21,23,24,81,82],6:[[0,2],4,5,[21,23],25,81],7:[[0,2],[21,24],81],8:[[0,2],21,22,81,82],24:[[0,6],24,26]},23:{0:[0],1:[[0,12],21,[23,29],[81,84]],2:[[0,8],21,[23,25],27,[29,31],81],3:[[0,7],21,81,82],4:[[0,7],21,22],5:[[0,3],5,6,[21,24]],6:[[0,6],[21,24]],7:[[0,16],22,81],8:[[0,5],11,22,26,28,33,81,82],9:[[0,4],21],10:[[0,5],24,25,81,[83,85]],11:[[0,2],21,23,24,81,82],12:[[0,2],[21,26],[81,83]],27:[[0,4],[21,23]]},31:{0:[0],1:[0,1,[3,10],[12,20]],2:[0,30]},32:{0:[0],1:[[0,7],11,[13,18],24,25],2:[[0,6],11,81,82],3:[[0,5],11,12,[21,24],81,82],4:[[0,2],4,5,11,12,81,82],5:[[0,9],[81,85]],6:[[0,2],11,12,21,23,[81,84]],7:[0,1,3,5,6,[21,24]],8:[[0,4],11,26,[29,31]],9:[[0,3],[21,25],28,81,82],10:[[0,3],11,12,23,81,84,88],11:[[0,2],11,12,[81,83]],12:[[0,4],[81,84]],13:[[0,2],11,[21,24]]},33:{0:[0],1:[[0,6],[8,10],22,27,82,83,85],2:[0,1,[3,6],11,12,25,26,[81,83]],3:[[0,4],22,24,[26,29],81,82],4:[[0,2],11,21,24,[81,83]],5:[[0,3],[21,23]],6:[[0,2],21,24,[81,83]],7:[[0,3],23,26,27,[81,84]],8:[[0,3],22,24,25,81],9:[[0,3],21,22],10:[[0,4],[21,24],81,82],11:[[0,2],[21,27],81]},34:{0:[0],1:[[0,4],11,[21,24],81],2:[[0,4],7,8,[21,23],25],3:[[0,4],11,[21,23]],4:[[0,6],21],5:[[0,4],6,[21,23]],6:[[0,4],21],7:[[0,3],11,21],8:[[0,3],11,[22,28],81],10:[[0,4],[21,24]],11:[[0,3],22,[24,26],81,82],12:[[0,4],21,22,25,26,82],13:[[0,2],[21,24]],14:[[0,2],[21,24]],15:[[0,3],[21,25]],16:[[0,2],[21,23]],17:[[0,2],[21,23]],18:[[0,2],[21,25],81]},35:{0:[0],1:[[0,5],11,[21,25],28,81,82],2:[[0,6],[11,13]],3:[[0,5],22],4:[[0,3],21,[23,30],81],5:[[0,5],21,[24,27],[81,83]],6:[[0,3],[22,29],81],7:[[0,2],[21,25],[81,84]],8:[[0,2],[21,25],81],9:[[0,2],[21,26],81,82]},36:{0:[0],1:[[0,5],11,[21,24]],2:[[0,3],22,81],3:[[0,2],13,[21,23]],4:[[0,3],21,[23,30],81,82],5:[[0,2],21],6:[[0,2],22,81],7:[[0,2],[21,35],81,82],8:[[0,3],[21,30],81],9:[[0,2],[21,26],[81,83]],10:[[0,2],[21,30]],11:[[0,2],[21,30],81]},37:{0:[0],1:[[0,5],12,13,[24,26],81],2:[[0,3],5,[11,14],[81,85]],3:[[0,6],[21,23]],4:[[0,6],81],5:[[0,3],[21,23]],6:[[0,2],[11,13],34,[81,87]],7:[[0,5],24,25,[81,86]],8:[[0,2],11,[26,32],[81,83]],9:[[0,3],11,21,23,82,83],10:[[0,2],[81,83]],11:[[0,3],21,22],12:[[0,3]],13:[[0,2],11,12,[21,29]],14:[[0,2],[21,28],81,82],15:[[0,2],[21,26],81],16:[[0,2],[21,26]],17:[[0,2],[21,28]]},41:{0:[0],1:[[0,6],8,22,[81,85]],2:[[0,5],11,[21,25]],3:[[0,7],11,[22,29],81],4:[[0,4],11,[21,23],25,81,82],5:[[0,3],5,6,22,23,26,27,81],6:[[0,3],11,21,22],7:[[0,4],11,21,[24,28],81,82],8:[[0,4],11,[21,23],25,[81,83]],9:[[0,2],22,23,[26,28]],10:[[0,2],[23,25],81,82],11:[[0,4],[21,23]],12:[[0,2],21,22,24,81,82],13:[[0,3],[21,30],81],14:[[0,3],[21,26],81],15:[[0,3],[21,28]],16:[[0,2],[21,28],81],17:[[0,2],[21,29]],90:[0,1]},42:{0:[0],1:[[0,7],[11,17]],2:[[0,5],22,81],3:[[0,3],[21,25],81],5:[[0,6],[25,29],[81,83]],6:[[0,2],6,7,[24,26],[82,84]],7:[[0,4]],8:[[0,2],4,21,22,81],9:[[0,2],[21,23],81,82,84],10:[[0,3],[22,24],81,83,87],11:[[0,2],[21,27],81,82],12:[[0,2],[21,24],81],13:[[0,3],21,81],28:[[0,2],22,23,[25,28]],90:[0,[4,6],21]},43:{0:[0],1:[[0,5],11,12,21,22,24,81],2:[[0,4],11,21,[23,25],81],3:[[0,2],4,21,81,82],4:[0,1,[5,8],12,[21,24],26,81,82],5:[[0,3],11,[21,25],[27,29],81],6:[[0,3],11,21,23,24,26,81,82],7:[[0,3],[21,26],81],8:[[0,2],11,21,22],9:[[0,3],[21,23],81],10:[[0,3],[21,28],81],11:[[0,3],[21,29]],12:[[0,2],[21,30],81],13:[[0,2],21,22,81,82],31:[0,1,[22,27],30]},44:{0:[0],1:[[0,7],[11,16],83,84],2:[[0,5],21,22,24,29,32,33,81,82],3:[0,1,[3,8]],4:[[0,4]],5:[0,1,[6,15],23,82,83],6:[0,1,[4,8]],7:[0,1,[3,5],81,[83,85]],8:[[0,4],11,23,25,[81,83]],9:[[0,3],23,[81,83]],12:[[0,3],[23,26],83,84],13:[[0,3],[22,24],81],14:[[0,2],[21,24],26,27,81],15:[[0,2],21,23,81],16:[[0,2],[21,25]],17:[[0,2],21,23,81],18:[[0,3],21,23,[25,27],81,82],19:[0],20:[0],51:[[0,3],21,22],52:[[0,3],21,22,24,81],53:[[0,2],[21,23],81]},45:{0:[0],1:[[0,9],[21,27]],2:[[0,5],[21,26]],3:[[0,5],11,12,[21,32]],4:[0,1,[3,6],11,[21,23],81],5:[[0,3],12,21],6:[[0,3],21,81],7:[[0,3],21,22],8:[[0,4],21,81],9:[[0,3],[21,24],81],10:[[0,2],[21,31]],11:[[0,2],[21,23]],12:[[0,2],[21,29],81],13:[[0,2],[21,24],81],14:[[0,2],[21,25],81]},46:{0:[0],1:[0,1,[5,8]],2:[0,1],3:[0,[21,23]],90:[[0,3],[5,7],[21,39]]},50:{0:[0],1:[[0,19]],2:[0,[22,38],[40,43]],3:[0,[81,84]]},51:{0:[0],1:[0,1,[4,8],[12,15],[21,24],29,31,32,[81,84]],3:[[0,4],11,21,22],4:[[0,3],11,21,22],5:[[0,4],21,22,24,25],6:[0,1,3,23,26,[81,83]],7:[0,1,3,4,[22,27],81],8:[[0,2],11,12,[21,24]],9:[[0,4],[21,23]],10:[[0,2],11,24,25,28],11:[[0,2],[11,13],23,24,26,29,32,33,81],13:[[0,4],[21,25],81],14:[[0,2],[21,25]],15:[[0,3],[21,29]],16:[[0,3],[21,23],81],17:[[0,3],[21,25],81],18:[[0,3],[21,27]],19:[[0,3],[21,23]],20:[[0,2],21,22,81],32:[0,[21,33]],33:[0,[21,38]],34:[0,1,[22,37]]},52:{0:[0],1:[[0,3],[11,15],[21,23],81],2:[0,1,3,21,22],3:[[0,3],[21,30],81,82],4:[[0,2],[21,25]],5:[[0,2],[21,27]],6:[[0,3],[21,28]],22:[0,1,[22,30]],23:[0,1,[22,28]],24:[0,1,[22,28]],26:[0,1,[22,36]],27:[[0,2],22,23,[25,32]]},53:{0:[0],1:[[0,3],[11,14],21,22,[24,29],81],3:[[0,2],[21,26],28,81],4:[[0,2],[21,28]],5:[[0,2],[21,24]],6:[[0,2],[21,30]],7:[[0,2],[21,24]],8:[[0,2],[21,29]],9:[[0,2],[21,27]],23:[0,1,[22,29],31],25:[[0,4],[22,32]],26:[0,1,[21,28]],27:[0,1,[22,30]],28:[0,1,22,23],29:[0,1,[22,32]],31:[0,2,3,[22,24]],34:[0,[21,23]],33:[0,21,[23,25]],35:[0,[21,28]]},54:{0:[0],1:[[0,2],[21,27]],21:[0,[21,29],32,33],22:[0,[21,29],[31,33]],23:[0,1,[22,38]],24:[0,[21,31]],25:[0,[21,27]],26:[0,[21,27]]},61:{0:[0],1:[[0,4],[11,16],22,[24,26]],2:[[0,4],22],3:[[0,4],[21,24],[26,31]],4:[[0,4],[22,31],81],5:[[0,2],[21,28],81,82],6:[[0,2],[21,32]],7:[[0,2],[21,30]],8:[[0,2],[21,31]],9:[[0,2],[21,29]],10:[[0,2],[21,26]]},62:{0:[0],1:[[0,5],11,[21,23]],2:[0,1],3:[[0,2],21],4:[[0,3],[21,23]],5:[[0,3],[21,25]],6:[[0,2],[21,23]],7:[[0,2],[21,25]],8:[[0,2],[21,26]],9:[[0,2],[21,24],81,82],10:[[0,2],[21,27]],11:[[0,2],[21,26]],12:[[0,2],[21,28]],24:[0,21,[24,29]],26:[0,21,[23,30]],29:[0,1,[21,27]],30:[0,1,[21,27]]},63:{0:[0],1:[[0,5],[21,23]],2:[0,2,[21,25]],21:[0,[21,23],[26,28]],22:[0,[21,24]],23:[0,[21,24]],25:[0,[21,25]],26:[0,[21,26]],27:[0,1,[21,26]],28:[[0,2],[21,23]]},64:{0:[0],1:[0,1,[4,6],21,22,81],2:[[0,3],5,[21,23]],3:[[0,3],[21,24],81],4:[[0,2],[21,25]],5:[[0,2],21,22]},65:{0:[0],1:[[0,9],21],2:[[0,5]],21:[0,1,22,23],22:[0,1,22,23],23:[[0,3],[23,25],27,28],28:[0,1,[22,29]],29:[0,1,[22,29]],30:[0,1,[22,24]],31:[0,1,[21,31]],32:[0,1,[21,27]],40:[0,2,3,[21,28]],42:[[0,2],21,[23,26]],43:[0,1,[21,26]],90:[[0,4]],27:[[0,2],22,23]},71:{0:[0]},81:{0:[0]},82:{0:[0]}},f=parseInt(a.substr(0,2),10),k=parseInt(a.substr(2,2),10);e=parseInt(a.substr(4,2),10);if(!c[f]||!c[f][k])return!1;for(var g=!1,f=c[f][k],c=0;c<f.length;c++)if(d.isArray(f[c])&&f[c][0]<=e&&e<=f[c][1]||!d.isArray(f[c])&&e===f[c]){g=!0;break}if(!g)return!1;var h;18===a.length&&(h=a.substr(6,8));e=parseInt(h.substr(0,4),10);g=parseInt(h.substr(4,2),10);h=parseInt(h.substr(6,2),10);if(!d.fn.jQValidator.helpers.date(e,g,h))return{valid:!1,message:b};if(18===a.length){h=0;b=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];for(c=0;17>c;c++)h+=parseInt(a.charAt(c),10)*b[c];h=(12-h%11)%11;return("X"!==a.charAt(17).toUpperCase()?parseInt(a.charAt(17),10):10)===h}return{valid:!0,message:b}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.phone=d.extend(d.fn.jQValidator.i18n.phone||{},{"default":"Please enter a valid phone number",phoneTypes:{LD:"\u5ea7\u673a",MB:"\u624b\u673a",ALL:"\u7535\u8bdd"},language:{cn:"\u8bf7\u8f93\u5165\u6709\u6548\u7684%s\u53f7\u7801",en:"Please enter a valid phone number",other:"Please enter a valid phone number"}});d.fn.jQValidator.validators.phone={html5Attributes:{message:"message",phoneType:"phoneType"},PHONE_TYPE:["LD","MB","ALL"],validate:function(e,a,b){var c=a.val(),f=e.options.language,k=b.phoneType;b=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.phone.language[f],d.fn.jQValidator.i18n.phone.phoneTypes[k]);if(""===c)return!0;if("string"!==typeof k||-1===d.inArray(k,this.PHONE_TYPE))k=e.getDynamicOption(a,k);if(!k||-1===d.inArray(k.toUpperCase(),this.PHONE_TYPE))return{valid:!1,message:b};c=d.trim(c);switch(k.toUpperCase()){case "LD":e=/^(0\d{2,3})?(-)?\d{5,8}(-\d{1,4})?$/.test(c);break;case "MB":e=/^1[3|4|5|6|7|8|9]\d{9}$/.test(c);break;case "ALL":e=/^((00|\+)?(86(?:-| )))?((1[3|4|5|6|7|8|9]\d{9})|(0\d{2,3})?(-)?\d{5,8}(-\d{1,4})?|(\d{3}[- ]{1}\d{4}[- ]{1}\d{4})|((\d{2,4}[- ]){1}(\d{5,8}|(\d{3,4}[- ]{1}\d{4}))([- ]{1}\d{1,4})?))$/.test(c);break;default:e=/^((00|\+)?(86(?:-| )))?((1[3|4|5|6|7|8|9]\d{9})|(0\d{2,3})?(-)?\d{5,8}(-\d{1,4})?|(\d{3}[- ]{1}\d{4}[- ]{1}\d{4})|((\d{2,4}[- ]){1}(\d{5,8}|(\d{3,4}[- ]{1}\d{4}))([- ]{1}\d{1,4})?))$/.test(c)}6<c.length&&0==c.indexOf("0000000")&&(e=!1);return{valid:e,message:b}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.bankCard=d.extend(d.fn.jQValidator.i18n.bankCard||{},{"default":"Please enter a valid card number",language:{cn:"\u8bf7\u8f93\u516516-19\u4f4d\u5b57\u7b26\u7684\u94f6\u884c\u5361\u53f7",en:"Please enter a valid card number",other:"Please enter a valid card number"}});d.fn.jQValidator.validators.bankCard={html5Attributes:{message:"message"},validate:function(e,a,b){a.attr("type");a=d.trim(a.val());e=e.options.language;b=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.bankCard.language[e]);e=a.length;return""===a?!0:{valid:15<e&&20>e?/^[0-9]+$/.test(a)?!0:!1:!1,message:b}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.QQNumber=d.extend(d.fn.jQValidator.i18n.QQNumber||{},{"default":"Please enter a valid QQ number",language:{cn:"\u8bf7\u8f93\u5165\u6709\u6548\u7684QQ\u53f7\u7801",en:"Please enter a valid QQ number",other:"Please enter a valid QQ number"}});d.fn.jQValidator.validators.QQNumber={html5Attributes:{message:"message"},validate:function(e,a,b){a.attr("type");a=d.trim(a.val());e=e.options.language;b=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.QQNumber.language[e]);return""===a?!0:{valid:16>a.length?/^[0-9]+$/.test(a)?!0:!1:!1,message:b}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.birthDate=d.extend(d.fn.jQValidator.i18n.birthDate||{},{"default":"Please enter a valid value",language:{cn:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u51fa\u751f\u65e5\u671f",en:"Please enter a valid value",other:"Please enter a valid value"}});d.fn.jQValidator.validators.birthDate={html5Attributes:{idCardName:"",message:"message"},validate:function(e,a,b){var c=e.$form;a.attr("type");a=d.trim(a.val());var f=b.idCardName,c=c.find('[name\x3d"'+f+'"]');e=e.options.language;b=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.birthDate.language[e]);e=!0;c=c.val();if(""===a||""===f||null===f||""==c||null==c)return!0;if(c){a=a.split("-");e=c.substr(6,8);f=parseInt(e.substr(0,4),10);c=parseInt(e.substr(4,2),10);e=parseInt(e.substr(6,2),10);var k,g;2<a.length?(k=parseInt(a[0],10),g=parseInt(a[1],10),a=parseInt(a[2],10),e=k==f&&g==c&&a==e?!0:!1):2<a[0].length?(bbirthYear=parseInt(a[0],10),g=parseInt(a[1],10),e=k==f&&g==c?!0:!1):(g=parseInt(a[0],10),a=parseInt(a[1],10),e=g==c&&a==e?!0:!1)}return{valid:e,message:b}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.gender=d.extend(d.fn.jQValidator.i18n.gender||{},{"default":"Please enter a valid value",language:{cn:"\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u6027\u522b",en:"Please enter a valid value",other:"Please enter a valid value"}});d.fn.jQValidator.validators.gender={html5Attributes:{idCardName:"",message:"message"},validate:function(e,a,b){var c=e.$form;a.attr("type");a=a.attr("name");a=d.trim(c.find('[name\x3d"'+a+'"]:checked').val());var f=b.idCardName;e=e.options.language;b=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.gender.language[e]);c=c.find('[name\x3d"'+f+'"]').val();e=0;if(""===a||""===f||null===f||""==c||null==c)return!0;2*parseInt(c.charAt(16)/2)!=c.charAt(16)&&(e=1);return{valid:parseInt(a)==e?!0:!1,message:b}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.pwdSafety=d.extend(d.fn.jQValidator.i18n.pwdSafety||{},{"default":"Please enter a password with two or more character types",language:{cn:"\u8bf7\u8f93\u5165\u81f3\u5c11\u5305\u542b\u4e24\u79cd\u5b57\u7b26\u7c7b\u578b\uff08\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u6807\u70b9\u7b26\u53f7\u53ca\u7279\u6b8a\u5b57\u7b26\u7b49\uff09\u7684\u5bc6\u7801",en:"Please enter a password with two or more character types",other:"Please enter a password with two or more character types"}});d.fn.jQValidator.validators.pwdSafety={html5Attributes:{message:"message"},validate:function(e,a,b){a.attr("type");a=d.trim(a.val());e=e.options.language;b=d.fn.jQValidator.helpers.format(b.message||d.fn.jQValidator.i18n.pwdSafety.language[e]);if(""===a)return!0;e=0;6>a.length?a=0:(/[a-z]/.test(a)&&e++,/[A-Z]/.test(a)&&e++,/[0-9]/.test(a)&&e++,RegExp(/[(\ )(\~)(\!)(\@)(\#)(\$)(\%)(\^)(\&)(\*)(\()(\))(\-)(\_)(\+)(\=)(\[)(\])(\{)(\})(\|)(\\)(\;)(\:)(\')(\")(\,)(\.)(\/)(\<)(\>)(\?)(\)]+/).test(a)&&e++,a=e);return{valid:1==a?!1:!0,message:b}}}})(window.jQuery);