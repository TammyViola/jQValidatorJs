/*********
***
*** jQValidator.js
*** 可以兼容ie9+以上的ie浏览器及现代主流浏览器
*** version 2.7.6
*** modify by Tammy  2022.04.02
*** 
*** 删掉敏感词中的 http / https
***
******/(function(d){var e=function(a,c){this.jqVersion="2.7.5";this.$form=d(a);this.options=d.extend({},d.fn.jQValidator._defaults,c);this.$invalidFields=d([]);this.$hiddenButton=this.$submitButton=null;this.STATUS_NOT_VALIDATED="NOT_VALIDATED";this.STATUS_VALIDATING="VALIDATING";this.STATUS_INVALID="INVALID";this.STATUS_VALID="VALID";var b;b=3;for(var f=document.createElement("div"),g=f.all||[];f.innerHTML="\x3c!--[if gt IE "+ ++b+"]\x3e\x3cbr\x3e\x3c![endif]--\x3e",g[0];);b=4<b?b:!b;f=document.createElement("div");this._changeEvent=9!==b&&"oninput"in f?"input":"keyup";this._submitIfValid=null;this._cacheFields={};this._init()};e.prototype={constructor:e,_init:function(){var a=this,c={autoFocus:this.$form.attr("data-bv-autofocus"),isClearForm:this.$form.attr("data-bv-isClearForm"),clearButton:this.$form.attr("data-bv-clearButton"),container:this.$form.attr("data-bv-container"),singleVis:this.$form.attr("data-bv-singleVis"),tipsWay:this.$form.attr("data-bv-tipsWay"),events:{formInit:this.$form.attr("data-bv-events-form-init"),formError:this.$form.attr("data-bv-events-form-error"),formSuccess:this.$form.attr("data-bv-events-form-success"),fieldAdded:this.$form.attr("data-bv-events-field-added"),fieldRemoved:this.$form.attr("data-bv-events-field-removed"),fieldInit:this.$form.attr("data-bv-events-field-init"),fieldError:this.$form.attr("data-bv-events-field-error"),fieldSuccess:this.$form.attr("data-bv-events-field-success"),fieldStatus:this.$form.attr("data-bv-events-field-status"),validatorError:this.$form.attr("data-bv-events-validator-error"),validatorSuccess:this.$form.attr("data-bv-events-validator-success")},excluded:this.$form.attr("data-bv-excluded"),feedbackIcons:{valid:this.$form.attr("data-bv-feedbackicons-valid"),invalid:this.$form.attr("data-bv-feedbackicons-invalid"),validating:this.$form.attr("data-bv-feedbackicons-validating")},group:this.$form.attr("data-bv-group"),live:this.$form.attr("data-bv-live"),language:this.$form.attr("data-bv-language"),message:this.$form.attr("data-bv-message"),onError:this.$form.attr("data-bv-onerror"),onSuccess:this.$form.attr("data-bv-onsuccess"),submitButtons:this.$form.attr("data-bv-submitbuttons"),threshold:this.$form.attr("data-bv-threshold"),trigger:this.$form.attr("data-bv-trigger"),verbose:this.$form.attr("data-bv-verbose"),fields:{}};this.options.isClearForm&&this.$form.find(".form-control").val("").end().find('input[type\x3d"radio"]').removeAttr("checked").removeAttr("selected").end().find('input[type\x3d"checkbox"]').removeAttr("checked").removeAttr("selected").end().find(".frm-file-box .result").html("");var b=!1;d(".form-control").off(this._changeEvent).on("compositionstart",function(){b=!0}).on("compositionend",function(){b=!1}).on(this._changeEvent,function(){if(!b){var c=a.options.group,f=a.options.clearButton,e=d(this).val(),k=d(this).attr("type"),m=d(this).get(0).tagName;d(this).attr("name");if(0<e.length){if("input"==m){if("text"==k||"password"==k||"number"==k||"email"==k||"tel"==k||null==k)m=d.trim(e),e.length>m.length&&d(this).val(m);"number"==k&&(m=d(this).val().replace(/[^\d]/ig,""),d(this).val(m))}"file"!=k&&d(this).val(a.filterField(e));d(this).parents(c).find(f).css("display","block")}else d(this).parents(c).find(f).hide()}});this.$form.attr("novalidate","novalidate").addClass(this.options.elementClass).on("submit.bv",function(c){c.preventDefault();a.validate()}).on("click.bv",this.options.submitButtons,function(){a.$submitButton=d(this);a._submitIfValid=!0}).find("[name], [data-bv-field]").each(function(){var b=d(this),f=b.attr("name")||b.attr("data-bv-field"),e=a._parseOptions(b);e&&(b.attr("data-bv-field",f),c.fields[f]=d.extend({},e,c.fields[f]))});this.$form.find(this.options.clearButton).each(function(){var c=d(this),b=c.parents(".form-group").find("[name], [data-bv-field]"),f=b.attr("name")||b.attr("data-bv-field");c.attr("data-clear-for",f);a.clearField(b,c)});this.options=d.extend(!0,this.options,c);this.$hiddenButton=d("\x3cbutton/\x3e").attr("type","submit").prependTo(this.$form).addClass("bv-hidden-submit").css({display:"none",width:0,height:0});this.$form.on("click.bv",'[type\x3d"submit"]',function(c){c.isDefaultPrevented()||(c=d(c.target),c=c.is('[type\x3d"submit"]')?c.eq(0):c.parent('[type\x3d"submit"]').eq(0),!a.options.submitButtons||c.is(a.options.submitButtons)||c.is(a.$hiddenButton)||a.$form.off("submit.bv").submit())});for(var f in this.options.fields)this._initField(f)},_parseOptions:function(a){var c=a.attr("name")||a.attr("data-bv-field"),b={},f,g,e,l,k,m;for(g in d.fn.jQValidator.validators)if(f=d.fn.jQValidator.validators[g],e="data-bv-"+g.toLowerCase(),l=a.attr(e)+"",(k="function"===typeof f.enableByHtml5?f.enableByHtml5(a):null)&&"false"!==l||!0!==k&&(""===l||"true"===l||e===l.toLowerCase()))for(m in f.html5Attributes=d.extend({},{message:"message",onerror:"onError",onsuccess:"onSuccess"},f.html5Attributes),b[g]=d.extend({},!0===k?{}:k,b[g]),f.html5Attributes)if(e=f.html5Attributes[m],l="data-bv-"+g.toLowerCase()+"-"+m,k=a.attr(l))"true"===k||l===k.toLowerCase()?k=!0:"false"===k&&(k=!1),b[g][e]=k;a={autoFocus:a.attr("data-bv-autofocus"),isClearForm:a.attr("data-bv-isClearForm"),clearButton:a.attr("data-bv-clearButton"),container:a.attr("data-bv-container"),singleVis:a.attr("data-bv-singleVis"),tipsWay:a.attr("data-bv-tipsWay"),excluded:a.attr("data-bv-excluded"),feedbackIcons:a.attr("data-bv-feedbackicons"),group:a.attr("data-bv-group"),language:a.attr("data-bv-language"),message:a.attr("data-bv-message"),onError:a.attr("data-bv-onerror"),onStatus:a.attr("data-bv-onstatus"),onSuccess:a.attr("data-bv-onsuccess"),selector:a.attr("data-bv-selector"),threshold:a.attr("data-bv-threshold"),trigger:a.attr("data-bv-trigger"),verbose:a.attr("data-bv-verbose"),validators:b};f=d.isEmptyObject(a);return!d.isEmptyObject(b)||!f&&this.options.fields&&this.options.fields[c]?(a.validators=b,a):null},_initField:function(a){var c=d([]);switch(typeof a){case "object":c=a;a=a.attr("data-bv-field");break;case "string":c=this.getFieldElements(a),c.attr("data-bv-field",a)}if(0!==c.length&&null!==this.options.fields[a]&&null!==this.options.fields[a].validators){for(var b in this.options.fields[a].validators)d.fn.jQValidator.validators[b]||delete this.options.fields[a].validators[b];null===this.options.fields[a].enabled&&(this.options.fields[a].enabled=!0);for(var f=this,e=c.length,h=c.attr("type"),l=1===e||"radio"===h||"checkbox"===h,k="radio"===h||"checkbox"===h||"file"===h||"SELECT"===c.eq(0).get(0).tagName?"change":this._changeEvent,k=(this.options.fields[a].trigger||this.options.trigger||k).split(" "),m=d.map(k,function(a){return a+".update.bv"}).join(" "),p=0;p<e;p++){var n=c.eq(p),q=this.options.fields[a].group||this.options.group,r=n.parents(q),u=this.options.clearButton;container="function"===typeof(this.options.fields[a].container||this.options.container)?(this.options.fields[a].container||this.options.container).call(this,n,this):this.options.fields[a].container||this.options.container;isShowNormal="normal"==this.options.tipsWay?!0:!1;$message=container?d(container):this._getMessageContainer(n,q);container&&$message.addClass("has-error");$message.find('.help-block[data-bv-validator][data-bv-for\x3d"'+a+'"]').remove();r.find('i[data-bv-icon-for\x3d"'+a+'"]').remove();n.off(m).on(m,function(){var c=d(this).val(),b=d(this).attr("type");0<c.length?("input"!=d(this).get(0).tagName||"text"!=b&&"password"!=b&&"number"!=b&&"email"!=b&&"tel"!=b&&null!=b||(b=d.trim(c),c.length>b.length&&d(this).val(b)),r.find(u).css("display","block")):r.find(u).hide();container&&!isShowNormal&&d(container).hide();if(f.options.fields[a].validators.phone){var e=d(this).attr("data-areaCode"),g=f.options.fields[a].validators.phone.phoneType,b=c.replace(/[^-\d]/g,"");"MB"==g?(e&&(-1!=e.indexOf("852")||-1!=e.indexOf("853"))&&8<b.length&&(b=b.substr(0,8)),11<b.length&&(b=0==b.indexOf("0086")?b.substr(0,15):0==b.indexOf("086")||0==b.indexOf("+86")?b.substr(0,14):0==b.indexOf("00852")||0==b.indexOf("00853")?b.substr(0,13):0==b.indexOf("0852")||0==b.indexOf("0853")||0==b.indexOf("+852")||0==b.indexOf("+853")?b.substr(0,12):b.substr(0,11))):18<b.length&&(b=b.substr(0,18));d(this).val(b)}f.options.fields[a].validators.idCard&&(18>c.length?d(this).val(c.replace(/[^\d]/g,"")):18==c.length?(b=c.substring(0,17),e=c.substring(17,18),e=e.replace(/[^xX\d]/g,""),"x"==e&&(e=e.toUpperCase()),d(this).val(b+e)):(b=c.substring(0,18),d(this).val(b)));f.options.fields[a].validators.bankCard&&(b=c.replace(/[^\d]/ig,""),19<b.length&&(b=b.substr(0,19)),d(this).val(b));f.options.fields[a].validators.QQNumber&&(b=c.replace(/[^\d]/ig,""),15<b.length&&(b=b.substr(0,15)),d(this).val(b));f.updateStatus(d(this),f.STATUS_NOT_VALIDATED)});n.data("bv.messages",$message);for(b in this.options.fields[a].validators)n.data("bv.result."+b,this.STATUS_NOT_VALIDATED),l&&p!==e-1||d("\x3cdiv/\x3e").css("display","none").addClass("help-block").attr("data-bv-validator",b).attr("data-bv-for",a).attr("data-bv-result",this.STATUS_NOT_VALIDATED).html(this._getMessage(a,b)).appendTo($message),"function"===typeof d.fn.jQValidator.validators[b].init&&d.fn.jQValidator.validators[b].init(this,n,this.options.fields[a].validators[b]);container&&("tooltip"==this.options.tipsWay?(d(container).addClass("frm-tooltip"),n.off("blur.container.bv").on("blur.container.bv",function(){f._isTooltip(a)})):d(container).removeClass("frm-tooltip"));if(!1!==this.options.fields[a].feedbackIcons&&"false"!==this.options.fields[a].feedbackIcons&&this.options.feedbackIcons&&this.options.feedbackIcons.validating&&this.options.feedbackIcons.invalid&&this.options.feedbackIcons.valid&&(!l||p===e-1)){r.addClass("has-feedback");q=d("\x3ci/\x3e").css("display","none").addClass("form-control-feedback").attr("data-bv-icon-for",a).insertAfter(n);if("checkbox"===h||"radio"===h){var t=n.parent();t.hasClass(h)?q.insertAfter(t):t.parent().hasClass(h)&&q.insertAfter(t.parent())}0===r.find("label").length&&q.addClass("bv-no-label");0!==r.find(".input-group").length&&q.addClass("bv-icon-input-group").insertAfter(r.find(".input-group").eq(0));l?p===e-1&&c.data("bv.icon",q):n.data("bv.icon",q)}}c.on(this.options.events.fieldSuccess,function(a,b){var c=f.getOptions(b.field,null,"onSuccess");c&&d.fn.jQValidator.helpers.call(c,[a,b])}).on(this.options.events.fieldError,function(a,b){var c=f.getOptions(b.field,null,"onError");c&&d.fn.jQValidator.helpers.call(c,[a,b])}).on(this.options.events.fieldStatus,function(a,b){var c=f.getOptions(b.field,null,"onStatus");c&&d.fn.jQValidator.helpers.call(c,[a,b])}).on(this.options.events.validatorError,function(a,b){var c=f.getOptions(b.field,b.validator,"onError");c&&d.fn.jQValidator.helpers.call(c,[a,b])}).on(this.options.events.validatorSuccess,function(a,b){var c=f.getOptions(b.field,b.validator,"onSuccess");c&&d.fn.jQValidator.helpers.call(c,[a,b])});m=d.map(k,function(a){return a+".live.bv"}).join(" ");switch(this.options.live){case "submitted":break;case "disabled":c.off(m);break;case "blurred":c.off(m).on("blur",function(){f._exceedThreshold(d(this))&&f.validateField(d(this))});break;default:c.off(m).on(m,function(){f._exceedThreshold(d(this))&&f.validateField(d(this))})}c.trigger(d.Event(this.options.events.fieldInit),{bv:this,field:a,element:c})}},_isTooltip:function(a){var c=this.options.container;a=d('.help-block[data-bv-for\x3d"'+a+'"][data-bv-result\x3d"'+this.STATUS_INVALID+'"]');this.$form.find(".help-block[data-bv-validator]").hide();0<a.length?(a.first().show(),a=d(c).outerWidth()/2*-1,a=/msie [6|7|8]/i.test(navigator.userAgent)?a:0,d(c).css("margin-left",a).stop(!0,!0).fadeIn(500,function(){setTimeout(function(){d(c).fadeOut(500)},3E3)})):d(c).hide()},_getMessage:function(a,c){if(!(this.options.fields[a]&&d.fn.jQValidator.validators[c]&&this.options.fields[a].validators&&this.options.fields[a].validators[c]))return"";var b=this.options.fields[a].validators[c];switch(!0){case !!b.message:return b.message;case !!this.options.fields[a].message:return this.options.fields[a].message;case !!d.fn.jQValidator.i18n[c]:return d.fn.jQValidator.i18n[c]["default"];default:return this.options.message}},_getMessageContainer:function(a,c){var b=a.parent();if(b.is(c))return b;var d=b.attr("class");if(!d||"form-group-cell"!=d&&"form-group-bd"!=d)return this._getMessageContainer(b,c);for(var d=d.split(" "),e=d.length;0<e;)return/^col-(xs|sm|md|lg)-\d+$/.test(d[0])||/^col-(xs|sm|md|lg)-offset-\d+$/.test(d[0]),b;return this._getMessageContainer(b,c)},_submit:function(){var a=this.isValid(),c=d.Event(a?this.options.events.formSuccess:this.options.events.formError);this.$form.trigger(c);this.$submitButton&&(a?this._onSuccess(c):this._onError(c))},_isExcluded:function(a){var c=a.attr("data-bv-excluded"),b=a.attr("data-bv-field")||a.attr("name");switch(!0){case !!b&&this.options.fields&&this.options.fields[b]&&("true"===this.options.fields[b].excluded||!0===this.options.fields[b].excluded):case "true"===c:case ""===c:return!0;case !!b&&this.options.fields&&this.options.fields[b]&&("false"===this.options.fields[b].excluded||!1===this.options.fields[b].excluded):case "false"===c:return!1;default:if(this.options.excluded)for("string"===typeof this.options.excluded&&(this.options.excluded=d.map(this.options.excluded.split(","),function(a){return d.trim(a)})),c=this.options.excluded.length,b=0;b<c;b++)if("string"===typeof this.options.excluded[b]&&a.is(this.options.excluded[b])||"function"===typeof this.options.excluded[b]&&!0===this.options.excluded[b].call(this,a,this))return!0;return!1}},_exceedThreshold:function(a){var c=a.attr("data-bv-field");return(c=this.options.fields[c].threshold||this.options.threshold)?-1!==d.inArray(a.attr("type"),"button checkbox file hidden image radio reset submit".split(" "))||a.val().length>=c:!0},_onError:function(a){if(!a.isDefaultPrevented()){if("submitted"===this.options.live){this.options.live="enabled";var c=this,b;for(b in this.options.fields)(function(a){a=c.getFieldElements(a);if(a.length){var f=d(a[0]).attr("type"),f="radio"===f||"checkbox"===f||"file"===f||"SELECT"===d(a[0]).get(0).tagName?"change":c._changeEvent,f=d.map((c.options.fields[b].trigger||c.options.trigger||f).split(" "),function(a){return a+".live.bv"}).join(" ");a.off(f).on(f,function(){c._exceedThreshold(d(this))&&c.validateField(d(this))})}})(b)}for(a=0;a<this.$invalidFields.length;a++){var f=this.$invalidFields.eq(a);if(this._isOptionEnabled(f.attr("data-bv-field"),"autoFocus")){f.focus();break}}}},_onSuccess:function(a){a.isDefaultPrevented()||this.disableSubmitButtons(!0).defaultSubmit()},_onFieldValidated:function(a,c){var b=a.attr("data-bv-field"),f=this.options.fields[b].validators,e={},h=0,l={bv:this,field:b,element:a,validator:c,result:a.data("bv.response."+c)};if(c)switch(a.data("bv.result."+c)){case this.STATUS_INVALID:a.trigger(d.Event(this.options.events.validatorError),l);break;case this.STATUS_VALID:a.trigger(d.Event(this.options.events.validatorSuccess),l)}e[this.STATUS_NOT_VALIDATED]=0;e[this.STATUS_VALIDATING]=0;e[this.STATUS_INVALID]=0;e[this.STATUS_VALID]=0;for(var k in f)if(!1!==f[k].enabled){h++;var m=a.data("bv.result."+k);m&&e[m]++}e[this.STATUS_VALID]===h?(this.$invalidFields=this.$invalidFields.not(a),a.trigger(d.Event(this.options.events.fieldSuccess),l)):(0===e[this.STATUS_NOT_VALIDATED]||!this._isOptionEnabled(b,"verbose"))&&0===e[this.STATUS_VALIDATING]&&0<e[this.STATUS_INVALID]&&(this.$invalidFields=this.$invalidFields.add(a),a.trigger(d.Event(this.options.events.fieldError),l))},_isOptionEnabled:function(a,c){return!this.options.fields[a]||"true"!==this.options.fields[a][c]&&!0!==this.options.fields[a][c]?!this.options.fields[a]||"false"!==this.options.fields[a][c]&&!1!==this.options.fields[a][c]?"true"===this.options[c]||!0===this.options[c]:!1:!0},getFieldElements:function(a){this._cacheFields[a]||(this._cacheFields[a]=this.options.fields[a]&&this.options.fields[a].selector?d(this.options.fields[a].selector):this.$form.find('[name\x3d"'+a+'"]'));return this._cacheFields[a]},getOptions:function(a,c,b){if(!a)return b?this.options[b]:this.options;"object"===typeof a&&(a=a.attr("data-bv-field"));if(!this.options.fields[a])return null;a=this.options.fields[a];return c?a.validators&&a.validators[c]?b?a.validators[c][b]:a.validators[c]:null:b?a[b]:a},disableSubmitButtons:function(a){a?"disabled"!==this.options.live&&this.$form.find(this.options.submitButtons).attr("disabled","disabled"):this.$form.find(this.options.submitButtons).removeAttr("disabled");return this},validate:function(){if(!this.options.fields)return this;this.disableSubmitButtons(!0);this._submitIfValid=!1;for(var a in this.options.fields)this.validateField(a);this._submit();this._submitIfValid=!0;return this},validateField:function(a){var c=d([]);switch(typeof a){case "object":c=a;a=a.attr("data-bv-field");break;case "string":c=this.getFieldElements(a)}if(0===c.length||!this.options.fields[a]||!1===this.options.fields[a].enabled)return this;for(var b=this,f=c.attr("type"),e="radio"===f||"checkbox"===f?1:c.length,h="radio"===f||"checkbox"===f,f=this.options.fields[a].validators,l=this._isOptionEnabled(a,"verbose"),k,m,p=0;p<e;p++){var n=c.eq(p);if(!this._isExcluded(n)){var q=!1;for(k in f){n.data("bv.dfs."+k)&&n.data("bv.dfs."+k).reject();if(q)break;n.data("bv.result."+k);this.updateStatus(h?a:n,this.STATUS_VALID,k);n.data("bv.result."+k,this.STATUS_VALIDATING);m=d.fn.jQValidator.validators[k].validate(this,n,f[k]);if("object"===typeof m&&m.resolve)this.updateStatus(h?a:n,this.STATUS_VALIDATING,k),n.data("bv.dfs."+k,m),m.done(function(a,c,d){a.removeData("bv.dfs."+c).data("bv.response."+c,d);d.message&&b.updateMessage(a,c,d.message);b.updateStatus(h?a.attr("data-bv-field"):a,d.valid?b.STATUS_VALID:b.STATUS_INVALID,c);d.valid&&!0===b._submitIfValid?b._submit():d.valid||l||(q=!0)});else if("object"===typeof m&&void 0!==m.valid&&void 0!==m.message){if(n.data("bv.response."+k,m),this.updateMessage(h?a:n,k,m.message),this.updateStatus(h?a:n,m.valid?this.STATUS_VALID:this.STATUS_INVALID,k),!m.valid&&!l)break}else if("boolean"===typeof m&&(n.data("bv.response."+k,m),this.updateStatus(h?a:n,m?this.STATUS_VALID:this.STATUS_INVALID,k),!m&&!l))break}}}this.options.singleVis&&(a=d('.help-block[data-bv-for\x3d"'+a+'"][data-bv-result\x3d"'+this.STATUS_INVALID+'"]'),this.$form.find(".help-block[data-bv-validator]").hide(),a.first().show());return this},updateMessage:function(a,c,b){var f=d([]);switch(typeof a){case "object":f=a;a=a.attr("data-bv-field");break;case "string":f=this.getFieldElements(a)}f.each(function(){d(this).data("bv.messages").find('.help-block[data-bv-validator\x3d"'+c+'"][data-bv-for\x3d"'+a+'"]').html(b)})},updateStatus:function(a,c,b){var f=d([]);switch(typeof a){case "object":f=a;a=a.attr("data-bv-field");break;case "string":f=this.getFieldElements(a)}c===this.STATUS_NOT_VALIDATED&&(this._submitIfValid=!1);for(var e=f.attr("type"),h=this.options.fields[a].group||this.options.group,e="radio"===e||"checkbox"===e?1:f.length,l=0;l<e;l++){var k=f.eq(l);if(!this._isExcluded(k)){var m=k.parents(h),p=k.data("bv.messages").find('.help-block[data-bv-validator][data-bv-for\x3d"'+a+'"]'),n=b?p.filter('[data-bv-validator\x3d"'+b+'"]'):p,q=k.data("bv.icon");"function"===typeof(this.options.fields[a].container||this.options.container)&&(this.options.fields[a].container||this.options.container).call(this,k,this);if(b)k.data("bv.result."+b,c);else for(var r in this.options.fields[a].validators)k.data("bv.result."+r,c);n.attr("data-bv-result",c);switch(c){case this.STATUS_VALIDATING:this.disableSubmitButtons(!0);m.removeClass("has-success").removeClass("has-error");q&&q.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).addClass(this.options.feedbackIcons.validating).show();break;case this.STATUS_INVALID:this.disableSubmitButtons(!0);m.removeClass("has-success").addClass("has-error");q&&q.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.validating).addClass(this.options.feedbackIcons.invalid).show();break;case this.STATUS_VALID:p=0===p.filter('[data-bv-result\x3d"'+this.STATUS_NOT_VALIDATED+'"]').length?p.filter('[data-bv-result\x3d"'+this.STATUS_VALID+'"]').length===p.length:null;null!==p&&(this.disableSubmitButtons(this.$submitButton?!this.isValid():!p),q&&q.removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).removeClass(this.options.feedbackIcons.valid).addClass(p?this.options.feedbackIcons.valid:this.options.feedbackIcons.invalid).show());m.removeClass("has-error has-success").addClass(this.isValidContainer(m)?"has-success":"has-error");break;default:this.disableSubmitButtons(!1),m.removeClass("has-success").removeClass("has-error"),q&&q.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).hide()}c===this.STATUS_INVALID?n.show():n.hide();k.trigger(d.Event(this.options.events.fieldStatus),{bv:this,field:a,element:k,status:c});this._onFieldValidated(k,b)}}return this},isValid:function(){for(var a in this.options.fields)if(!this.isValidField(a)){for(var c=0;c<this.$invalidFields.length;c++){var b=this.$invalidFields.eq(c);b.parents(this.options.group);var d=this._isOptionEnabled(b.attr("data-bv-field"),"autoFocus"),e="tooltip"==this.options.tipsWay?!0:!1;this.options.singleVis&&(this.$form.find(".help-block[data-bv-validator]").hide(),this.$form.find('.help-block[data-bv-for\x3d"'+a+'"][data-bv-result\x3d"'+this.STATUS_INVALID+'"]').first().show());e&&this._isTooltip(a);if(d){b.focus();break}}return!1}return!0},isValidField:function(a){var c=d([]);switch(typeof a){case "object":c=a;a=a.attr("data-bv-field");break;case "string":c=this.getFieldElements(a)}if(0===c.length||!this.options.fields[a]||!1===this.options.fields[a].enabled)return!0;for(var b=c.attr("type"),b="radio"===b||"checkbox"===b?1:c.length,e,g,h,l=0;l<b;l++)if(e=c.eq(l),!this._isExcluded(e))for(g in this.options.fields[a].validators)if(!1!==this.options.fields[a].validators[g].enabled&&(h=e.data("bv.result."+g),h!==this.STATUS_VALID))return!1;return!0},isValidContainer:function(a){var c=this,b={};a="string"===typeof a?d(a):a;if(0===a.length)return!0;a.find("[data-bv-field]").each(function(){var a=d(this),e=a.attr("data-bv-field");c._isExcluded(a)||b[e]||(b[e]=a)});for(var e in b)if(0<b[e].data("bv.messages").find('.help-block[data-bv-validator][data-bv-for\x3d"'+e+'"]').filter('[data-bv-result\x3d"'+this.STATUS_INVALID+'"]').length)return!1;return!0},defaultSubmit:function(){this.$submitButton&&d("\x3cinput/\x3e").attr("type","hidden").attr("data-bv-submit-hidden","").attr("name",this.$submitButton.attr("name")).val(this.$submitButton.val()).appendTo(this.$form);this.$form.off("submit.bv").submit()},getInvalidFields:function(){return this.$invalidFields},getSubmitButton:function(){return this.$submitButton},getMessages:function(a,c){var b=this,e=[],g=d([]);switch(!0){case a&&"object"===typeof a:g=a;break;case a&&"string"===typeof a:var h=this.getFieldElements(a);0<h.length&&(g=h.attr("type"),g="radio"===g||"checkbox"===g?h.eq(0):h);break;default:g=this.$invalidFields}var l=c?'[data-bv-validator\x3d"'+c+'"]':"";g.each(function(){e=e.concat(d(this).data("bv.messages").find('.help-block[data-bv-for\x3d"'+d(this).attr("data-bv-field")+'"][data-bv-result\x3d"'+b.STATUS_INVALID+'"]'+l).map(function(){var a=d(this).attr("data-bv-validator"),c=d(this).attr("data-bv-for");return!1===b.options.fields[c].validators[a].enabled?"":d(this).html()}).get())});return e},updateOption:function(a,c,b,d){"object"===typeof a&&(a=a.attr("data-bv-field"));this.options.fields[a]&&this.options.fields[a].validators[c]&&(this.options.fields[a].validators[c][b]=d,this.updateStatus(a,this.STATUS_NOT_VALIDATED,c));return this},addField:function(a,c){var b=d([]);switch(typeof a){case "object":b=a;a=a.attr("data-bv-field")||a.attr("name");break;case "string":delete this._cacheFields[a],b=this.getFieldElements(a)}b.attr("data-bv-field",a);for(var e=b.attr("type"),g="radio"===e||"checkbox"===e?1:b.length,h=0;h<g;h++){var l=b.eq(h),k=this._parseOptions(l),k=null===k?c:d.extend(!0,c,k);this.options.fields[a]=d.extend(!0,this.options.fields[a],k);this._cacheFields[a]=this._cacheFields[a]?this._cacheFields[a].add(l):l;this._initField("checkbox"===e||"radio"===e?a:l)}this.disableSubmitButtons(!1);this.$form.trigger(d.Event(this.options.events.fieldAdded),{field:a,element:b,options:this.options.fields[a]});return this},removeField:function(a){var c=d([]);switch(typeof a){case "object":c=a;a=a.attr("data-bv-field")||a.attr("name");c.attr("data-bv-field",a);break;case "string":c=this.getFieldElements(a)}if(0===c.length)return this;for(var b=c.attr("type"),e="radio"===b||"checkbox"===b?1:c.length,g=0;g<e;g++){var h=c.eq(g);this.$invalidFields=this.$invalidFields.not(h);this._cacheFields[a]=this._cacheFields[a].not(h);h.parents(".form-group").removeClass("has-error").find(".help-block").hide()}this._cacheFields[a]&&0!==this._cacheFields[a].length||delete this.options.fields[a];"checkbox"!==b&&"radio"!==b||this._initField(a);this.disableSubmitButtons(!1);this.$form.trigger(d.Event(this.options.events.fieldRemoved),{field:a,element:c});return this},clearField:function(a,c){var b=a,e=b.parents(".form-group").find(".result");a=b.attr("name")||b.attr("data-bv-field");var g=b.attr("type"),h=b.get(0).tagName;isSingleVis=this.options.singleVis;var l=this,k=this.options;c.on("click.bv",function(){"input"==h?"text"==g||"password"==g||"number"==g||"email"==g||"tel"==g||null==g?b.val("").focus():b.val(""):b.val("").focus();e&&e.html("");isSingleVis&&(l.$form.find(".help-block[data-bv-validator]").hide(),l.$form.find('.help-block[data-bv-for\x3d"'+a+'"][data-bv-result\x3d"notEmpty"]').show());d(this).hide();null!==k.fields[a]&&null!==k.fields[a].validators&&null!==k.fields[a].validators.notEmpty&&l.updateStatus(b,l.STATUS_INVALID,"notEmpty")});return this},filterField:function(a){for(var c="alert confirm prompt embed script onload position iframe location href meta object document onmouseover write autofocus onfocus SELECT like UNION UPDATE TRUNCATE".split(" "),b,d=0;d<c.length;d++)b=a.replace(new RegExp(c[d],"gi"),""),-1!=b&&(a=b);return a},resetField:function(a,c){var b=d([]);switch(typeof a){case "object":b=a;a=a.attr("data-bv-field");break;case "string":b=this.getFieldElements(a)}var e=b.length;if(this.options.fields[a])for(var g=0;g<e;g++)for(var h in this.options.fields[a].validators)b.eq(g).removeData("bv.dfs."+h);this.updateStatus(a,this.STATUS_NOT_VALIDATED);c&&(e=b.attr("type"),"radio"===e||"checkbox"===e?b.removeAttr("checked").removeAttr("selected"):b.val(""));return this},resetForm:function(a){for(var c in this.options.fields)this.resetField(c,a);this.$invalidFields=d([]);this.$submitButton=null;this.destroy();this.$form.find(".form-control").val("").end().find('input[type\x3d"radio"]').removeAttr("checked").removeAttr("selected").end().find('input[type\x3d"checkbox"]').removeAttr("checked").removeAttr("selected").end().find(".frm-file-box .result").html("");d(this.options.clearButton).hide();this.disableSubmitButtons(!1);return this},revalidateField:function(a){this.updateStatus(a,this.STATUS_NOT_VALIDATED).validateField(a);return this},enableFieldValidators:function(a,c,b){var d=this.options.fields[a].validators;if(b&&d&&d[b]&&d[b].enabled!==c)this.options.fields[a].validators[b].enabled=c,this.updateStatus(a,this.STATUS_NOT_VALIDATED,b);else if(!b&&this.options.fields[a].enabled!==c){this.options.fields[a].enabled=c;for(var e in d)this.enableFieldValidators(a,c,e)}return this},getDynamicOption:function(a,c){var b="string"===typeof a?this.getFieldElements(a):a,e=b.val();if("function"===typeof c)return d.fn.jQValidator.helpers.call(c,[e,this,b]);if("string"===typeof c){var g=this.getFieldElements(c);return g.length?g.val():d.fn.jQValidator.helpers.call(c,[e,this,b])||c}return null},destroy:function(){var a,c,b,e,g,h;for(a in this.options.fields){c=this.getFieldElements(a);h=this.options.fields[a].group||this.options.group;for(var l=0;l<c.length;l++){b=c.eq(l);b.data("bv.messages").find('.help-block[data-bv-validator][data-bv-for\x3d"'+a+'"]').remove().end().end().removeData("bv.messages").parents(h).removeClass("has-feedback has-error has-success").end().off(".bv").removeAttr("data-bv-field");if(g=b.data("bv.icon"))"function"===typeof(this.options.fields[a].container||this.options.container)&&(this.options.fields[a].container||this.options.container).call(this,b,this),g.remove();b.removeData("bv.icon");for(e in this.options.fields[a].validators)b.data("bv.dfs."+e)&&b.data("bv.dfs."+e).reject(),b.removeData("bv.result."+e).removeData("bv.response."+e).removeData("bv.dfs."+e),"function"===typeof d.fn.jQValidator.validators[e].destroy&&d.fn.jQValidator.validators[e].destroy(this,b,this.options.fields[a].validators[e])}}this.disableSubmitButtons(!1);this.$hiddenButton.remove();this.$form.removeClass(this.options.elementClass).off(".bv").removeData("jQValidator").find("[data-bv-submit-hidden]").remove().end().find('[type\x3d"submit"]').off("click.bv")}};d.fn.jQValidator=function(a){var c=arguments;return this.each(function(){var b=d(this),f=b.data("jQValidator"),g="object"===typeof a&&a;f||(f=new e(this,g),b.data("jQValidator",f));"string"===typeof a&&f[a].apply(f,Array.prototype.slice.call(c,1))})};d.fn.jQValidator._defaults={autoFocus:!0,isClearForm:!0,clearButton:null,container:null,singleVis:!0,tipsWay:"normal",elementClass:"bv-form",events:{formInit:"init.form.bv",formError:"error.form.bv",formSuccess:"success.form.bv",fieldAdded:"added.field.bv",fieldRemoved:"removed.field.bv",fieldInit:"init.field.bv",fieldError:"error.field.bv",fieldSuccess:"success.field.bv",fieldStatus:"status.field.bv",validatorError:"error.validator.bv",validatorSuccess:"success.validator.bv"},excluded:[":disabled",":hidden",":not(:visible)"],fields:null,group:".form-group",live:"enabled",message:"This value is not valid",language:"cn",submitButtons:'[type\x3d"submit"]',threshold:null,verbose:!0};d.fn.jQValidator.validators={};d.fn.jQValidator.i18n={};d.fn.jQValidator.Constructor=e;d.fn.jQValidator.helpers={call:function(a,c){if("function"===typeof a)return a.apply(this,c);if("string"===typeof a){"()"===a.substring(a.length-2)&&(a=a.substring(0,a.length-2));for(var b=a.split("."),d=b.pop(),e=window,h=0;h<b.length;h++)e=e[b[h]];return"undefined"===typeof e[d]?null:e[d].apply(this,c)}},format:function(a,c){d.isArray(c)||(c=[c]);for(var b in c)a=a.replace("%s",c[b]);return a},date:function(a,c,b,d){if(isNaN(a)||isNaN(c)||isNaN(b)||2<b.length||2<c.length||4<a.length)return!1;b=parseInt(b,10);c=parseInt(c,10);a=parseInt(a,10);if(1E3>a||9999<a||0>=c||12<c)return!1;var e=[31,28,31,30,31,30,31,31,30,31,30,31];if(0===a%400||0!==a%100&&0===a%4)e[1]=29;if(0>=b||b>e[c-1])return!1;if(!0===d){var h=new Date;d=h.getFullYear();e=h.getMonth();h=h.getDate();return a<d||a===d&&c-1<e||a===d&&c-1===e&&b<h}return!0},luhn:function(a){for(var c=a.length,b=0,d=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],e=0;c--;)e+=d[b][parseInt(a.charAt(c),10)],b^=1;return 0===e%10&&0<e},mod11And10:function(a){for(var c=5,b=a.length,d=0;d<b;d++)c=(2*(c||10)%11+parseInt(a.charAt(d),10))%10;return 1===c},mod37And36:function(a,c){c=c||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var b=c.length,d=a.length,e=Math.floor(b/2),h=0;h<d;h++)e=(2*(e||b)%(b+1)+c.indexOf(a.charAt(h)))%b;return 1===e}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.notEmpty=d.extend(d.fn.jQValidator.i18n.notEmpty||{},{"default":"This field is required",language:{cn:"\u6b64\u9879\u4e3a\u5fc5\u586b\u9879",en:"This field is required",other:"This field is required"}});d.fn.jQValidator.validators.notEmpty={enableByHtml5:function(d){d=d.attr("required")+"";return"required"===d||"true"===d},validate:function(e,a,c){var b=a.attr("type"),f=a.val(),g=e.options.language;mssg=d.fn.jQValidator.helpers.format(c.message||d.fn.jQValidator.i18n.notEmpty.language[g]);if("radio"===b||"checkbox"===b)return{valid:0<e.getFieldElements(a.attr("data-bv-field")).filter(":checked").length,message:mssg};if("number"===b&&a.get(0).validity&&!0===a.get(0).validity.badInput)return{valid:!0,message:mssg};f=d.trim(f);return{valid:""!==f?!0:!1,message:mssg}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.regexp=d.extend(d.fn.jQValidator.i18n.regexp||{},{"default":"Please enter a value matching the pattern"});d.fn.jQValidator.validators.regexp={html5Attributes:{message:"message",regexp:"regexp"},enableByHtml5:function(d){return(d=d.attr("pattern"))?{regexp:d}:!1},validate:function(d,a,c){d=a.val();return""===d?!0:("string"===typeof c.regexp?new RegExp(c.regexp):c.regexp).test(d)}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.identical=d.extend(d.fn.jQValidator.i18n.identical||{},{"default":"Please enter the same value"});d.fn.jQValidator.validators.identical={html5Attributes:{message:"message",field:"field",ismain:!1},validate:function(d,a,c){a=a.val();var b=c.ismain;if(""===a)return!0;var f=d.getFieldElements(c.field);return null===f||0===f.length?!0:a===f.val()?(d.updateStatus(c.field,d.STATUS_VALID,"identical"),!0):0==f.val().length||null==f.val()?b?!0:!1:!1}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.different=d.extend(d.fn.jQValidator.i18n.different||{},{"default":"Please enter a different value"});d.fn.jQValidator.validators.different={html5Attributes:{message:"message",field:"field"},validate:function(d,a,c){a=a.val();if(""===a)return!0;c=c.field.split(",");for(var b=!0,f=0;f<c.length;f++){var g=d.getFieldElements(c[f]);if(null!=g&&0!==g.length){var h=g.val();a===h?b=!1:""!==h&&d.updateStatus(g,d.STATUS_VALID,"different")}}return b}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.emailAddress=d.extend(d.fn.jQValidator.i18n.emailAddress||{},{"default":"Exzample: name@domain.com",language:{cn:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u5730\u5740",en:"Exzample: name@domain.com",other:"Exzample:name@domain.com"}});d.fn.jQValidator.validators.emailAddress={html5Attributes:{message:"message",multiple:"multiple",separator:"separator"},enableByHtml5:function(d){return"email"===d.attr("type")},validate:function(e,a,c){a=a.val();e=e.options.language;e=d.fn.jQValidator.helpers.format(c.message||d.fn.jQValidator.i18n.emailAddress.language[e]);if(""===a)return!0;var b=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!0===c.multiple||"true"===c.multiple){c=this._splitEmailAddresses(a,c.separator||/[,;]/);for(a=0;a<c.length;a++)if(!b.test(c[a]))return{valid:!1,message:e};return!0}return{valid:b.test(a),message:e}},_splitEmailAddresses:function(d,a){for(var c=d.split(/"/),b=c.length,f=[],g="",h=0;h<b;h++)if(0===h%2){var l=c[h].split(a),k=l.length;if(1===k)g+=l[0];else{f.push(g+l[0]);for(g=1;g<k-1;g++)f.push(l[g]);g=l[k-1]}}else g+='"'+c[h],h<b-1&&(g+='"');f.push(g);return f}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.file=d.extend(d.fn.jQValidator.i18n.file||{},{"default":"Please choose a valid file",typeMssg:{cn:"\u8bf7\u4e0a\u4f20\u6b63\u786e\u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u5982\uff1a%s",en:"Exzample: %s",other:"Exzample: %s"}});d.fn.jQValidator.validators.file={html5Attributes:{extension:"extension",maxfiles:"maxFiles",minfiles:"minFiles",maxsize:"maxSize",minsize:"minSize",maxtotalsize:"maxTotalSize",mintotalsize:"minTotalSize",message:"message",type:"type"},validate:function(e,a,c){var b=a.val();e=e.options.language;e=d.fn.jQValidator.helpers.format(c.message||d.fn.jQValidator.i18n.file.typeMssg[e],c.extension);if(""===b)return!0;var f=c.extension?c.extension.replace(/\s+/g,"").toLowerCase().split(","):null,g=c.type?c.type.replace(/\s+/g,"").toLowerCase().split(","):null;if(window.File&&window.FileList&&window.FileReader){var b=a.get(0).files,h=b.length,l=0;if(c.maxFiles&&h>parseInt(c.maxFiles,10)||c.minFiles&&h<parseInt(c.minFiles,10))return{valid:!1,message:e};for(var k=0;k<h;k++)if(l+=b[k].size,a=b[k].name.substr(b[k].name.lastIndexOf(".")+1),c.minSize&&b[k].size<parseInt(c.minSize,10)||c.maxSize&&b[k].size>parseInt(c.maxSize,10)||f&&-1===d.inArray(a.toLowerCase(),f)||b[k].type&&g&&-1===d.inArray(b[k].type.toLowerCase(),g))return{valid:!1,message:e};if(c.maxTotalSize&&l>parseInt(c.maxTotalSize,10)||c.minTotalSize&&l<parseInt(c.minTotalSize,10))return{valid:!1,message:e}}else if(a=b.substr(b.lastIndexOf(".")+1),f&&-1===d.inArray(a.toLowerCase(),f))return{valid:!1,message:e};return!0}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.lessThan=d.extend(d.fn.jQValidator.i18n.lessThan||{},{"default":"Please enter a value less than or equal to %s",notInclusive:"Please enter a value less than %s"});d.fn.jQValidator.validators.lessThan={html5Attributes:{message:"message",value:"value",inclusive:"inclusive"},enableByHtml5:function(d){var a=d.attr("type");return(d=d.attr("max"))&&"date"!==a?{value:d}:!1},validate:function(e,a,c){var b=a.val();if(""===b)return!0;b=this._format(b);if(!d.isNumeric(b))return!1;e=d.isNumeric(c.value)?c.value:e.getDynamicOption(a,c.value);a=this._format(e);b=parseFloat(b);return!0===c.inclusive||void 0===c.inclusive?{valid:b<=a,message:d.fn.jQValidator.helpers.format(c.message||d.fn.jQValidator.i18n.lessThan["default"],e)}:{valid:b<a,message:d.fn.jQValidator.helpers.format(c.message||d.fn.jQValidator.i18n.lessThan.notInclusive,e)}},_format:function(d){return(d+"").replace(",",".")}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.remote=d.extend(d.fn.jQValidator.i18n.remote||{},{"default":"Please enter a valid value"});d.fn.jQValidator.validators.remote={html5Attributes:{message:"message",name:"name",type:"type",url:"url",data:"data",delay:"delay"},destroy:function(d,a,c){a.data("bv.remote.timer")&&(clearTimeout(a.data("bv.remote.timer")),a.removeData("bv.remote.timer"))},validate:function(e,a,c){function b(){var b=d.ajax({type:m,headers:p,url:k,dataType:"json",data:l});b.then(function(b){b.valid=!0===b.result.valid||"true"===b.result.valid;g.resolve(a,"remote",b)});g.fail(function(){b.abort()});return g}var f=a.val(),g=new d.Deferred;if(""===f)return g.resolve(a,"remote",{valid:!0}),g;var h=a.attr("data-bv-field"),l=c.data||{},k=c.url,m=c.type||"GET",p=c.headers||{};"function"===typeof l&&(l=l.call(this,e));"string"===typeof l&&(l=JSON.parse(l));"function"===typeof k&&(k=k.call(this,e));l[c.name||h]=f;return c.delay?(a.data("bv.remote.timer")&&clearTimeout(a.data("bv.remote.timer")),a.data("bv.remote.timer",setTimeout(b,c.delay)),g):b()}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.stringLength=d.extend(d.fn.jQValidator.i18n.stringLength||{},{"default":"Please enter a value with valid length",language:{cn:{less:"\u8bf7\u8f93\u5165\u5c0f\u4e8e\u6216\u7b49\u4e8e%s\u4f4d\u5b57\u7b26\u957f\u5ea6\u7684\u503c",more:"\u8bf7\u8f93\u5165\u5927\u4e8e\u6216\u7b49\u4e8e%s\u4f4d\u5b57\u7b26\u957f\u5ea6\u7684\u503c",between:"\u8bf7\u8f93\u5165%s\u5230%s\u4f4d\u5b57\u7b26\u957f\u5ea6\u7684\u503c"},en:{less:"Please enter less than %s characters",more:"Please enter more than %s characters",between:"Please enter value between %s and %s characters long"},other:{less:"Please enter less than %s characters",more:"Please enter more than %s characters",between:"Please enter value between %s and %s characters long"}}});d.fn.jQValidator.validators.stringLength={html5Attributes:{message:"message",min:"min",max:"max",trim:"trim",utf8bytes:"utf8Bytes"},enableByHtml5:function(e){var a={},c=e.attr("maxlength");e=e.attr("minlength");c&&(a.max=parseInt(c,10));e&&(a.min=parseInt(e,10));return d.isEmptyObject(a)?!1:a},validate:function(e,a,c){var b=a.val(),f=e.options.language,b=b.replace(/[ ]/g,"");if(""===b)return!0;var g=d.isNumeric(c.min)?c.min:e.getDynamicOption(a,c.min);e=d.isNumeric(c.max)?c.max:e.getDynamicOption(a,c.max);if(c.utf8Bytes){a=b.length;for(var h=b.length-1;0<=h;h--){var l=b.charCodeAt(h);127<l&&2047>=l?a++:2047<l&&65535>=l&&(a+=2);56320<=l&&57343>=l&&h--}b=a}else b=b.length;a=!0;h=c.message||d.fn.jQValidator.i18n.stringLength["default"];if(g&&b<parseInt(g,10)||e&&b>parseInt(e,10))a=!1;switch(!0){case !!g&&!!e:h=d.fn.jQValidator.helpers.format(c.message||d.fn.jQValidator.i18n.stringLength.language[f].between,[parseInt(g,10),parseInt(e,10)]);break;case !!g:h=d.fn.jQValidator.helpers.format(c.message||d.fn.jQValidator.i18n.stringLength.language[f].more,parseInt(g,10));break;case !!e:h=d.fn.jQValidator.helpers.format(c.message||d.fn.jQValidator.i18n.stringLength.language[f].less,parseInt(e,10))}return{valid:a,message:h}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.idCard=d.extend(d.fn.jQValidator.i18n.idCard||{},{"default":"Please enter a valid identification number",language:{cn:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8eab\u4efd\u8bc1\u53f7\u7801",en:"Please enter a valid identification number",other:"Please enter a valid identification number"}});d.fn.jQValidator.validators.idCard={html5Attributes:{message:"message"},validate:function(e,a,c){a=a.val();e=e.options.language;c=d.fn.jQValidator.helpers.format(c.message||d.fn.jQValidator.i18n.idCard.language[e]);if(""===a)return!0;a=d.trim(a);if(!/^\d{17}[\dXx]{1}$/.test(a))return{valid:!1,message:c};var b;18===a.length&&(b=a.substr(6,8));e=parseInt(b.substr(0,4),10);var f=parseInt(b.substr(4,2),10);b=parseInt(b.substr(6,2),10);if(!d.fn.jQValidator.helpers.date(e,f,b))return{valid:!1,message:c};if(18===a.length){b=0;c=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];for(i=0;17>i;i++)b+=parseInt(a.charAt(i),10)*c[i];b=(12-b%11)%11;return("X"!==a.charAt(17).toUpperCase()?parseInt(a.charAt(17),10):10)===b}return{valid:!0,message:c}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.phone=d.extend(d.fn.jQValidator.i18n.phone||{},{"default":"Please enter a valid phone number",phoneTypes:{LD:"\u5ea7\u673a",MB:"\u624b\u673a",ALL:"\u7535\u8bdd"},language:{cn:"\u8bf7\u8f93\u5165\u6709\u6548\u7684%s\u53f7\u7801",en:"Please enter a valid phone number",other:"Please enter a valid phone number"}});d.fn.jQValidator.validators.phone={html5Attributes:{message:"message",phoneType:"phoneType",isOpenHKM:!1},PHONE_TYPE:["LD","MB","ALL"],validate:function(e,a,c){var b=a.val(),f=a.attr("data-areaCode");lang=e.options.language;var g=c.phoneType,h=c.isOpenHKM;c=d.fn.jQValidator.helpers.format(c.message||d.fn.jQValidator.i18n.phone.language[lang],d.fn.jQValidator.i18n.phone.phoneTypes[g]);if(""===b)return!0;if("string"!==typeof g||-1===d.inArray(g,this.PHONE_TYPE))g=e.getDynamicOption(a,g);if(!g||-1===d.inArray(g.toUpperCase(),this.PHONE_TYPE))return{valid:!1,message:c};b=d.trim(b);switch(g.toUpperCase()){case "LD":e=/^(0\d{2,3})?(-)?\d{5,8}(-\d{1,4})?$/.test(b);break;case "MB":e=/^((00|\+)?(86(?:|-| )))?(1[3-9]\d{9}$)|^(([00]{1,2}|\+)?(852(?:|-| )))?(([6|9])\d{7}$)|^(([00]{1,2}|\+)?(853(?:|-| )))?(([6])\d{7}$)/.test(b);break;case "ALL":e=/^((00|\+)?(86(?:|-| )))?((1[3-9]\d{9})|(0\d{2,3})?(-)?\d{5,8}(-\d{1,4})?|(\d{3}[- ]{1}\d{4}[- ]{1}\d{4})|((\d{2,4}[- ]){1}(\d{5,8}|(\d{3,4}[- ]{1}\d{4}))([- ]{1}\d{1,4})?))$/.test(b);break;default:e=/^((00|\+)?(86(?:|-| )))?((1[3|4|5|6|7|8|9]\d{9})|(0\d{2,3})?(-)?\d{5,8}(-\d{1,4})?|(\d{3}[- ]{1}\d{4}[- ]{1}\d{4})|((\d{2,4}[- ]){1}(\d{5,8}|(\d{3,4}[- ]{1}\d{4}))([- ]{1}\d{1,4})?))$/.test(b)}6<b.length&&0==b.indexOf("0000000")&&(e=!1);"MB"!=g.toUpperCase()||h||(e=/^((00|\+)?(86(?:|-| )))?(1[3-9]\d{9}$)/.test(b));f&&"MB"==g.toUpperCase()&&h&&(-1!=f.indexOf("852")&&(e=/^([6|9])\d{7}$/.test(b)),-1!=f.indexOf("853")&&(e=/^([6])\d{7}$/.test(b)));return{valid:e,message:c}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.bankCard=d.extend(d.fn.jQValidator.i18n.bankCard||{},{"default":"Please enter a valid card number",language:{cn:"\u8bf7\u8f93\u516516-19\u4f4d\u5b57\u7b26\u7684\u94f6\u884c\u5361\u53f7",en:"Please enter a valid card number",other:"Please enter a valid card number"}});d.fn.jQValidator.validators.bankCard={html5Attributes:{message:"message"},validate:function(e,a,c){a.attr("type");a=d.trim(a.val());e=e.options.language;c=d.fn.jQValidator.helpers.format(c.message||d.fn.jQValidator.i18n.bankCard.language[e]);e=a.length;return""===a?!0:{valid:15<e&&20>e?/^[0-9]+$/.test(a)?!0:!1:!1,message:c}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.QQNumber=d.extend(d.fn.jQValidator.i18n.QQNumber||{},{"default":"Please enter a valid QQ number",language:{cn:"\u8bf7\u8f93\u5165\u6709\u6548\u7684QQ\u53f7\u7801",en:"Please enter a valid QQ number",other:"Please enter a valid QQ number"}});d.fn.jQValidator.validators.QQNumber={html5Attributes:{message:"message"},validate:function(e,a,c){a.attr("type");a=d.trim(a.val());e=e.options.language;c=d.fn.jQValidator.helpers.format(c.message||d.fn.jQValidator.i18n.QQNumber.language[e]);return""===a?!0:{valid:16>a.length?/^[0-9]+$/.test(a)?!0:!1:!1,message:c}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.birthDate=d.extend(d.fn.jQValidator.i18n.birthDate||{},{"default":"Please enter a valid value",language:{cn:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u51fa\u751f\u65e5\u671f",en:"Please enter a valid value",other:"Please enter a valid value"}});d.fn.jQValidator.validators.birthDate={html5Attributes:{idCardName:"",message:"message"},validate:function(e,a,c){var b=e.$form;a.attr("type");a=d.trim(a.val());var f=c.idCardName,b=b.find('[name\x3d"'+f+'"]');e=e.options.language;c=d.fn.jQValidator.helpers.format(c.message||d.fn.jQValidator.i18n.birthDate.language[e]);e=!0;b=b.val();if(""===a||""===f||null===f||""==b||null==b)return!0;if(b){a=a.split("-");e=b.substr(6,8);f=parseInt(e.substr(0,4),10);b=parseInt(e.substr(4,2),10);e=parseInt(e.substr(6,2),10);var g,h;2<a.length?(g=parseInt(a[0],10),h=parseInt(a[1],10),a=parseInt(a[2],10),e=g==f&&h==b&&a==e?!0:!1):2<a[0].length?(bbirthYear=parseInt(a[0],10),h=parseInt(a[1],10),e=g==f&&h==b?!0:!1):(h=parseInt(a[0],10),a=parseInt(a[1],10),e=h==b&&a==e?!0:!1)}return{valid:e,message:c}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.gender=d.extend(d.fn.jQValidator.i18n.gender||{},{"default":"Please enter a valid value",language:{cn:"\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u6027\u522b",en:"Please enter a valid value",other:"Please enter a valid value"}});d.fn.jQValidator.validators.gender={html5Attributes:{idCardName:"",message:"message"},validate:function(e,a,c){var b=e.$form;a.attr("type");a=a.attr("name");a=d.trim(b.find('[name\x3d"'+a+'"]:checked').val());var f=c.idCardName;e=e.options.language;c=d.fn.jQValidator.helpers.format(c.message||d.fn.jQValidator.i18n.gender.language[e]);b=b.find('[name\x3d"'+f+'"]').val();e=0;if(""===a||""===f||null===f||""==b||null==b)return!0;2*parseInt(b.charAt(16)/2)!=b.charAt(16)&&(e=1);return{valid:parseInt(a)==e?!0:!1,message:c}}}})(window.jQuery);(function(d){d.fn.jQValidator.i18n.pwdSafety=d.extend(d.fn.jQValidator.i18n.pwdSafety||{},{"default":"Please enter a password with two or more character types",language:{cn:"\u8bf7\u8f93\u5165\u81f3\u5c11\u5305\u542b\u4e24\u79cd\u5b57\u7b26\u7c7b\u578b\uff08\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u6807\u70b9\u7b26\u53f7\u53ca\u7279\u6b8a\u5b57\u7b26\u7b49\uff09\u7684\u5bc6\u7801",en:"Please enter a password with two or more character types",other:"Please enter a password with two or more character types"}});d.fn.jQValidator.validators.pwdSafety={html5Attributes:{message:"message"},validate:function(e,a,c){a.attr("type");a=d.trim(a.val());e=e.options.language;c=d.fn.jQValidator.helpers.format(c.message||d.fn.jQValidator.i18n.pwdSafety.language[e]);if(""===a)return!0;e=0;6>a.length?a=0:(/[a-z]/.test(a)&&e++,/[A-Z]/.test(a)&&e++,/[0-9]/.test(a)&&e++,RegExp(/[(\ )(\~)(\!)(\@)(\#)(\$)(\%)(\^)(\&)(\*)(\()(\))(\-)(\_)(\+)(\=)(\[)(\])(\{)(\})(\|)(\\)(\;)(\:)(\')(\")(\,)(\.)(\/)(\<)(\>)(\?)(\)]+/).test(a)&&e++,a=e);return{valid:1==a?!1:!0,message:c}}}})(window.jQuery);
