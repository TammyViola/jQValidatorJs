<!doctype html>
<html class="no-js" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="designer" content=""/>
<meta name="description" content="" />
<meta name="keywords"  content=""/>
<title>表单验证</title>
<link href="../dist/css/module.css" rel="stylesheet" type="text/css"/>
<link href="../dist/css/jQValidator.min.css" rel="stylesheet" type="text/css"/>
<style type="text/css">
	.w500{
		width: 500px;
		margin: 0 auto;
	}
	.global-form-box{
		margin-bottom: 300px;
	}
	.form-control{
		width: 462px;
		height: 24px;
	}
	select.form-control{
		width: 500px;
		height: 40px;
	}
	.frm-btn-group{
		width: 100%;
		background: #fff;
		overflow: hidden;
		text-align: center;
		padding:  30px 10px;
		position: fixed;
		left: 0;
		bottom: 0;
		z-index: 99999;
		border-top: solid 1px #ccc;
		box-shadow: 0 0 5px rgba(0,0,0,.2);
	}
	.frm-btn-group .ctrl{
		min-width: 4em;
		padding: 0 10px;
		display: inline-block;
		vertical-align: top;
		text-align: center;
		font-size: 14px;
		line-height: 30px;
		color: #333;
		border: solid 1px #ccc;
		border-radius: 3px;
		background: #f5f5f5;
		margin: 5px;
	}
	.form-row{
		margin-top: 20px;
	}
	.form-row > .tit{
		font-size: 18px;
		line-height: 24px;
		color: #333;
		font-weight: bold;
	}
</style>
</head>

<body>
	<div class="wrapper">
		<div class="w500">
			<form class="global-form-box">
				<div class="form-group">
					<label class="control-label" for="account"><i class="must">*</i>账号：</label>
					<div class="form-group-cell">
						<div class="frm-ctrl-box">
							<input type="text"  class="form-control" name="account" id="account"/>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="password"><i class="must">*</i>密码：</label>
					<div class="form-group-cell">
						<div class="frm-ctrl-box">
							<input type="password" class="form-control" name="password" id="password"/>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="repassword"><i class="must">*</i>确认密码：</label>
					<div class="form-group-cell">
						<div class="frm-ctrl-box">
							<input type="password" class="form-control" name="repassword" id="repassword"/>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="birth"><i class="must">*</i>出生日期</label>
					<div class="form-group-bd">
						<div class="frm-ctrl-box">
							<input type="text" class="form-control" name="birth" id="birth"/>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="idNumber"><i class="must">*</i>身份证号码：</label>
					<div class="form-group-cell">
						<div class="frm-ctrl-box">
							<input type="text" class="form-control" name="idNumber" id="idNumber"/>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label"><i class="must">*</i>性别：</label>
					<div class="form-group-cell">
						<div class="frm-radio-group">
							<label class="frm-check-box" for="male">
								<input type="radio" name="gender" id="male" value="1">男
							</label>
							<label class="frm-check-box" for="female">
								<input type="radio" name="gender" id="female" value="0">女
							</label>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label"><i class="must">*</i>测试复选框必填：</label>
					<div class="form-group-cell">
						<div class="frm-check-group">
							<label class="frm-check-box" for="check1">
								<input type="checkbox" name="check" id="check1" value="1">1
							</label>
							<label class="frm-check-box" for="check2">
								<input type="checkbox" name="check" id="check2" value="2">2
							</label>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label">测试不在验证范围内的复选框是否能重置：</label>
					<div class="form-group-cell">
						<div class="frm-check-group">
							<label class="frm-check-box" for="check3">
								<input type="checkbox" name="check2" id="check3" value="1">1
							</label>
							<label class="frm-check-box" for="check4">
								<input type="checkbox" name="check2" id="check4" value="2">2
							</label>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label">测试不在验证范围内的单选框是否能重置：</label>
					<div class="form-group-cell">
						<div class="frm-check-group">
							<label class="frm-check-box" for="check5">
								<input type="radio" name="check3" id="check5" value="1">1
							</label>
							<label class="frm-check-box" for="check6">
								<input type="radio" name="check3" id="check6" value="2">2
							</label>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="age">年龄：</label>
					<div class="form-group-bd">
						<div class="frm-ctrl-box">
							<input type="number" pattern="[0-9]*" class="form-control" name="age" id="age"/>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="bankCard">银行卡：</label>
					<div class="form-group-bd">
						<div class="frm-ctrl-box">
							<input type="text" class="form-control" name="bankCard" id="bankCard"/>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="qqNum">QQ：</label>
					<div class="form-group-bd">
						<div class="frm-ctrl-box">
							<input type="text" class="form-control" name="qqNum" id="qqNum"/>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="edu"><i class="must">*</i>学历：</label>
					<div class="form-group-cell">
						<select class="form-control" name="edu" id="edu">
							<option value="">请选择</option>
							<option value="专科">专科</option>
							<option value="本科">本科</option>
							<option value="研究生">研究生</option>
							<option value="博士">博士</option>
						</select>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="tel"><i class="must">*</i>手机号码：</label>
					<div class="form-group-bd">
						<div class="frm-ctrl-box">
							<input type="text" class="form-control" name="tel" id="tel"/>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="phone1">座机号码：</label>
					<div class="form-group-cell">
						<div class="frm-ctrl-box">
							<input type="text" class="form-control" name="phone1" id="phone1"/>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="allTel">电话号码（包含手机和座机号码）：</label>
					<div class="form-group-cell">
						<div class="frm-ctrl-box">
							<input type="text" class="form-control" name="allTel" id="allTel"/>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="email">邮箱：</label>
					<div class="form-group-bd">
						<div class="frm-ctrl-box">
							<input type="text" class="form-control" name="email" id="email"/>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="qq">QQ：</label>
					<div class="form-group-bd">
						<div class="frm-ctrl-box">
							<input type="text" class="form-control" name="qq" id="qq"/>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="addr"><i class="must">*</i>地址：</label>
					<div class="form-group-cell">
						<div class="frm-ctrl-box">
							<textarea type="text" class="form-control" name="addr" id="addr"></textarea>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="note">备注：</label>
					<div class="form-group-cell">
						<div class="frm-ctrl-box">
							<textarea type="text" class="form-control" name="note" id="note"></textarea>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="attachment">附件：</label>
					<div class="form-group-cell">
						<div class="frm-ctrl-box">
							<input type="file" class="form-control" name="attachment" id="attachment"/>
							<a class="frm-ctrl-clear"></a>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="attachment2">附件样式二：</label>
					<div class="form-group-cell">
						<div class="frm-file-box">
							<div class="frm-ctrl-box">
								<div class="result"></div>
								<a class="frm-ctrl-clear"></a>
							</div>
							<div class="frm-ctrl-upload">
								<input class="form-control" type="file" name="attachment2" id="attachment2"/>
								<a class="ctrl">上传附件</a>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
		
		<div class="frm-btn-group">
			<a href="javascript:void(0)" class="ctrl btn-addfield">点击添加</a>
			<a href="javascript:void(0)" class="ctrl btn-removefield">点击移除'工作经历1'验证</a>
			<a href="javascript:void(0)" class="ctrl btn-valid-tel">校验手机号码</a>
			<a href="javascript:void(0)" class="ctrl btn-valid-phone">校验座机号码</a>
			<a href="javascript:void(0)" class="ctrl btn-valid-allTel">校验电话号码</a>
			<a href="javascript:void(0)" class="ctrl btn-valid-id">校验身份证</a>
			<a href="javascript:void(0)" class="ctrl btn-valid-birth">校验出生日期</a>
			<a href="javascript:void(0)" class="ctrl btn-valid-sex">校验性别</a>
			<a href="javascript:void(0)" class="ctrl btn-valid-file">校验附件</a>
			<a href="javascript:void(0)" class="ctrl btn-valid-file2">校验附件2</a>
			<a href="javascript:void(0)" class="ctrl frm-reset">重置</a>
			<a href="javascript:void(0)" class="ctrl frm-submit">提交</a>
		</div>
	</div>
</body>

</html>
<script type="text/javascript" src="../dist/js/jquery.min.js"></script>
<script type="text/javascript" src="../dist/js/jQValidator.min.js"></script>
<script type="text/javascript" src="../dist/js/laydate.js"></script>
<script type="text/javascript" src="js/default.js"></script>
<script type="text/javascript">
	// 出生日期
	var laydateTime;
	laydate.render({
	  elem: '#birth'
	  ,done: function(value, date){
	  	var isValid;
	  	var jQValidator = $(".global-form-box").data('jQValidator');
	  	clearTimeout(laydateTime);
	  	laydateTime = setTimeout(function(){
	  		jQValidator.updateStatus('birth', 'NOT_VALIDATED').validateField('birth');
    		isValid = jQValidator.isValidField('birth');
	  	}, 100); 
	  }
	});

	// 附件样式二
	var fileTime;
	$('#attachment2').on('change', function(){
	    var that = this;
	    var isValid;
	    var jQValidator = $(".global-form-box").data('jQValidator');
	    var isMultiple = $(this).attr('multiple'),  // 是否是多文件上传
	        id = $(this).attr('id');
	    var input = document.getElementById(id);
	    var val = $(that).val(), txt = '' ;

	    if(val){
	        if(!isMultiple){
	            val = val.split('\\');
	            txt = val[val.length-1];
	        }else{
	            var fileList = input.files;
	            for(var i = 0; i < fileList.length; i++){
	                if(i < fileList.length-1){
	                    txt += fileList[i].name + ', ';
	                }else{
	                    txt += fileList[i].name;
	                }
	            }
	        }
	    }
	    $(that).parents('.form-group').find('.result').html(txt);
	    jQValidator.updateStatus('attachment2', 'NOT_VALIDATED').validateField('attachment2');
	    isValid = jQValidator.isValidField('attachment2');
	});
</script>